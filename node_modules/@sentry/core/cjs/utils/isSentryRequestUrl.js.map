{"version":3,"file":"isSentryRequestUrl.js","sources":["../../../src/utils/isSentryRequestUrl.ts"],"sourcesContent":["import type { DsnComponents, Hub } from '@sentry/types';\n\n/**\n * Checks whether given url points to Sentry server\n * @param url url to verify\n */\nexport function isSentryRequestUrl(url: string, hub: Hub): boolean {\n  const client = hub.getClient();\n  const dsn = client && client.getDsn();\n  const tunnel = client && client.getOptions().tunnel;\n\n  return checkDsn(url, dsn) || checkTunnel(url, tunnel);\n}\n\nfunction checkTunnel(url: string, tunnel: string | undefined): boolean {\n  if (!tunnel) {\n    return false;\n  }\n\n  return removeTrailingSlash(url) === removeTrailingSlash(tunnel);\n}\n\nfunction checkDsn(url: string, dsn: DsnComponents | undefined): boolean {\n  return dsn ? url.includes(dsn.host) : false;\n}\n\nfunction removeTrailingSlash(str: string): string {\n  return str[str.length - 1] === '/' ? str.slice(0, -1) : str;\n}\n"],"names":[],"mappings":";;AAEA;AACA;AACA;AACA;AACA,SAAA,kBAAA,CAAA,GAAA,EAAA,GAAA,EAAA;AACA,EAAA,MAAA,MAAA,GAAA,GAAA,CAAA,SAAA,EAAA,CAAA;AACA,EAAA,MAAA,GAAA,GAAA,MAAA,IAAA,MAAA,CAAA,MAAA,EAAA,CAAA;AACA,EAAA,MAAA,MAAA,GAAA,MAAA,IAAA,MAAA,CAAA,UAAA,EAAA,CAAA,MAAA,CAAA;AACA;AACA,EAAA,OAAA,QAAA,CAAA,GAAA,EAAA,GAAA,CAAA,IAAA,WAAA,CAAA,GAAA,EAAA,MAAA,CAAA,CAAA;AACA,CAAA;AACA;AACA,SAAA,WAAA,CAAA,GAAA,EAAA,MAAA,EAAA;AACA,EAAA,IAAA,CAAA,MAAA,EAAA;AACA,IAAA,OAAA,KAAA,CAAA;AACA,GAAA;AACA;AACA,EAAA,OAAA,mBAAA,CAAA,GAAA,CAAA,KAAA,mBAAA,CAAA,MAAA,CAAA,CAAA;AACA,CAAA;AACA;AACA,SAAA,QAAA,CAAA,GAAA,EAAA,GAAA,EAAA;AACA,EAAA,OAAA,GAAA,GAAA,GAAA,CAAA,QAAA,CAAA,GAAA,CAAA,IAAA,CAAA,GAAA,KAAA,CAAA;AACA,CAAA;AACA;AACA,SAAA,mBAAA,CAAA,GAAA,EAAA;AACA,EAAA,OAAA,GAAA,CAAA,GAAA,CAAA,MAAA,GAAA,CAAA,CAAA,KAAA,GAAA,GAAA,GAAA,CAAA,KAAA,CAAA,CAAA,EAAA,CAAA,CAAA,CAAA,GAAA,GAAA,CAAA;AACA;;;;"}