!function(r,t){for(var e in t)r[e]=t[e]}(exports,function(r){var t={};function e(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return r[n].call(o.exports,o,o.exports,e),o.l=!0,o.exports}return e.m=r,e.c=t,e.d=function(r,t,n){e.o(r,t)||Object.defineProperty(r,t,{enumerable:!0,get:n})},e.r=function(r){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},e.t=function(r,t){if(1&t&&(r=e(r)),8&t)return r;if(4&t&&"object"==typeof r&&r&&r.__esModule)return r;var n=Object.create(null);if(e.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:r}),2&t&&"string"!=typeof r)for(var o in r)e.d(n,o,function(t){return r[t]}.bind(null,o));return n},e.n=function(r){var t=r&&r.__esModule?function(){return r.default}:function(){return r};return e.d(t,"a",t),t},e.o=function(r,t){return Object.prototype.hasOwnProperty.call(r,t)},e.p="",e(e.s=1)}([function(r,t,e){"use strict";var o=e(2);function u(r,t,e,n){this.message=r,this.expected=t,this.found=e,this.location=n,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,u)}!function(r,t){function e(){this.constructor=r}e.prototype=t.prototype,r.prototype=new e}(u,Error),u.buildMessage=function(r,t){var e={literal:function(r){return'"'+o(r.text)+'"'},class:function(r){var t,e="";for(t=0;t<r.parts.length;t++)e+=r.parts[t]instanceof Array?u(r.parts[t][0])+"-"+u(r.parts[t][1]):u(r.parts[t]);return"["+(r.inverted?"^":"")+e+"]"},any:function(r){return"any character"},end:function(r){return"end of input"},other:function(r){return r.description}};function n(r){return r.charCodeAt(0).toString(16).toUpperCase()}function o(r){return r.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(r){return"\\x0"+n(r)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(r){return"\\x"+n(r)}))}function u(r){return r.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(r){return"\\x0"+n(r)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(r){return"\\x"+n(r)}))}return"Expected "+function(r){var t,n,o,u=new Array(r.length);for(t=0;t<r.length;t++)u[t]=(o=r[t],e[o.type](o));if(u.sort(),u.length>0){for(t=1,n=1;t<u.length;t++)u[t-1]!==u[t]&&(u[n]=u[t],n++);u.length=n}switch(u.length){case 1:return u[0];case 2:return u[0]+" or "+u[1];default:return u.slice(0,-1).join(", ")+", or "+u[u.length-1]}}(r)+" but "+function(r){return r?'"'+o(r)+'"':"end of input"}(t)+" found."},r.exports={SyntaxError:u,parse:function(r,t){t=void 0!==t?t:{};var e,a={},s={start:Lu},i=Lu,c=function(r,t){return Ec(r,t)},l=function(r,t){return Ac(r,t)},f=vu("=",!1),p=vu("DUPLICATE",!0),b=vu("BINARY",!0),v=vu("MASTER",!0),d=vu("LOGS",!0),y=vu("BINLOG",!0),h=vu("EVENTS",!0),w=vu("CHARACTER",!0),m=vu("SET",!0),L=vu("COLLATION",!0),C=function(r,t){return Ac(r,t,1)},A=vu("IF",!0),E=function(r,t){return Ac(r,t)},g=vu("GRANTS",!0),T=vu(".",!1),S=vu("ALGORITHM",!0),_=vu("DEFAULT",!0),j=vu("INSTANT",!0),x=vu("INPLACE",!0),I=vu("COPY",!0),N=vu("LOCK",!0),R=vu("NONE",!0),O=vu("SHARED",!0),k=vu("EXCLUSIVE",!0),U=vu("AUTO_INCREMENT",!0),M=vu("UNIQUE",!0),D=vu("KEY",!0),P=vu("PRIMARY",!0),F=vu("FOR",!0),$=vu("COLUMN_FORMAT",!0),H=vu("FIXED",!0),W=vu("DYNAMIC",!0),G=vu("STORAGE",!0),B=vu("DISK",!0),Y=vu("MEMORY",!0),q=vu("MATCH FULL",!0),V=vu("MATCH PARTIAL",!0),X=vu("MATCH SIMPLE",!0),Q=vu("AVG_ROW_LENGTH",!0),K=vu("KEY_BLOCK_SIZE",!0),z=vu("MAX_ROWS",!0),Z=vu("MIN_ROWS",!0),J=vu("STATS_SAMPLE_PAGES",!0),rr=vu("CONNECTION",!0),tr=vu("COMPRESSION",!0),er=vu("'",!1),nr=vu("ZLIB",!0),or=vu("LZ4",!0),ur=vu("ENGINE",!0),ar=vu("CHARSET",!0),sr=vu("COLLATE",!0),ir=vu("READ",!0),cr=vu("LOCAL",!0),lr=vu("LOW_PRIORITY",!0),fr=vu("WRITE",!0),pr=vu("FOREIGN KEY",!0),br=vu("CHECK",!0),vr=vu("NOT",!0),dr=vu("REPLICATION",!0),yr=vu("BTREE",!0),hr=vu("HASH",!0),wr=vu("WITH",!0),mr=vu("PARSER",!0),Lr=vu("VISIBLE",!0),Cr=vu("INVISIBLE",!0),Ar=vu("RESTRICT",!0),Er=vu("CASCADE",!0),gr=vu("SET NULL",!0),Tr=vu("NO ACTION",!0),Sr=vu("SET DEFAULT",!0),_r=vu("UPDATE",!0),jr=vu("CREATE",!0),xr=vu("DELETE",!0),Ir=vu("INSERT",!0),Nr=vu(":=",!1),Rr=vu("return",!0),Or=vu("REPLACE",!0),kr=vu("ANALYZE",!0),Ur=vu("ATTACH",!0),Mr=vu("DATABASE",!0),Dr=vu("RENAME",!0),Pr=vu("SHOW",!0),Fr=vu("DESCRIBE",!0),$r=vu("@",!1),Hr=vu("@@",!1),Wr=vu("$",!1),Gr=vu("TEMPORARY",!0),Br=vu("SCHEMA",!0),Yr=vu("ALTER",!0),qr=vu("SPATIAL",!0),Vr=vu("(",!1),Xr=vu(")",!1),Qr=vu("INTERSECT",!0),Kr=vu("EXCEPT",!0),zr=vu("SYSTEM_TIME",!0),Zr=vu("AS",!0),Jr=vu("OF",!0),rt=vu("UNNEST",!0),tt=function(r,t){return t.unshift(r),t.forEach(r=>{const{table:t,as:e}=r;xc[t]=t,e&&(xc[e]=t),function(r){const t=Tc(r);r.clear(),t.forEach(t=>r.add(t))}(jc)}),t},et=/^[@]/,nt=du(["@"],!1,!1),ot=/^[{]/,ut=du(["{"],!1,!1),at=/^[=]/,st=du(["="],!1,!1),it=/^[}]/,ct=du(["}"],!1,!1),lt=vu("TABLESAMPLE",!0),ft=vu("BERNOULLI",!0),pt=vu("RESERVOIR",!0),bt=vu("PERCENT",!0),vt=vu("ROWS",!0),dt=vu("RANGE",!0),yt=vu("UNBOUNDED",!0),ht=vu("PRECEDING",!0),wt=vu("CURRENT",!0),mt=vu("ROW",!1),Lt=vu("FOLLOWING",!0),Ct=vu("ROW",!0),At=vu("!",!1),Et=function(r){return r[0]+" "+r[2]},gt=vu(">=",!1),Tt=vu(">",!1),St=vu("<=",!1),_t=vu("<>",!1),jt=vu("<",!1),xt=vu("!=",!1),It=vu("+",!1),Nt=vu("-",!1),Rt=vu("*",!1),Ot=vu("/",!1),kt=vu("%",!1),Ut=vu('"',!1),Mt=/^[^"]/,Dt=du(['"'],!0,!1),Pt=function(r){return r.join("")},Ft=/^[^']/,$t=du(["'"],!0,!1),Ht=vu("`",!1),Wt=/^[^`]/,Gt=du(["`"],!0,!1),Bt=function(r,t){return r+t.join("")},Yt=/^[A-Za-z_]/,qt=du([["A","Z"],["a","z"],"_"],!1,!1),Vt=/^[A-Za-z0-9_\-]/,Xt=du([["A","Z"],["a","z"],["0","9"],"_","-"],!1,!1),Qt=/^[A-Za-z0-9_:\-]/,Kt=du([["A","Z"],["a","z"],["0","9"],"_",":","-"],!1,!1),zt=vu(":",!1),Zt=vu("ANY_VALUE",!0),Jt=vu("CENTURY",!0),re=vu("DAY",!0),te=vu("DATE",!0),ee=vu("DECADE",!0),ne=vu("DOW",!0),oe=vu("DOY",!0),ue=vu("EPOCH",!0),ae=vu("HOUR",!0),se=vu("ISODOW",!0),ie=vu("ISOWEEK",!0),ce=vu("ISOYEAR",!0),le=vu("MICROSECONDS",!0),fe=vu("MILLENNIUM",!0),pe=vu("MILLISECONDS",!0),be=vu("MINUTE",!0),ve=vu("MONTH",!0),de=vu("QUARTER",!0),ye=vu("SECOND",!0),he=vu("TIME",!0),we=vu("TIMEZONE",!0),me=vu("TIMEZONE_HOUR",!0),Le=vu("TIMEZONE_MINUTE",!0),Ce=vu("WEEK",!0),Ae=vu("YEAR",!0),Ee=vu("DATE_TRUNC",!0),ge=vu("R",!0),Te=function(r,t){return{type:r.toLowerCase(),value:t[1].join("")}},Se=/^[^"\\\0-\x1F\x7F]/,_e=du(['"',"\\",["\0",""],""],!0,!1),je=/^[^'\\]/,xe=du(["'","\\"],!0,!1),Ie=vu("\\'",!1),Ne=vu('\\"',!1),Re=vu("\\\\",!1),Oe=vu("\\/",!1),ke=vu("\\b",!1),Ue=vu("\\f",!1),Me=vu("\\n",!1),De=vu("\\r",!1),Pe=vu("\\t",!1),Fe=vu("\\u",!1),$e=vu("\\",!1),He=vu("''",!1),We=vu('""',!1),Ge=vu("``",!1),Be=/^[\n\r]/,Ye=du(["\n","\r"],!1,!1),qe=/^[0-9]/,Ve=du([["0","9"]],!1,!1),Xe=/^[0-9a-fA-F]/,Qe=du([["0","9"],["a","f"],["A","F"]],!1,!1),Ke=/^[eE]/,ze=du(["e","E"],!1,!1),Ze=/^[+\-]/,Je=du(["+","-"],!1,!1),rn=vu("NULL",!0),tn=vu("NOT NULL",!0),en=vu("TRUE",!0),nn=vu("TO",!0),on=vu("FALSE",!0),un=vu("DROP",!0),an=vu("USE",!0),sn=vu("SELECT",!0),cn=(vu("RECURSIVE",!1),vu("IGNORE",!0)),ln=(vu("EXPLAIN",!0),vu("PARTITION",!0)),fn=vu("INTO",!0),pn=vu("FROM",!0),bn=vu("UNLOCK",!0),vn=vu("TABLE",!0),dn=vu("TABLES",!0),yn=vu("ON",!0),hn=vu("LEFT",!0),wn=vu("RIGHT",!0),mn=vu("FULL",!0),Ln=vu("INNER",!0),Cn=vu("CROSS",!0),An=vu("JOIN",!0),En=vu("OUTER",!0),gn=vu("OVER",!0),Tn=vu("UNION",!0),Sn=vu("VALUE",!0),_n=vu("VALUES",!0),jn=vu("USING",!0),xn=vu("WHERE",!0),In=vu("GROUP",!0),Nn=vu("BY",!0),Rn=vu("ORDER",!0),On=vu("HAVING",!0),kn=vu("QUALIFY",!0),Un=vu("WINDOW",!0),Mn=vu("ORDINAL",!0),Dn=vu("SAFE_ORDINAL",!0),Pn=vu("LIMIT",!0),Fn=vu("OFFSET",!0),$n=vu("SAFE_OFFSET",!0),Hn=vu("ASC",!0),Wn=vu("DESC",!0),Gn=vu("ALL",!0),Bn=vu("DISTINCT",!0),Yn=vu("BETWEEN",!0),qn=vu("IN",!0),Vn=vu("IS",!0),Xn=vu("LIKE",!0),Qn=vu("EXISTS",!0),Kn=vu("AND",!0),zn=vu("OR",!0),Zn=vu("COUNT",!0),Jn=vu("MAX",!0),ro=vu("MIN",!0),to=vu("SUM",!0),eo=vu("AVG",!0),no=vu("EXTRACT",!0),oo=vu("CALL",!0),uo=vu("CASE",!0),ao=vu("WHEN",!0),so=vu("THEN",!0),io=vu("ELSE",!0),co=vu("END",!0),lo=vu("CAST",!0),fo=vu("SAFE_CAST",!0),po=vu("ARRAY",!0),bo=vu("BYTES",!0),vo=vu("BOOL",!0),yo=(vu("CHAR",!0),vu("GEOGRAPHY",!0)),ho=(vu("VARCHAR",!0),vu("NUMERIC",!0)),wo=vu("DECIMAL",!0),mo=vu("SIGNED",!0),Lo=vu("UNSIGNED",!0),Co=vu("INT64",!0),Ao=(vu("ZEROFILL",!0),vu("INTEGER",!0)),Eo=(vu("JSON",!0),vu("SMALLINT",!0),vu("STRING",!0)),go=vu("STRUCT",!0),To=(vu("TINYINT",!0),vu("TINYTEXT",!0),vu("TEXT",!0),vu("MEDIUMTEXT",!0),vu("LONGTEXT",!0),vu("BIGINT",!0),vu("FLOAT64",!0)),So=(vu("DOUBLE",!0),vu("DATETIME",!0)),_o=vu("TIMESTAMP",!0),jo=vu("TRUNCATE",!0),xo=(vu("USER",!0),vu("CURRENT_DATE",!0)),Io=(vu("ADDDATE",!0),vu("INTERVAL",!0)),No=vu("CURRENT_TIME",!0),Ro=vu("CURRENT_TIMESTAMP",!0),Oo=vu("SESSION_USER",!0),ko=vu("GLOBAL",!0),Uo=vu("SESSION",!0),Mo=vu("PIVOT",!0),Do=vu("PERSIST",!0),Po=vu("PERSIST_ONLY",!0),Fo=vu("ADD",!0),$o=vu("COLUMN",!0),Ho=vu("INDEX",!0),Wo=vu("FULLTEXT",!0),Go=vu("COMMENT",!0),Bo=vu("CONSTRAINT",!0),Yo=vu("REFERENCES",!0),qo=vu(",",!1),Vo=vu("[",!1),Xo=vu("]",!1),Qo=vu(";",!1),Ko=vu("||",!1),zo=vu("&&",!1),Zo=vu("/*",!1),Jo=vu("*/",!1),ru=vu("--",!1),tu=vu("#",!1),eu={type:"any"},nu=/^[ \t\n\r]/,ou=du([" ","\t","\n","\r"],!1,!1),uu=function(r){return{dataType:r}},au=vu("MAX",!1),su=vu("max",!1),iu=function(r,t){return{dataType:r,definition:t,anglebracket:!0}},cu=0,lu=[{line:1,column:1}],fu=0,pu=[],bu=0;if("startRule"in t){if(!(t.startRule in s))throw new Error("Can't start parsing from rule \""+t.startRule+'".');i=s[t.startRule]}function vu(r,t){return{type:"literal",text:r,ignoreCase:t}}function du(r,t,e){return{type:"class",parts:r,inverted:t,ignoreCase:e}}function yu(t){var e,n=lu[t];if(n)return n;for(e=t-1;!lu[e];)e--;for(n={line:(n=lu[e]).line,column:n.column};e<t;)10===r.charCodeAt(e)?(n.line++,n.column=1):n.column++,e++;return lu[t]=n,n}function hu(r,t){var e=yu(r),n=yu(t);return{start:{offset:r,line:e.line,column:e.column},end:{offset:t,line:n.line,column:n.column}}}function wu(r){cu<fu||(cu>fu&&(fu=cu,pu=[]),pu.push(r))}function mu(r,t,e){return new u(u.buildMessage(r,t),r,t,e)}function Lu(){var r,t;return r=cu,ac()!==a?((t=function(){var r,t,e,n,o,u,s,i;if(r=cu,(t=Cu())!==a){if(e=[],n=cu,(o=ac())!==a&&(u=oc())!==a&&(s=ac())!==a&&(i=Cu())!==a?n=o=[o,u,s,i]:(cu=n,n=a),n!==a)for(;n!==a;)e.push(n),n=cu,(o=ac())!==a&&(u=oc())!==a&&(s=ac())!==a&&(i=Cu())!==a?n=o=[o,u,s,i]:(cu=n,n=a);else e=a;e!==a?(r,t=function(r,t){const e=[r&&r.ast||r];for(let r=0;r<t.length;r++)t[r][3]&&0!==t[r][3].length&&e.push(t[r][3]&&t[r][3].ast||t[r][3]);return{tableList:Array.from(_c),columnList:Tc(jc),ast:e}}(t,e),r=t):(cu=r,r=a)}else cu=r,r=a;return r}())===a&&(t=Cu()),t!==a?(r,r=t):(cu=r,r=a)):(cu=r,r=a),r}function Cu(){var t;return(t=function(){var t,e,n,o,u,s,i;(t=function(){var r,t,e,n;r=cu,(t=da())!==a&&ac()!==a?((e=Ba())===a&&(e=null),e!==a&&ac()!==a?((n=Va())===a&&(n=null),n!==a&&ac()!==a?(r,o=t,u=e,s=n,t={tableList:Array.from(_c),columnList:Tc(jc),ast:{...o.ast,_orderby:u,_limit:s,_parentheses:o._parentheses}},r=t):(cu=r,r=a)):(cu=r,r=a)):(cu=r,r=a);var o,u,s;return r}())===a&&(t=cu,e=cu,40===r.charCodeAt(cu)?(n="(",cu++):(n=a,0===bu&&wu(Vr)),n!==a&&(o=ac())!==a&&(u=ha())!==a&&(s=ac())!==a?(41===r.charCodeAt(cu)?(i=")",cu++):(i=a,0===bu&&wu(Xr)),i!==a?e=n=[n,o,u,s,i]:(cu=e,e=a)):(cu=e,e=a),e!==a&&(t,e={...e[2],parentheses_symbol:!0}),t=e);return t}())===a&&(t=function(){var t;(t=da())===a&&(t=function(){var r,t,e,n,o,u,s,i;r=cu,(t=oa())!==a&&ac()!==a&&(e=xa())!==a&&ac()!==a&&oi()!==a&&ac()!==a&&(n=Iu())!==a&&ac()!==a?((o=_a())===a&&(o=null),o!==a&&ac()!==a?((u=Ma())===a&&(u=null),u!==a&&ac()!==a?((s=Ba())===a&&(s=null),s!==a&&ac()!==a?((i=Va())===a&&(i=null),i!==a?(r,l=n,f=o,p=u,b=s,v=i,(c=e)&&c.forEach(r=>{const{db:t,as:e,table:n,join:o}=r,u=o?"select":"update";_c.add(`${u}::${t}::${n}`)}),f&&f.forEach(r=>{r.table&&_c.add(`update::${r.db}::${r.table}`)}),l&&l.forEach(r=>jc.add(`update::${r.table}::${r.column}`)),t={tableList:Array.from(_c),columnList:Tc(jc),ast:{type:"update",table:c,set:l,where:p,orderby:b,limit:v}},r=t):(cu=r,r=a)):(cu=r,r=a)):(cu=r,r=a)):(cu=r,r=a)):(cu=r,r=a);var c,l,f,p,b,v;return r}())===a&&(t=function(){var r,t,e,n,o,u,s,i;r=cu,(t=Ru())!==a&&ac()!==a?((e=ei())===a&&(e=null),e!==a&&ac()!==a&&(n=ka())!==a&&ac()!==a?((o=Ou())===a&&(o=null),o!==a&&ac()!==a&&Zi()!==a&&ac()!==a&&(u=function(){var r,t,e,n,o,u,s,i;if(r=cu,(t=Es())!==a){for(e=[],n=cu,(o=ac())!==a&&(u=Ki())!==a&&(s=ac())!==a&&(i=Es())!==a?n=o=[o,u,s,i]:(cu=n,n=a);n!==a;)e.push(n),n=cu,(o=ac())!==a&&(u=Ki())!==a&&(s=ac())!==a&&(i=Es())!==a?n=o=[o,u,s,i]:(cu=n,n=a);e!==a?(r,t=l(t,e),r=t):(cu=r,r=a)}else cu=r,r=a;return r}())!==a&&ac()!==a&&Ji()!==a&&ac()!==a&&(s=ku())!==a&&ac()!==a?((i=Uu())===a&&(i=null),i!==a?(r,t=function(r,t,e,n,o,u){if(t&&(_c.add(`insert::${t.db}::${t.table}`),t.as=null),n){let r=t&&t.table||null;Array.isArray(o)&&o.forEach((r,t)=>{if(r.value.length!=n.length)throw new Error("Error: column count doesn't match value count at row "+(t+1))}),n.forEach(t=>jc.add(`insert::${r}::${t}`))}return{tableList:Array.from(_c),columnList:Tc(jc),ast:{type:r,table:[t],columns:n,values:o,partition:e,on_duplicate_update:u}}}(t,n,o,u,s,i),r=t):(cu=r,r=a)):(cu=r,r=a)):(cu=r,r=a)):(cu=r,r=a);return r}())===a&&(t=function(){var r,t,e,n,o,u,s,i;r=cu,(t=Ru())!==a&&ac()!==a?((e=ri())===a&&(e=null),e!==a&&ac()!==a?((n=ei())===a&&(n=null),n!==a&&ac()!==a&&(o=ka())!==a&&ac()!==a?((u=Ou())===a&&(u=null),u!==a&&ac()!==a&&(s=ku())!==a&&ac()!==a?((i=Uu())===a&&(i=null),i!==a?(r,t=function(r,t,e,n,o,u,a){n&&(_c.add(`insert::${n.db}::${n.table}`),jc.add(`insert::${n.table}::(.*)`),n.as=null);const s=[t,e].filter(r=>r).map(r=>r[0]&&r[0].toLowerCase()).join(" ");return{tableList:Array.from(_c),columnList:Tc(jc),ast:{type:r,table:[n],columns:null,values:u,partition:o,prefix:s,on_duplicate_update:a}}}(t,e,n,o,u,s,i),r=t):(cu=r,r=a)):(cu=r,r=a)):(cu=r,r=a)):(cu=r,r=a)):(cu=r,r=a);return r}())===a&&(t=function(){var r,t,e,n,o,u,s;r=cu,(t=Ru())!==a&&ac()!==a?((e=ei())===a&&(e=null),e!==a&&ac()!==a&&(n=ka())!==a&&ac()!==a?((o=Ou())===a&&(o=null),o!==a&&ac()!==a&&oi()!==a&&ac()!==a&&(u=Iu())!==a&&ac()!==a?((s=Uu())===a&&(s=null),s!==a?(r,i=t,l=o,f=u,p=s,(c=n)&&(_c.add(`insert::${c.db}::${c.table}`),jc.add(`insert::${c.table}::(.*)`),c.as=null),t={tableList:Array.from(_c),columnList:Tc(jc),ast:{type:i,table:[c],columns:null,partition:l,set:f,on_duplicate_update:p}},r=t):(cu=r,r=a)):(cu=r,r=a)):(cu=r,r=a)):(cu=r,r=a);var i,c,l,f,p;return r}())===a&&(t=function(){var r,t,e,n,o,u,s;r=cu,(t=aa())!==a&&ac()!==a?((e=xa())===a&&(e=null),e!==a&&ac()!==a?((n=_a())===a&&(n=null),n!==a&&ac()!==a?((o=Ma())===a&&(o=null),o!==a&&ac()!==a?((u=Ba())===a&&(u=null),u!==a&&ac()!==a?((s=Va())===a&&(s=null),s!==a?(r,t=function(r,t,e,n,o){if(r&&r.forEach(r=>_c.add(`delete::${r.db}::${r.table}`)),t&&t.forEach(r=>{const{db:t,as:e,table:n,join:o}=r,u=o?"select":"delete";n&&_c.add(`${u}::${t}::${n}`),o||jc.add(`delete::${n}::(.*)`)}),null===r&&1===t.length){const e=t[0];r=[{db:e.db,table:e.table,as:e.as,addition:!0}]}return{tableList:Array.from(_c),columnList:Tc(jc),ast:{type:"delete",table:r,from:t,where:e,orderby:n,limit:o}}}(e,n,o,u,s),r=t):(cu=r,r=a)):(cu=r,r=a)):(cu=r,r=a)):(cu=r,r=a)):(cu=r,r=a)):(cu=r,r=a);return r}())===a&&(t=function(){var t;(t=function(){var t,e,n;t=cu,(e=function(){var t,e,n,o;t=cu,"analyze"===r.substr(cu,7).toLowerCase()?(e=r.substr(cu,7),cu+=7):(e=a,0===bu&&wu(kr));e!==a?(n=cu,bu++,o=Ss(),bu--,o===a?n=void 0:(cu=n,n=a),n!==a?t=e=[e,n]:(cu=t,t=a)):(cu=t,t=a);return t}())!==a&&ac()!==a&&(n=ka())!==a&&ac()!==a?(t,o=e,u=n,_c.add(`${o}::${u.db}::${u.table}`),e={tableList:Array.from(_c),columnList:Tc(jc),ast:{type:o.toLowerCase(),table:u}},t=e):(cu=t,t=a);var o,u;return t}())===a&&(t=function(){var t,e,n,o,u,s;t=cu,(e=function(){var t,e,n,o;t=cu,"attach"===r.substr(cu,6).toLowerCase()?(e=r.substr(cu,6),cu+=6):(e=a,0===bu&&wu(Ur));e!==a?(n=cu,bu++,o=Ss(),bu--,o===a?n=void 0:(cu=n,n=a),n!==a?t=e=[e,n]:(cu=t,t=a)):(cu=t,t=a);return t}())!==a&&ac()!==a&&(n=ca())!==a&&ac()!==a&&(o=Ka())!==a&&ac()!==a&&(u=ui())!==a&&ac()!==a&&(s=ms())!==a&&ac()!==a?(t,i=e,c=n,l=o,f=u,p=s,e={tableList:Array.from(_c),columnList:Tc(jc),ast:{type:i.toLowerCase(),database:c,expr:l,as:f&&f[0].toLowerCase(),schema:p}},t=e):(cu=t,t=a);var i,c,l,f,p;return t}())===a&&(t=function(){var r,t,e,n,o,u;r=cu,(t=Js())!==a&&ac()!==a&&(e=ai())!==a&&ac()!==a&&(n=xa())!==a?(r,s=t,i=e,(c=n)&&c.forEach(r=>_c.add(`${s}::${r.db}::${r.table}`)),t={tableList:Array.from(_c),columnList:Tc(jc),ast:{type:s.toLowerCase(),keyword:i.toLowerCase(),name:c}},r=t):(cu=r,r=a);var s,i,c;r===a&&(r=cu,(t=Js())!==a&&ac()!==a&&(e=qi())!==a&&ac()!==a&&(n=ws())!==a&&ac()!==a&&ii()!==a&&ac()!==a&&(o=ka())!==a&&ac()!==a?((u=function(){var r,t,e,n,o,u;r=cu,(t=$u())===a&&(t=Hu());if(t!==a){for(e=[],n=cu,(o=ac())!==a?((u=$u())===a&&(u=Hu()),u!==a?n=o=[o,u]:(cu=n,n=a)):(cu=n,n=a);n!==a;)e.push(n),n=cu,(o=ac())!==a?((u=$u())===a&&(u=Hu()),u!==a?n=o=[o,u]:(cu=n,n=a)):(cu=n,n=a);e!==a?(r,t=C(t,e),r=t):(cu=r,r=a)}else cu=r,r=a;return r}())===a&&(u=null),u!==a&&ac()!==a?(r,t=function(r,t,e,n,o){return{tableList:Array.from(_c),columnList:Tc(jc),ast:{type:r.toLowerCase(),keyword:t.toLowerCase(),name:e,table:n,options:o}}}(t,e,n,o,u),r=t):(cu=r,r=a)):(cu=r,r=a));return r}())===a&&(t=function(){var t;(t=function(){var r,t,e,n,o,u,s,i,c,f,p,b;if(r=cu,(t=ua())!==a)if(ac()!==a)if((e=ba())===a&&(e=null),e!==a)if(ac()!==a)if(ai()!==a)if(ac()!==a)if((n=Fu())===a&&(n=null),n!==a)if(ac()!==a)if((o=xa())!==a)if(ac()!==a)if((u=function(){var r,t,e,n,o,u,s,i,c;if(r=cu,(t=Zi())!==a)if(ac()!==a)if((e=Wu())!==a){for(n=[],o=cu,(u=ac())!==a&&(s=Ki())!==a&&(i=ac())!==a&&(c=Wu())!==a?o=u=[u,s,i,c]:(cu=o,o=a);o!==a;)n.push(o),o=cu,(u=ac())!==a&&(s=Ki())!==a&&(i=ac())!==a&&(c=Wu())!==a?o=u=[u,s,i,c]:(cu=o,o=a);n!==a&&(o=ac())!==a&&(u=Ji())!==a?(r,t=l(e,n),r=t):(cu=r,r=a)}else cu=r,r=a;else cu=r,r=a;else cu=r,r=a;return r}())!==a)if(ac()!==a){for(s=[],i=qu();i!==a;)s.push(i),i=qu();s!==a&&(i=ac())!==a?((c=function(){var r,t,e,n,o,u,s,i;if(r=cu,(t=Qu())!==a){for(e=[],n=cu,(o=ac())!==a?((u=Ki())===a&&(u=null),u!==a&&(s=ac())!==a&&(i=Qu())!==a?n=o=[o,u,s,i]:(cu=n,n=a)):(cu=n,n=a);n!==a;)e.push(n),n=cu,(o=ac())!==a?((u=Ki())===a&&(u=null),u!==a&&(s=ac())!==a&&(i=Qu())!==a?n=o=[o,u,s,i]:(cu=n,n=a)):(cu=n,n=a);e!==a?(r,t=Ac(t,e),r=t):(cu=r,r=a)}else cu=r,r=a;return r}())===a&&(c=null),c!==a&&ac()!==a?((f=ri())===a&&(f=ia()),f===a&&(f=null),f!==a&&ac()!==a?((p=ui())===a&&(p=null),p!==a&&ac()!==a?((b=da())===a&&(b=null),b!==a?(r,v=t,d=e,y=n,w=u,m=s,L=c,C=f,A=p,E=b,(h=o)&&h.forEach(r=>_c.add(`create::${r.db}::${r.table}`)),t={tableList:Array.from(_c),columnList:Tc(jc),ast:{type:v[0].toLowerCase(),keyword:"table",temporary:d&&d[0].toLowerCase(),if_not_exists:y,table:h,ignore_replace:C&&C[0].toLowerCase(),as:A&&A[0].toLowerCase(),query_expr:E&&E.ast,create_definitions:w,constraint:m,table_options:L}},r=t):(cu=r,r=a)):(cu=r,r=a)):(cu=r,r=a)):(cu=r,r=a)):(cu=r,r=a)}else cu=r,r=a;else cu=r,r=a;else cu=r,r=a;else cu=r,r=a;else cu=r,r=a;else cu=r,r=a;else cu=r,r=a;else cu=r,r=a;else cu=r,r=a;else cu=r,r=a;else cu=r,r=a;else cu=r,r=a;var v,d,y,h,w,m,L,C,A,E;r===a&&(r=cu,(t=ua())!==a&&ac()!==a?((e=ba())===a&&(e=null),e!==a&&ac()!==a&&ai()!==a&&ac()!==a?((n=Fu())===a&&(n=null),n!==a&&ac()!==a&&(o=xa())!==a&&ac()!==a&&(u=function r(){var t,e;(t=function(){var r,t;r=cu,gi()!==a&&ac()!==a&&(t=xa())!==a?(r,r={type:"like",table:t}):(cu=r,r=a);return r}())===a&&(t=cu,Zi()!==a&&ac()!==a&&(e=r())!==a&&ac()!==a&&Ji()!==a?(t,(n=e).parentheses=!0,t=n):(cu=t,t=a));var n;return t}())!==a?(r,t=function(r,t,e,n,o){return n&&n.forEach(r=>_c.add(`create::${r.db}::${r.table}`)),{tableList:Array.from(_c),columnList:Tc(jc),ast:{type:r[0].toLowerCase(),keyword:"table",temporary:t&&t[0].toLowerCase(),if_not_exists:e,table:n,like:o}}}(t,e,n,o,u),r=t):(cu=r,r=a)):(cu=r,r=a)):(cu=r,r=a));return r}())===a&&(t=function(){var t,e,n,o,u,s;t=cu,(e=ua())!==a&&ac()!==a?((n=ca())===a&&(n=function(){var t,e,n,o;t=cu,"schema"===r.substr(cu,6).toLowerCase()?(e=r.substr(cu,6),cu+=6):(e=a,0===bu&&wu(Br));e!==a?(n=cu,bu++,o=Ss(),bu--,o===a?n=void 0:(cu=n,n=a),n!==a?t=e=[e,n]:(cu=t,t=a)):(cu=t,t=a);return t}()),n!==a&&ac()!==a?((o=Fu())===a&&(o=null),o!==a&&ac()!==a&&(u=Ts())!==a&&ac()!==a?((s=function(){var r,t,e,n,o,u;if(r=cu,(t=Ku())!==a){for(e=[],n=cu,(o=ac())!==a&&(u=Ku())!==a?n=o=[o,u]:(cu=n,n=a);n!==a;)e.push(n),n=cu,(o=ac())!==a&&(u=Ku())!==a?n=o=[o,u]:(cu=n,n=a);e!==a?(r,t=C(t,e),r=t):(cu=r,r=a)}else cu=r,r=a;return r}())===a&&(s=null),s!==a?(t,i=e,c=o,l=u,f=s,e={tableList:Array.from(_c),columnList:Tc(jc),ast:{type:i[0].toLowerCase(),keyword:"database",if_not_exists:c,database:l,create_definitions:f}},t=e):(cu=t,t=a)):(cu=t,t=a)):(cu=t,t=a)):(cu=t,t=a);var i,c,l,f;return t}());return t}())===a&&(t=function(){var t,e,n,o;t=cu,(e=function(){var t,e,n,o;t=cu,"truncate"===r.substr(cu,8).toLowerCase()?(e=r.substr(cu,8),cu+=8):(e=a,0===bu&&wu(jo));e!==a?(n=cu,bu++,o=Ss(),bu--,o===a?n=void 0:(cu=n,n=a),n!==a?(t,t=e="TRUNCATE"):(cu=t,t=a)):(cu=t,t=a);return t}())!==a&&ac()!==a?((n=ai())===a&&(n=null),n!==a&&ac()!==a&&(o=xa())!==a?(t,u=e,s=n,(i=o)&&i.forEach(r=>_c.add(`${u}::${r.db}::${r.table}`)),e={tableList:Array.from(_c),columnList:Tc(jc),ast:{type:u.toLowerCase(),keyword:s&&s.toLowerCase()||"table",name:i}},t=e):(cu=t,t=a)):(cu=t,t=a);var u,s,i;return t}())===a&&(t=function(){var r,t,e;r=cu,(t=la())!==a&&ac()!==a&&ai()!==a&&ac()!==a&&(e=function(){var r,t,e,n,o,u,s,i;if(r=cu,(t=ja())!==a){for(e=[],n=cu,(o=ac())!==a&&(u=Ki())!==a&&(s=ac())!==a&&(i=ja())!==a?n=o=[o,u,s,i]:(cu=n,n=a);n!==a;)e.push(n),n=cu,(o=ac())!==a&&(u=Ki())!==a&&(s=ac())!==a&&(i=ja())!==a?n=o=[o,u,s,i]:(cu=n,n=a);e!==a?(r,t=l(t,e),r=t):(cu=r,r=a)}else cu=r,r=a;return r}())!==a?(r,(n=e).forEach(r=>r.forEach(r=>r.table&&_c.add(`rename::${r.db}::${r.table}`))),t={tableList:Array.from(_c),columnList:Tc(jc),ast:{type:"rename",table:n}},r=t):(cu=r,r=a);var n;return r}())===a&&(t=function(){var t,e,n;t=cu,(e=function(){var t,e,n,o;t=cu,"call"===r.substr(cu,4).toLowerCase()?(e=r.substr(cu,4),cu+=4):(e=a,0===bu&&wu(oo));e!==a?(n=cu,bu++,o=Ss(),bu--,o===a?n=void 0:(cu=n,n=a),n!==a?(t,t=e="CALL"):(cu=t,t=a)):(cu=t,t=a);return t}())!==a&&ac()!==a&&(n=ju())!==a?(t,o=n,e={tableList:Array.from(_c),columnList:Tc(jc),ast:{type:"call",expr:o}},t=e):(cu=t,t=a);var o;return t}())===a&&(t=function(){var t,e,n;t=cu,(e=function(){var t,e,n,o;t=cu,"use"===r.substr(cu,3).toLowerCase()?(e=r.substr(cu,3),cu+=3):(e=a,0===bu&&wu(an));e!==a?(n=cu,bu++,o=Ss(),bu--,o===a?n=void 0:(cu=n,n=a),n!==a?t=e=[e,n]:(cu=t,t=a)):(cu=t,t=a);return t}())!==a&&ac()!==a&&(n=ms())!==a?(t,o=n,_c.add(`use::${o}::null`),e={tableList:Array.from(_c),columnList:Tc(jc),ast:{type:"use",db:o}},t=e):(cu=t,t=a);var o;return t}())===a&&(t=function(){var t,e,n,o;t=cu,(e=function(){var t,e,n,o;t=cu,"alter"===r.substr(cu,5).toLowerCase()?(e=r.substr(cu,5),cu+=5):(e=a,0===bu&&wu(Yr));e!==a?(n=cu,bu++,o=Ss(),bu--,o===a?n=void 0:(cu=n,n=a),n!==a?t=e=[e,n]:(cu=t,t=a)):(cu=t,t=a);return t}())!==a&&ac()!==a&&ai()!==a&&ac()!==a&&(n=xa())!==a&&ac()!==a&&(o=function(){var r,t,e,n,o,u,s,i;if(r=cu,(t=zu())!==a){for(e=[],n=cu,(o=ac())!==a&&(u=Ki())!==a&&(s=ac())!==a&&(i=zu())!==a?n=o=[o,u,s,i]:(cu=n,n=a);n!==a;)e.push(n),n=cu,(o=ac())!==a&&(u=Ki())!==a&&(s=ac())!==a&&(i=zu())!==a?n=o=[o,u,s,i]:(cu=n,n=a);e!==a?(r,t=l(t,e),r=t):(cu=r,r=a)}else cu=r,r=a;return r}())!==a?(t,s=o,(u=n)&&u.length>0&&u.forEach(r=>_c.add(`alter::${r.db}::${r.table}`)),e={tableList:Array.from(_c),columnList:Tc(jc),ast:{type:"alter",table:u,expr:s}},t=e):(cu=t,t=a);var u,s;return t}())===a&&(t=function(){var t,e,n,o;t=cu,(e=oi())!==a&&ac()!==a?((n=function(){var t,e,n,o;t=cu,"global"===r.substr(cu,6).toLowerCase()?(e=r.substr(cu,6),cu+=6):(e=a,0===bu&&wu(ko));e!==a?(n=cu,bu++,o=Ss(),bu--,o===a?n=void 0:(cu=n,n=a),n!==a?(t,t=e="GLOBAL"):(cu=t,t=a)):(cu=t,t=a);return t}())===a&&(n=function(){var t,e,n,o;t=cu,"session"===r.substr(cu,7).toLowerCase()?(e=r.substr(cu,7),cu+=7):(e=a,0===bu&&wu(Uo));e!==a?(n=cu,bu++,o=Ss(),bu--,o===a?n=void 0:(cu=n,n=a),n!==a?(t,t=e="SESSION"):(cu=t,t=a)):(cu=t,t=a);return t}())===a&&(n=function(){var t,e,n,o;t=cu,"local"===r.substr(cu,5).toLowerCase()?(e=r.substr(cu,5),cu+=5):(e=a,0===bu&&wu(cr));e!==a?(n=cu,bu++,o=Ss(),bu--,o===a?n=void 0:(cu=n,n=a),n!==a?(t,t=e="LOCAL"):(cu=t,t=a)):(cu=t,t=a);return t}())===a&&(n=function(){var t,e,n,o;t=cu,"persist"===r.substr(cu,7).toLowerCase()?(e=r.substr(cu,7),cu+=7):(e=a,0===bu&&wu(Do));e!==a?(n=cu,bu++,o=Ss(),bu--,o===a?n=void 0:(cu=n,n=a),n!==a?(t,t=e="PERSIST"):(cu=t,t=a)):(cu=t,t=a);return t}())===a&&(n=function(){var t,e,n,o;t=cu,"persist_only"===r.substr(cu,12).toLowerCase()?(e=r.substr(cu,12),cu+=12):(e=a,0===bu&&wu(Po));e!==a?(n=cu,bu++,o=Ss(),bu--,o===a?n=void 0:(cu=n,n=a),n!==a?(t,t=e="PERSIST_ONLY"):(cu=t,t=a)):(cu=t,t=a);return t}()),n===a&&(n=null),n!==a&&ac()!==a&&(o=Eu())!==a?(t,u=n,(s=o).keyword=u,e={tableList:Array.from(_c),columnList:Tc(jc),ast:{type:"set",expr:s}},t=e):(cu=t,t=a)):(cu=t,t=a);var u,s;return t}())===a&&(t=function(){var t,e,n;t=cu,(e=function(){var t,e,n,o;t=cu,"lock"===r.substr(cu,4).toLowerCase()?(e=r.substr(cu,4),cu+=4):(e=a,0===bu&&wu(N));e!==a?(n=cu,bu++,o=Ss(),bu--,o===a?n=void 0:(cu=n,n=a),n!==a?t=e=[e,n]:(cu=t,t=a)):(cu=t,t=a);return t}())!==a&&ac()!==a&&si()!==a&&ac()!==a&&(n=function(){var r,t,e,n,o,u,s,i;if(r=cu,(t=Yu())!==a){for(e=[],n=cu,(o=ac())!==a&&(u=Ki())!==a&&(s=ac())!==a&&(i=Yu())!==a?n=o=[o,u,s,i]:(cu=n,n=a);n!==a;)e.push(n),n=cu,(o=ac())!==a&&(u=Ki())!==a&&(s=ac())!==a&&(i=Yu())!==a?n=o=[o,u,s,i]:(cu=n,n=a);e!==a?(r,t=E(t,e),r=t):(cu=r,r=a)}else cu=r,r=a;return r}())!==a?(t,o=n,e={tableList:Array.from(_c),columnList:Tc(jc),ast:{type:"lock",keyword:"tables",tables:o}},t=e):(cu=t,t=a);var o;return t}())===a&&(t=function(){var t,e;t=cu,(e=function(){var t,e,n,o;t=cu,"unlock"===r.substr(cu,6).toLowerCase()?(e=r.substr(cu,6),cu+=6):(e=a,0===bu&&wu(bn));e!==a?(n=cu,bu++,o=Ss(),bu--,o===a?n=void 0:(cu=n,n=a),n!==a?t=e=[e,n]:(cu=t,t=a)):(cu=t,t=a);return t}())!==a&&ac()!==a&&si()!==a?(t,e={tableList:Array.from(_c),columnList:Tc(jc),ast:{type:"unlock",keyword:"tables"}},t=e):(cu=t,t=a);return t}())===a&&(t=function(){var t,e,n,o,u,s,i,c,l;t=cu,(e=fa())!==a&&ac()!==a?("binary"===r.substr(cu,6).toLowerCase()?(n=r.substr(cu,6),cu+=6):(n=a,0===bu&&wu(b)),n===a&&("master"===r.substr(cu,6).toLowerCase()?(n=r.substr(cu,6),cu+=6):(n=a,0===bu&&wu(v))),n!==a&&(o=ac())!==a?("logs"===r.substr(cu,4).toLowerCase()?(u=r.substr(cu,4),cu+=4):(u=a,0===bu&&wu(d)),u!==a?(t,f=n,e={tableList:Array.from(_c),columnList:Tc(jc),ast:{type:"show",suffix:"logs",keyword:f.toLowerCase()}},t=e):(cu=t,t=a)):(cu=t,t=a)):(cu=t,t=a);var f;t===a&&(t=cu,(e=fa())!==a&&ac()!==a?("binlog"===r.substr(cu,6).toLowerCase()?(n=r.substr(cu,6),cu+=6):(n=a,0===bu&&wu(y)),n!==a&&(o=ac())!==a?("events"===r.substr(cu,6).toLowerCase()?(u=r.substr(cu,6),cu+=6):(u=a,0===bu&&wu(h)),u!==a&&(s=ac())!==a?((i=cs())===a&&(i=null),i!==a&&ac()!==a?((c=_a())===a&&(c=null),c!==a&&ac()!==a?((l=Va())===a&&(l=null),l!==a?(t,p=i,C=c,A=l,e={tableList:Array.from(_c),columnList:Tc(jc),ast:{type:"show",suffix:"events",keyword:"binlog",in:p,from:C,limit:A}},t=e):(cu=t,t=a)):(cu=t,t=a)):(cu=t,t=a)):(cu=t,t=a)):(cu=t,t=a)):(cu=t,t=a),t===a&&(t=cu,(e=fa())!==a&&ac()!==a?(n=cu,"character"===r.substr(cu,9).toLowerCase()?(o=r.substr(cu,9),cu+=9):(o=a,0===bu&&wu(w)),o!==a&&(u=ac())!==a?("set"===r.substr(cu,3).toLowerCase()?(s=r.substr(cu,3),cu+=3):(s=a,0===bu&&wu(m)),s!==a?n=o=[o,u,s]:(cu=n,n=a)):(cu=n,n=a),n===a&&("collation"===r.substr(cu,9).toLowerCase()?(n=r.substr(cu,9),cu+=9):(n=a,0===bu&&wu(L))),n!==a&&(o=ac())!==a?((u=is())===a&&(u=Ma()),u===a&&(u=null),u!==a?(t,e=function(r,t){let e=Array.isArray(r)&&r||[r];return{tableList:Array.from(_c),columnList:Tc(jc),ast:{type:"show",suffix:e[2]&&e[2].toLowerCase(),keyword:e[0].toLowerCase(),expr:t}}}(n,u),t=e):(cu=t,t=a)):(cu=t,t=a)):(cu=t,t=a),t===a&&(t=function(){var t,e,n,o;t=cu,(e=fa())!==a&&ac()!==a?("grants"===r.substr(cu,6).toLowerCase()?(n=r.substr(cu,6),cu+=6):(n=a,0===bu&&wu(g)),n!==a&&ac()!==a?((o=function(){var t,e,n,o,u,s,i;t=cu,"for"===r.substr(cu,3).toLowerCase()?(e=r.substr(cu,3),cu+=3):(e=a,0===bu&&wu(F));e!==a&&ac()!==a&&(n=ms())!==a&&ac()!==a?(o=cu,(u=pa())!==a&&(s=ac())!==a&&(i=ms())!==a?o=u=[u,s,i]:(cu=o,o=a),o===a&&(o=null),o!==a&&(u=ac())!==a?((s=function(){var r,t;r=cu,bi()!==a&&ac()!==a&&(t=function(){var r,t,e,n,o,u,s,i;if(r=cu,(t=ms())!==a){for(e=[],n=cu,(o=ac())!==a&&(u=Ki())!==a&&(s=ac())!==a&&(i=ms())!==a?n=o=[o,u,s,i]:(cu=n,n=a);n!==a;)e.push(n),n=cu,(o=ac())!==a&&(u=Ki())!==a&&(s=ac())!==a&&(i=ms())!==a?n=o=[o,u,s,i]:(cu=n,n=a);e!==a?(r,t=E(t,e),r=t):(cu=r,r=a)}else cu=r,r=a;return r}())!==a?(r,r=t):(cu=r,r=a);return r}())===a&&(s=null),s!==a?(t,e=function(r,t,e){return{user:r,host:t&&t[2],role_list:e}}(n,o,s),t=e):(cu=t,t=a)):(cu=t,t=a)):(cu=t,t=a);return t}())===a&&(o=null),o!==a?(t,u=o,e={tableList:Array.from(_c),columnList:Tc(jc),ast:{type:"show",keyword:"grants",for:u}},t=e):(cu=t,t=a)):(cu=t,t=a)):(cu=t,t=a);var u;return t}())));var p,C,A;return t}())===a&&(t=function(){var t,e,n;t=cu,(e=wi())===a&&(e=function(){var t,e,n,o;t=cu,"describe"===r.substr(cu,8).toLowerCase()?(e=r.substr(cu,8),cu+=8):(e=a,0===bu&&wu(Fr));e!==a?(n=cu,bu++,o=Ss(),bu--,o===a?n=void 0:(cu=n,n=a),n!==a?t=e=[e,n]:(cu=t,t=a)):(cu=t,t=a);return t}());e!==a&&ac()!==a&&(n=ms())!==a?(t,o=n,e={tableList:Array.from(_c),columnList:Tc(jc),ast:{type:"desc",table:o}},t=e):(cu=t,t=a);var o;return t}());return t}())===a&&(t=function(){var r,t;r=[],t=Au();for(;t!==a;)r.push(t),t=Au();return r}());return t}()),t}function Au(){var t,e;return t=cu,cu,Sc=[],(!0?void 0:a)!==a&&ac()!==a?((e=Eu())===a&&(e=function(){var t,e;t=cu,function(){var t;"return"===r.substr(cu,6).toLowerCase()?(t=r.substr(cu,6),cu+=6):(t=a,0===bu&&wu(Rr));return t}()!==a&&ac()!==a&&(e=gu())!==a?(t,t={type:"return",expr:e}):(cu=t,t=a);return t}()),e!==a?(t,t={stmt:e,vars:Sc}):(cu=t,t=a)):(cu=t,t=a),t}function Eu(){var t,e,n,o;return t=cu,(e=Mu())===a&&(e=Du()),e!==a&&ac()!==a?((n=function(){var t;":="===r.substr(cu,2)?(t=":=",cu+=2):(t=a,0===bu&&wu(Nr));return t}())===a&&(n=sa()),n!==a&&ac()!==a&&(o=gu())!==a?(t,t=e={type:"assign",left:e,symbol:n,right:o}):(cu=t,t=a)):(cu=t,t=a),t}function gu(){var r;return(r=ha())===a&&(r=function(){var r,t,e,n,o;r=cu,(t=Mu())!==a&&ac()!==a&&(e=Oa())!==a&&ac()!==a&&(n=Mu())!==a&&ac()!==a&&(o=Ua())!==a?(r,r=t={type:"join",ltable:t,rtable:n,op:e,on:o}):(cu=r,r=a);return r}())===a&&(r=Tu())===a&&(r=function(){var r,t;r=cu,ec()!==a&&ac()!==a&&(t=xu())!==a&&ac()!==a&&nc()!==a?(r,r={type:"array",value:t}):(cu=r,r=a);return r}()),r}function Tu(){var r,t,e,n,o,u,s,i;if(r=cu,(t=Su())!==a){for(e=[],n=cu,(o=ac())!==a&&(u=fs())!==a&&(s=ac())!==a&&(i=Su())!==a?n=o=[o,u,s,i]:(cu=n,n=a);n!==a;)e.push(n),n=cu,(o=ac())!==a&&(u=fs())!==a&&(s=ac())!==a&&(i=Su())!==a?n=o=[o,u,s,i]:(cu=n,n=a);e!==a?(r,r=t=c(t,e)):(cu=r,r=a)}else cu=r,r=a;return r}function Su(){var r,t,e,n,o,u,s,i;if(r=cu,(t=_u())!==a){for(e=[],n=cu,(o=ac())!==a&&(u=bs())!==a&&(s=ac())!==a&&(i=_u())!==a?n=o=[o,u,s,i]:(cu=n,n=a);n!==a;)e.push(n),n=cu,(o=ac())!==a&&(u=bs())!==a&&(s=ac())!==a&&(i=_u())!==a?n=o=[o,u,s,i]:(cu=n,n=a);e!==a?(r,r=t=c(t,e)):(cu=r,r=a)}else cu=r,r=a;return r}function _u(){var r,t,e;return(r=Ds())===a&&(r=Mu())===a&&(r=ju())===a&&(r=xs())===a&&(r=cu,Zi()!==a&&ac()!==a&&(t=Tu())!==a&&ac()!==a&&Ji()!==a?(r,(e=t).parentheses=!0,r=e):(cu=r,r=a)),r}function ju(){var r,t,e;return r=cu,(t=Os())!==a&&ac()!==a&&Zi()!==a&&ac()!==a?((e=xu())===a&&(e=null),e!==a&&ac()!==a&&Ji()!==a?(r,r=t={type:"function",name:t,args:{type:"expr_list",value:e}}):(cu=r,r=a)):(cu=r,r=a),r===a&&(r=cu,(t=Os())!==a&&(r,t=function(r){return{type:"function",name:r,args:null}}(t)),r=t),r}function xu(){var r,t,e,n,o,u,s,i;if(r=cu,(t=_u())!==a){for(e=[],n=cu,(o=ac())!==a&&(u=Ki())!==a&&(s=ac())!==a&&(i=_u())!==a?n=o=[o,u,s,i]:(cu=n,n=a);n!==a;)e.push(n),n=cu,(o=ac())!==a&&(u=Ki())!==a&&(s=ac())!==a&&(i=_u())!==a?n=o=[o,u,s,i]:(cu=n,n=a);e!==a?(r,r=t=l(t,e)):(cu=r,r=a)}else cu=r,r=a;return r}function Iu(){var r,t,e,n,o,u,s,i;if(r=cu,(t=Nu())!==a){for(e=[],n=cu,(o=ac())!==a&&(u=Ki())!==a&&(s=ac())!==a&&(i=Nu())!==a?n=o=[o,u,s,i]:(cu=n,n=a);n!==a;)e.push(n),n=cu,(o=ac())!==a&&(u=Ki())!==a&&(s=ac())!==a&&(i=Nu())!==a?n=o=[o,u,s,i]:(cu=n,n=a);e!==a?(r,r=t=l(t,e)):(cu=r,r=a)}else cu=r,r=a;return r}function Nu(){var t,e,n,o,u,s,i,c,l;return t=cu,e=cu,(n=ms())!==a&&(o=ac())!==a&&(u=Qi())!==a?e=n=[n,o,u]:(cu=e,e=a),e===a&&(e=null),e!==a&&(n=ac())!==a&&(o=Es())!==a&&(u=ac())!==a?(61===r.charCodeAt(cu)?(s="=",cu++):(s=a,0===bu&&wu(f)),s!==a&&ac()!==a&&(i=ls())!==a?(t,t=e={column:o,value:i,table:(l=e)&&l[0]}):(cu=t,t=a)):(cu=t,t=a),t===a&&(t=cu,e=cu,(n=ms())!==a&&(o=ac())!==a&&(u=Qi())!==a?e=n=[n,o,u]:(cu=e,e=a),e===a&&(e=null),e!==a&&(n=ac())!==a&&(o=Es())!==a&&(u=ac())!==a?(61===r.charCodeAt(cu)?(s="=",cu++):(s=a,0===bu&&wu(f)),s!==a&&ac()!==a&&(i=pi())!==a&&ac()!==a&&Zi()!==a&&ac()!==a&&(c=ws())!==a&&ac()!==a&&Ji()!==a?(t,t=e=function(r,t,e){return{column:t,value:e,table:r&&r[0],keyword:"values"}}(e,o,c)):(cu=t,t=a)):(cu=t,t=a)),t}function Ru(){var t,e;return t=cu,(e=function(){var t,e,n,o;t=cu,"insert"===r.substr(cu,6).toLowerCase()?(e=r.substr(cu,6),cu+=6):(e=a,0===bu&&wu(Ir));e!==a?(n=cu,bu++,o=Ss(),bu--,o===a?n=void 0:(cu=n,n=a),n!==a?t=e=[e,n]:(cu=t,t=a)):(cu=t,t=a);return t}())!==a&&(t,e="insert"),(t=e)===a&&(t=cu,(e=ia())!==a&&(t,e="replace"),t=e),t}function Ou(){var r,t,e,n,o,u,s,i,c;if(r=cu,ti()!==a)if(ac()!==a)if((t=Zi())!==a)if(ac()!==a)if((e=Ts())!==a){for(n=[],o=cu,(u=ac())!==a&&(s=Ki())!==a&&(i=ac())!==a&&(c=Ts())!==a?o=u=[u,s,i,c]:(cu=o,o=a);o!==a;)n.push(o),o=cu,(u=ac())!==a&&(s=Ki())!==a&&(i=ac())!==a&&(c=Ts())!==a?o=u=[u,s,i,c]:(cu=o,o=a);n!==a&&(o=ac())!==a&&(u=Ji())!==a?(r,r=Ac(e,n)):(cu=r,r=a)}else cu=r,r=a;else cu=r,r=a;else cu=r,r=a;else cu=r,r=a;else cu=r,r=a;return r===a&&(r=cu,ti()!==a&&ac()!==a&&(t=Pu())!==a?(r,r=t):(cu=r,r=a)),r}function ku(){var r;return(r=function(){var r,t;r=cu,pi()!==a&&ac()!==a&&(t=function(){var r,t,e,n,o,u,s,i;if(r=cu,(t=Pu())!==a){for(e=[],n=cu,(o=ac())!==a&&(u=Ki())!==a&&(s=ac())!==a&&(i=Pu())!==a?n=o=[o,u,s,i]:(cu=n,n=a);n!==a;)e.push(n),n=cu,(o=ac())!==a&&(u=Ki())!==a&&(s=ac())!==a&&(i=Pu())!==a?n=o=[o,u,s,i]:(cu=n,n=a);e!==a?(r,t=l(t,e),r=t):(cu=r,r=a)}else cu=r,r=a;return r}())!==a?(r,r=t):(cu=r,r=a);return r}())===a&&(r=ma()),r}function Uu(){var t,e,n;return t=cu,ii()!==a&&ac()!==a?("duplicate"===r.substr(cu,9).toLowerCase()?(e=r.substr(cu,9),cu+=9):(e=a,0===bu&&wu(p)),e!==a&&ac()!==a&&Vi()!==a&&ac()!==a&&oa()!==a&&ac()!==a&&(n=Iu())!==a?(t,t={keyword:"on duplicate key update",set:n}):(cu=t,t=a)):(cu=t,t=a),t}function Mu(){var t,e,n,o,u;return t=cu,(e=function(){var t;(t=function(){var t;"@@"===r.substr(cu,2)?(t="@@",cu+=2):(t=a,0===bu&&wu(Hr));return t}())===a&&(t=pa())===a&&(t=function(){var t;36===r.charCodeAt(cu)?(t="$",cu++):(t=a,0===bu&&wu(Wr));return t}());return t}())!==a&&(n=Du())!==a?(t,o=e,u=n,t=e={type:"var",...u,prefix:o}):(cu=t,t=a),t}function Du(){var t,e,n,o,u;return t=cu,(e=Ts())!==a&&(n=function(){var t,e,n,o,u;t=cu,e=[],n=cu,46===r.charCodeAt(cu)?(o=".",cu++):(o=a,0===bu&&wu(T));o!==a&&(u=Ts())!==a?n=o=[o,u]:(cu=n,n=a);for(;n!==a;)e.push(n),n=cu,46===r.charCodeAt(cu)?(o=".",cu++):(o=a,0===bu&&wu(T)),o!==a&&(u=Ts())!==a?n=o=[o,u]:(cu=n,n=a);e!==a&&(t,e=function(r){const t=[];for(let e=0;e<r.length;e++)t.push(r[e][1]);return t}(e));return t=e}())!==a?(t,o=e,u=n,Sc.push(o),t=e={type:"var",name:o,members:u,prefix:null}):(cu=t,t=a),t===a&&(t=cu,(e=Gs())!==a&&(t,e=function(r){return{type:"var",name:r.value,members:[],quoted:null,prefix:null}}(e)),t=e),t}function Pu(){var r,t;return r=cu,Zi()!==a&&ac()!==a&&(t=Xa())!==a&&ac()!==a&&Ji()!==a?(r,r=t):(cu=r,r=a),r}function Fu(){var t,e;return t=cu,"if"===r.substr(cu,2).toLowerCase()?(e=r.substr(cu,2),cu+=2):(e=a,0===bu&&wu(A)),e!==a&&ac()!==a&&Si()!==a&&ac()!==a&&Ti()!==a?(t,t=e="IF NOT EXISTS"):(cu=t,t=a),t}function $u(){var t,e,n,o;return t=cu,"algorithm"===r.substr(cu,9).toLowerCase()?(e=r.substr(cu,9),cu+=9):(e=a,0===bu&&wu(S)),e!==a&&ac()!==a?((n=sa())===a&&(n=null),n!==a&&ac()!==a?("default"===r.substr(cu,7).toLowerCase()?(o=r.substr(cu,7),cu+=7):(o=a,0===bu&&wu(_)),o===a&&("instant"===r.substr(cu,7).toLowerCase()?(o=r.substr(cu,7),cu+=7):(o=a,0===bu&&wu(j)),o===a&&("inplace"===r.substr(cu,7).toLowerCase()?(o=r.substr(cu,7),cu+=7):(o=a,0===bu&&wu(x)),o===a&&("copy"===r.substr(cu,4).toLowerCase()?(o=r.substr(cu,4),cu+=4):(o=a,0===bu&&wu(I))))),o!==a?(t,t=e={type:"alter",keyword:"algorithm",resource:"algorithm",symbol:n,algorithm:o}):(cu=t,t=a)):(cu=t,t=a)):(cu=t,t=a),t}function Hu(){var t,e,n,o;return t=cu,"lock"===r.substr(cu,4).toLowerCase()?(e=r.substr(cu,4),cu+=4):(e=a,0===bu&&wu(N)),e!==a&&ac()!==a?((n=sa())===a&&(n=null),n!==a&&ac()!==a?("default"===r.substr(cu,7).toLowerCase()?(o=r.substr(cu,7),cu+=7):(o=a,0===bu&&wu(_)),o===a&&("none"===r.substr(cu,4).toLowerCase()?(o=r.substr(cu,4),cu+=4):(o=a,0===bu&&wu(R)),o===a&&("shared"===r.substr(cu,6).toLowerCase()?(o=r.substr(cu,6),cu+=6):(o=a,0===bu&&wu(O)),o===a&&("exclusive"===r.substr(cu,9).toLowerCase()?(o=r.substr(cu,9),cu+=9):(o=a,0===bu&&wu(k))))),o!==a?(t,t=e={type:"alter",keyword:"lock",resource:"lock",symbol:n,lock:o}):(cu=t,t=a)):(cu=t,t=a)):(cu=t,t=a),t}function Wu(){var t;return(t=Bu())===a&&(t=function(){var r,t,e,n,o,u;r=cu,(t=qi())===a&&(t=Vi());t!==a&&ac()!==a?((e=Es())===a&&(e=null),e!==a&&ac()!==a?((n=Zu())===a&&(n=null),n!==a&&ac()!==a&&(o=Ju())!==a&&ac()!==a?((u=ra())===a&&(u=null),u!==a&&ac()!==a?(r,s=n,i=u,t={index:e,definition:o,keyword:t.toLowerCase(),index_type:s,resource:"index",index_options:i},r=t):(cu=r,r=a)):(cu=r,r=a)):(cu=r,r=a)):(cu=r,r=a);var s,i;return r}())===a&&(t=function(){var t,e,n,o,u,s;t=cu,(e=function(){var t,e,n,o;t=cu,"fulltext"===r.substr(cu,8).toLowerCase()?(e=r.substr(cu,8),cu+=8):(e=a,0===bu&&wu(Wo));e!==a?(n=cu,bu++,o=Ss(),bu--,o===a?n=void 0:(cu=n,n=a),n!==a?(t,t=e="FULLTEXT"):(cu=t,t=a)):(cu=t,t=a);return t}())===a&&(e=function(){var t,e,n,o;t=cu,"spatial"===r.substr(cu,7).toLowerCase()?(e=r.substr(cu,7),cu+=7):(e=a,0===bu&&wu(qr));e!==a?(n=cu,bu++,o=Ss(),bu--,o===a?n=void 0:(cu=n,n=a),n!==a?t=e=[e,n]:(cu=t,t=a)):(cu=t,t=a);return t}());e!==a&&ac()!==a?((n=qi())===a&&(n=Vi()),n===a&&(n=null),n!==a&&ac()!==a?((o=Es())===a&&(o=null),o!==a&&ac()!==a&&(u=Ju())!==a&&ac()!==a?((s=ra())===a&&(s=null),s!==a&&ac()!==a?(t,i=e,l=s,e={index:o,definition:u,keyword:(c=n)&&`${i.toLowerCase()} ${c.toLowerCase()}`||i.toLowerCase(),index_options:l,resource:"index"},t=e):(cu=t,t=a)):(cu=t,t=a)):(cu=t,t=a)):(cu=t,t=a);var i,c,l;return t}()),t}function Gu(){var t,e,n;return t=cu,(e=function(){var t,e;t=cu,(e=function(){var t,e,n,o;t=cu,"not null"===r.substr(cu,8).toLowerCase()?(e=r.substr(cu,8),cu+=8):(e=a,0===bu&&wu(tn));e!==a?(n=cu,bu++,o=Ss(),bu--,o===a?n=void 0:(cu=n,n=a),n!==a?t=e=[e,n]:(cu=t,t=a)):(cu=t,t=a);return t}())!==a&&(t,e={type:"not null",value:"not null"});return t=e}())===a&&(e=Ps()),e!==a&&(t,e=function(r){return r&&!r.value&&(r.value="null"),{nullable:r}}(e)),(t=e)===a&&(t=cu,(e=function(){var r,t;r=cu,zs()!==a&&ac()!==a?((t=Ds())===a&&(t=Ka()),t!==a?(r,r={type:"default",value:t}):(cu=r,r=a)):(cu=r,r=a);return r}())!==a&&(t,e={default_val:e}),(t=e)===a&&(t=cu,"auto_increment"===r.substr(cu,14).toLowerCase()?(e=r.substr(cu,14),cu+=14):(e=a,0===bu&&wu(U)),e!==a&&(t,e={auto_increment:e.toLowerCase()}),(t=e)===a&&(t=cu,"unique"===r.substr(cu,6).toLowerCase()?(e=r.substr(cu,6),cu+=6):(e=a,0===bu&&wu(M)),e!==a&&ac()!==a?("key"===r.substr(cu,3).toLowerCase()?(n=r.substr(cu,3),cu+=3):(n=a,0===bu&&wu(D)),n===a&&(n=null),n!==a?(t,t=e=function(r){const t=["unique"];return r&&t.push(r),{unique:t.join(" ").toLowerCase("")}}(n)):(cu=t,t=a)):(cu=t,t=a),t===a&&(t=cu,"primary"===r.substr(cu,7).toLowerCase()?(e=r.substr(cu,7),cu+=7):(e=a,0===bu&&wu(P)),e===a&&(e=null),e!==a&&ac()!==a?("key"===r.substr(cu,3).toLowerCase()?(n=r.substr(cu,3),cu+=3):(n=a,0===bu&&wu(D)),n!==a?(t,t=e=function(r){const t=[];return r&&t.push("primary"),t.push("key"),{primary_key:t.join(" ").toLowerCase("")}}(e)):(cu=t,t=a)):(cu=t,t=a),t===a&&(t=cu,(e=Vu())!==a&&(t,e={comment:e}),(t=e)===a&&(t=cu,(e=function(){var t,e,n;t=cu,function(){var t,e,n,o;t=cu,"collate"===r.substr(cu,7).toLowerCase()?(e=r.substr(cu,7),cu+=7):(e=a,0===bu&&wu(sr));e!==a?(n=cu,bu++,o=Ss(),bu--,o===a?n=void 0:(cu=n,n=a),n!==a?(t,t=e="COLLATE"):(cu=t,t=a)):(cu=t,t=a);return t}()!==a&&ac()!==a?((e=sa())===a&&(e=null),e!==a&&ac()!==a&&(n=Ts())!==a?(t,t={type:"collate",symbol:e,value:n}):(cu=t,t=a)):(cu=t,t=a);return t}())!==a&&(t,e={collate:e}),(t=e)===a&&(t=cu,(e=function(){var t,e,n;t=cu,"column_format"===r.substr(cu,13).toLowerCase()?(e=r.substr(cu,13),cu+=13):(e=a,0===bu&&wu($));e!==a&&ac()!==a?("fixed"===r.substr(cu,5).toLowerCase()?(n=r.substr(cu,5),cu+=5):(n=a,0===bu&&wu(H)),n===a&&("dynamic"===r.substr(cu,7).toLowerCase()?(n=r.substr(cu,7),cu+=7):(n=a,0===bu&&wu(W)),n===a&&("default"===r.substr(cu,7).toLowerCase()?(n=r.substr(cu,7),cu+=7):(n=a,0===bu&&wu(_)))),n!==a?(t,e={type:"column_format",value:n.toLowerCase()},t=e):(cu=t,t=a)):(cu=t,t=a);return t}())!==a&&(t,e={column_format:e}),(t=e)===a&&(t=cu,(e=function(){var t,e,n;t=cu,"storage"===r.substr(cu,7).toLowerCase()?(e=r.substr(cu,7),cu+=7):(e=a,0===bu&&wu(G));e!==a&&ac()!==a?("disk"===r.substr(cu,4).toLowerCase()?(n=r.substr(cu,4),cu+=4):(n=a,0===bu&&wu(B)),n===a&&("memory"===r.substr(cu,6).toLowerCase()?(n=r.substr(cu,6),cu+=6):(n=a,0===bu&&wu(Y))),n!==a?(t,e={type:"storage",value:n.toLowerCase()},t=e):(cu=t,t=a)):(cu=t,t=a);return t}())!==a&&(t,e={storage:e}),(t=e)===a&&(t=cu,(e=Xu())!==a&&(t,e={reference_definition:e}),t=e))))))))),t}function Bu(){var r,t,e,o,u,s,i;return r=cu,(t=ws())!==a&&ac()!==a&&(e=vc())!==a&&ac()!==a?((o=function(){var r,t,e,n,o,u;if(r=cu,(t=Gu())!==a)if(ac()!==a){for(e=[],n=cu,(o=ac())!==a&&(u=Gu())!==a?n=o=[o,u]:(cu=n,n=a);n!==a;)e.push(n),n=cu,(o=ac())!==a&&(u=Gu())!==a?n=o=[o,u]:(cu=n,n=a);e!==a?(r,r=t=function(r,t){let e=r;for(let r=0;r<t.length;r++)e={...e,...t[r][1]};return e}(t,e)):(cu=r,r=a)}else cu=r,r=a;else cu=r,r=a;return r}())===a&&(o=null),o!==a?(r,u=t,s=e,i=o,jc.add(`create::${u.table}::${u.column}`),n&&!n.value&&(n.value="null"),r=t={column:u,definition:s,resource:"column",...i||{}}):(cu=r,r=a)):(cu=r,r=a),r}function Yu(){var t,e,n,o,u;return t=cu,(e=Ra())!==a&&ac()!==a&&(n=function(){var t,e,n;t=cu,"read"===r.substr(cu,4).toLowerCase()?(e=r.substr(cu,4),cu+=4):(e=a,0===bu&&wu(ir));e!==a&&ac()!==a?("local"===r.substr(cu,5).toLowerCase()?(n=r.substr(cu,5),cu+=5):(n=a,0===bu&&wu(cr)),n===a&&(n=null),n!==a?(t,t=e={type:"read",suffix:n&&"local"}):(cu=t,t=a)):(cu=t,t=a);t===a&&(t=cu,"low_priority"===r.substr(cu,12).toLowerCase()?(e=r.substr(cu,12),cu+=12):(e=a,0===bu&&wu(lr)),e===a&&(e=null),e!==a&&ac()!==a?("write"===r.substr(cu,5).toLowerCase()?(n=r.substr(cu,5),cu+=5):(n=a,0===bu&&wu(fr)),n!==a?(t,t=e={type:"write",prefix:e&&"low_priority"}):(cu=t,t=a)):(cu=t,t=a));return t}())!==a?(t,o=e,u=n,_c.add(`lock::${o.db}::${o.table}`),t=e={table:o,lock_type:u}):(cu=t,t=a),t}function qu(){var t;return(t=function(){var t,e,n,o,u,s,i,c;t=cu,(e=na())===a&&(e=null);e!==a&&ac()!==a?(n=cu,"primary"===r.substr(cu,7).toLowerCase()?(o=r.substr(cu,7),cu+=7):(o=a,0===bu&&wu(P)),o!==a&&(u=ac())!==a?("key"===r.substr(cu,3).toLowerCase()?(s=r.substr(cu,3),cu+=3):(s=a,0===bu&&wu(D)),s!==a?n=o=[o,u,s]:(cu=n,n=a)):(cu=n,n=a),n!==a&&(o=ac())!==a?((u=Zu())===a&&(u=null),u!==a&&(s=ac())!==a&&(i=Ju())!==a&&ac()!==a?((c=ra())===a&&(c=null),c!==a?(t,f=n,p=u,b=i,v=c,e={constraint:(l=e)&&l.constraint,definition:b,constraint_type:`${f[0].toLowerCase()} ${f[2].toLowerCase()}`,keyword:l&&l.keyword,index_type:p,resource:"constraint",index_options:v},t=e):(cu=t,t=a)):(cu=t,t=a)):(cu=t,t=a)):(cu=t,t=a);var l,f,p,b,v;return t}())===a&&(t=function(){var t,e,n,o,u,s,i,c;t=cu,(e=na())===a&&(e=null);e!==a&&ac()!==a&&(n=function(){var t,e,n,o;t=cu,"unique"===r.substr(cu,6).toLowerCase()?(e=r.substr(cu,6),cu+=6):(e=a,0===bu&&wu(M));e!==a?(n=cu,bu++,o=Ss(),bu--,o===a?n=void 0:(cu=n,n=a),n!==a?(t,t=e="UNIQUE"):(cu=t,t=a)):(cu=t,t=a);return t}())!==a&&ac()!==a?((o=qi())===a&&(o=Vi()),o===a&&(o=null),o!==a&&ac()!==a?((u=Es())===a&&(u=null),u!==a&&ac()!==a?((s=Zu())===a&&(s=null),s!==a&&ac()!==a&&(i=Ju())!==a&&ac()!==a?((c=ra())===a&&(c=null),c!==a?(t,f=n,p=o,b=u,v=s,d=i,y=c,e={constraint:(l=e)&&l.constraint,definition:d,constraint_type:p&&`${f.toLowerCase()} ${p.toLowerCase()}`||f.toLowerCase(),keyword:l&&l.keyword,index_type:v,index:b,resource:"constraint",index_options:y},t=e):(cu=t,t=a)):(cu=t,t=a)):(cu=t,t=a)):(cu=t,t=a)):(cu=t,t=a);var l,f,p,b,v,d,y;return t}())===a&&(t=function(){var t,e,n,o,u,s;t=cu,(e=na())===a&&(e=null);e!==a&&ac()!==a?("foreign key"===r.substr(cu,11).toLowerCase()?(n=r.substr(cu,11),cu+=11):(n=a,0===bu&&wu(pr)),n!==a&&ac()!==a?((o=Es())===a&&(o=null),o!==a&&ac()!==a&&(u=Ju())!==a&&ac()!==a?((s=Xu())===a&&(s=null),s!==a?(t,c=n,l=o,f=u,p=s,e={constraint:(i=e)&&i.constraint,definition:f,constraint_type:c,keyword:i&&i.keyword,index:l,resource:"constraint",reference_definition:p},t=e):(cu=t,t=a)):(cu=t,t=a)):(cu=t,t=a)):(cu=t,t=a);var i,c,l,f,p;return t}())===a&&(t=function(){var t,e,n,o,u,s,i,c,l,f;t=cu,(e=na())===a&&(e=null);e!==a&&ac()!==a?("check"===r.substr(cu,5).toLowerCase()?(n=r.substr(cu,5),cu+=5):(n=a,0===bu&&wu(br)),n!==a&&ac()!==a?(o=cu,"not"===r.substr(cu,3).toLowerCase()?(u=r.substr(cu,3),cu+=3):(u=a,0===bu&&wu(vr)),u!==a&&(s=ac())!==a?("for"===r.substr(cu,3).toLowerCase()?(i=r.substr(cu,3),cu+=3):(i=a,0===bu&&wu(F)),i!==a&&(c=ac())!==a?("replication"===r.substr(cu,11).toLowerCase()?(l=r.substr(cu,11),cu+=11):(l=a,0===bu&&wu(dr)),l!==a&&(f=ac())!==a?o=u=[u,s,i,c,l,f]:(cu=o,o=a)):(cu=o,o=a)):(cu=o,o=a),o===a&&(o=null),o!==a&&(u=Zi())!==a&&(s=ac())!==a&&(i=Ka())!==a&&(c=ac())!==a&&(l=Ji())!==a?(t,p=e,b=o,v=i,e={constraint_type:n.toLowerCase(),keyword:p&&p.keyword,constraint:p&&p.constraint,index_type:b&&{keyword:"not for replication"},definition:[v],resource:"constraint"},t=e):(cu=t,t=a)):(cu=t,t=a)):(cu=t,t=a);var p,b,v;return t}()),t}function Vu(){var r,t,e,n,o,u,s;return r=cu,(t=Xi())!==a&&ac()!==a?((e=sa())===a&&(e=null),e!==a&&ac()!==a&&(n=Fs())!==a?(r,u=e,s=n,r=t={type:(o=t).toLowerCase(),keyword:o.toLowerCase(),symbol:u,value:s}):(cu=r,r=a)):(cu=r,r=a),r}function Xu(){var t,e,n,o,u,s,i,c,l,f;return t=cu,(e=function(){var t,e,n,o;t=cu,"references"===r.substr(cu,10).toLowerCase()?(e=r.substr(cu,10),cu+=10):(e=a,0===bu&&wu(Yo));e!==a?(n=cu,bu++,o=Ss(),bu--,o===a?n=void 0:(cu=n,n=a),n!==a?(t,t=e="REFERENCES"):(cu=t,t=a)):(cu=t,t=a);return t}())!==a&&ac()!==a&&(n=xa())!==a&&ac()!==a&&(o=Ju())!==a&&ac()!==a?("match full"===r.substr(cu,10).toLowerCase()?(u=r.substr(cu,10),cu+=10):(u=a,0===bu&&wu(q)),u===a&&("match partial"===r.substr(cu,13).toLowerCase()?(u=r.substr(cu,13),cu+=13):(u=a,0===bu&&wu(V)),u===a&&("match simple"===r.substr(cu,12).toLowerCase()?(u=r.substr(cu,12),cu+=12):(u=a,0===bu&&wu(X)))),u===a&&(u=null),u!==a&&ac()!==a?((s=ea())===a&&(s=null),s!==a&&ac()!==a?((i=ea())===a&&(i=null),i!==a?(t,c=u,l=s,f=i,t=e={definition:o,table:n,keyword:e.toLowerCase(),match:c&&c.toLowerCase(),on_action:[l,f].filter(r=>r)}):(cu=t,t=a)):(cu=t,t=a)):(cu=t,t=a)):(cu=t,t=a),t===a&&(t=cu,(e=ea())!==a&&(t,e={on_action:[e]}),t=e),t}function Qu(){var t,e,n,o,u,s,i,c,l;return t=cu,"auto_increment"===r.substr(cu,14).toLowerCase()?(e=r.substr(cu,14),cu+=14):(e=a,0===bu&&wu(U)),e===a&&("avg_row_length"===r.substr(cu,14).toLowerCase()?(e=r.substr(cu,14),cu+=14):(e=a,0===bu&&wu(Q)),e===a&&("key_block_size"===r.substr(cu,14).toLowerCase()?(e=r.substr(cu,14),cu+=14):(e=a,0===bu&&wu(K)),e===a&&("max_rows"===r.substr(cu,8).toLowerCase()?(e=r.substr(cu,8),cu+=8):(e=a,0===bu&&wu(z)),e===a&&("min_rows"===r.substr(cu,8).toLowerCase()?(e=r.substr(cu,8),cu+=8):(e=a,0===bu&&wu(Z)),e===a&&("stats_sample_pages"===r.substr(cu,18).toLowerCase()?(e=r.substr(cu,18),cu+=18):(e=a,0===bu&&wu(J))))))),e!==a&&ac()!==a?((n=sa())===a&&(n=null),n!==a&&ac()!==a&&(o=Gs())!==a?(t,c=n,l=o,t=e={keyword:e.toLowerCase(),symbol:c,value:l.value}):(cu=t,t=a)):(cu=t,t=a),t===a&&(t=Ku())===a&&(t=cu,(e=Xi())===a&&("connection"===r.substr(cu,10).toLowerCase()?(e=r.substr(cu,10),cu+=10):(e=a,0===bu&&wu(rr))),e!==a&&ac()!==a?((n=sa())===a&&(n=null),n!==a&&ac()!==a&&(o=Fs())!==a?(t,t=e=function(r,t,e){return{keyword:r.toLowerCase(),symbol:t,value:`'${e.value}'`}}(e,n,o)):(cu=t,t=a)):(cu=t,t=a),t===a&&(t=cu,"compression"===r.substr(cu,11).toLowerCase()?(e=r.substr(cu,11),cu+=11):(e=a,0===bu&&wu(tr)),e!==a&&ac()!==a?((n=sa())===a&&(n=null),n!==a&&ac()!==a?(o=cu,39===r.charCodeAt(cu)?(u="'",cu++):(u=a,0===bu&&wu(er)),u!==a?("zlib"===r.substr(cu,4).toLowerCase()?(s=r.substr(cu,4),cu+=4):(s=a,0===bu&&wu(nr)),s===a&&("lz4"===r.substr(cu,3).toLowerCase()?(s=r.substr(cu,3),cu+=3):(s=a,0===bu&&wu(or)),s===a&&("none"===r.substr(cu,4).toLowerCase()?(s=r.substr(cu,4),cu+=4):(s=a,0===bu&&wu(R)))),s!==a?(39===r.charCodeAt(cu)?(i="'",cu++):(i=a,0===bu&&wu(er)),i!==a?o=u=[u,s,i]:(cu=o,o=a)):(cu=o,o=a)):(cu=o,o=a),o!==a?(t,t=e=function(r,t,e){return{keyword:r.toLowerCase(),symbol:t,value:e.join("").toUpperCase()}}(e,n,o)):(cu=t,t=a)):(cu=t,t=a)):(cu=t,t=a),t===a&&(t=cu,"engine"===r.substr(cu,6).toLowerCase()?(e=r.substr(cu,6),cu+=6):(e=a,0===bu&&wu(ur)),e!==a&&ac()!==a?((n=sa())===a&&(n=null),n!==a&&ac()!==a&&(o=Ts())!==a?(t,t=e=function(r,t,e){return{keyword:r.toLowerCase(),symbol:t,value:e.toUpperCase()}}(e,n,o)):(cu=t,t=a)):(cu=t,t=a)))),t}function Ku(){var t,e,n,o,u,s,i,c,l;return t=cu,(e=zs())===a&&(e=null),e!==a&&ac()!==a?((n=function(){var t,e,n;t=cu,"character"===r.substr(cu,9).toLowerCase()?(e=r.substr(cu,9),cu+=9):(e=a,0===bu&&wu(w));e!==a&&ac()!==a?("set"===r.substr(cu,3).toLowerCase()?(n=r.substr(cu,3),cu+=3):(n=a,0===bu&&wu(m)),n!==a?(t,t=e="CHARACTER SET"):(cu=t,t=a)):(cu=t,t=a);return t}())===a&&("charset"===r.substr(cu,7).toLowerCase()?(n=r.substr(cu,7),cu+=7):(n=a,0===bu&&wu(ar)),n===a&&("collate"===r.substr(cu,7).toLowerCase()?(n=r.substr(cu,7),cu+=7):(n=a,0===bu&&wu(sr)))),n!==a&&ac()!==a?((o=sa())===a&&(o=null),o!==a&&ac()!==a&&(u=Ts())!==a?(t,i=n,c=o,l=u,t=e={keyword:(s=e)&&`${s[0].toLowerCase()} ${i.toLowerCase()}`||i.toLowerCase(),symbol:c,value:l}):(cu=t,t=a)):(cu=t,t=a)):(cu=t,t=a),t}function zu(){var t;return(t=function(){var t,e,n,o;t=cu,(e=function(){var t,e,n,o;t=cu,"add"===r.substr(cu,3).toLowerCase()?(e=r.substr(cu,3),cu+=3):(e=a,0===bu&&wu(Fo));e!==a?(n=cu,bu++,o=Ss(),bu--,o===a?n=void 0:(cu=n,n=a),n!==a?(t,t=e="ADD"):(cu=t,t=a)):(cu=t,t=a);return t}())!==a&&ac()!==a?((n=Yi())===a&&(n=null),n!==a&&ac()!==a&&(o=Bu())!==a?(t,u=n,s=o,e={action:"add",...s,keyword:u,resource:"column",type:"alter"},t=e):(cu=t,t=a)):(cu=t,t=a);var u,s;return t}())===a&&(t=function(){var r,t,e;r=cu,Js()!==a&&ac()!==a?((t=Yi())===a&&(t=null),t!==a&&ac()!==a&&(e=ws())!==a?(r,r={action:"drop",column:e,keyword:t,resource:"column",type:"alter"}):(cu=r,r=a)):(cu=r,r=a);return r}())===a&&(t=function(){var r,t,e,n;r=cu,(t=la())!==a&&ac()!==a?((e=Zs())===a&&(e=ui()),e===a&&(e=null),e!==a&&ac()!==a&&(n=ms())!==a?(r,u=n,t={action:"rename",type:"alter",resource:"table",keyword:(o=e)&&o[0].toLowerCase(),table:u},r=t):(cu=r,r=a)):(cu=r,r=a);var o,u;return r}()),t}function Zu(){var t,e;return t=cu,bi()!==a&&ac()!==a?("btree"===r.substr(cu,5).toLowerCase()?(e=r.substr(cu,5),cu+=5):(e=a,0===bu&&wu(yr)),e===a&&("hash"===r.substr(cu,4).toLowerCase()?(e=r.substr(cu,4),cu+=4):(e=a,0===bu&&wu(hr))),e!==a?(t,t={keyword:"using",type:e.toLowerCase()}):(cu=t,t=a)):(cu=t,t=a),t}function Ju(){var r,t,e,n,o,u,s,i;if(r=cu,Zi()!==a)if(ac()!==a)if((t=Es())!==a){for(e=[],n=cu,(o=ac())!==a&&(u=Ki())!==a&&(s=ac())!==a&&(i=Es())!==a?n=o=[o,u,s,i]:(cu=n,n=a);n!==a;)e.push(n),n=cu,(o=ac())!==a&&(u=Ki())!==a&&(s=ac())!==a&&(i=Es())!==a?n=o=[o,u,s,i]:(cu=n,n=a);e!==a&&(n=ac())!==a&&(o=Ji())!==a?(r,r=l(t,e)):(cu=r,r=a)}else cu=r,r=a;else cu=r,r=a;else cu=r,r=a;return r}function ra(){var r,t,e,n,o,u;if(r=cu,(t=ta())!==a){for(e=[],n=cu,(o=ac())!==a&&(u=ta())!==a?n=o=[o,u]:(cu=n,n=a);n!==a;)e.push(n),n=cu,(o=ac())!==a&&(u=ta())!==a?n=o=[o,u]:(cu=n,n=a);e!==a?(r,r=t=function(r,t){const e=[r];for(let r=0;r<t.length;r++)e.push(t[r][1]);return e}(t,e)):(cu=r,r=a)}else cu=r,r=a;return r}function ta(){var t,e,n,o,u,s;return t=cu,(e=function(){var t,e,n,o;t=cu,"key_block_size"===r.substr(cu,14).toLowerCase()?(e=r.substr(cu,14),cu+=14):(e=a,0===bu&&wu(K));e!==a?(n=cu,bu++,o=Ss(),bu--,o===a?n=void 0:(cu=n,n=a),n!==a?t=e=[e,n]:(cu=t,t=a)):(cu=t,t=a);return t}())!==a&&ac()!==a?((n=sa())===a&&(n=null),n!==a&&ac()!==a&&(o=Gs())!==a?(t,u=n,s=o,t=e={type:e.toLowerCase(),symbol:u,expr:s}):(cu=t,t=a)):(cu=t,t=a),t===a&&(t=Zu())===a&&(t=cu,"with"===r.substr(cu,4).toLowerCase()?(e=r.substr(cu,4),cu+=4):(e=a,0===bu&&wu(wr)),e!==a&&ac()!==a?("parser"===r.substr(cu,6).toLowerCase()?(n=r.substr(cu,6),cu+=6):(n=a,0===bu&&wu(mr)),n!==a&&ac()!==a&&(o=Ts())!==a?(t,t=e={type:"with parser",expr:o}):(cu=t,t=a)):(cu=t,t=a),t===a&&(t=cu,"visible"===r.substr(cu,7).toLowerCase()?(e=r.substr(cu,7),cu+=7):(e=a,0===bu&&wu(Lr)),e===a&&("invisible"===r.substr(cu,9).toLowerCase()?(e=r.substr(cu,9),cu+=9):(e=a,0===bu&&wu(Cr))),e!==a&&(t,e=function(r){return{type:r.toLowerCase(),expr:r.toLowerCase()}}(e)),(t=e)===a&&(t=Vu()))),t}function ea(){var t,e,n,o;return t=cu,ii()!==a&&ac()!==a?((e=aa())===a&&(e=oa()),e!==a&&ac()!==a&&(n=function(){var t,e,n;t=cu,(e=Bi())!==a&&ac()!==a&&Zi()!==a&&ac()!==a?((n=Xa())===a&&(n=null),n!==a&&ac()!==a&&Ji()!==a?(t,t=e={type:"function",name:e,args:n}):(cu=t,t=a)):(cu=t,t=a);t===a&&(t=cu,"restrict"===r.substr(cu,8).toLowerCase()?(e=r.substr(cu,8),cu+=8):(e=a,0===bu&&wu(Ar)),e===a&&("cascade"===r.substr(cu,7).toLowerCase()?(e=r.substr(cu,7),cu+=7):(e=a,0===bu&&wu(Er)),e===a&&("set null"===r.substr(cu,8).toLowerCase()?(e=r.substr(cu,8),cu+=8):(e=a,0===bu&&wu(gr)),e===a&&("no action"===r.substr(cu,9).toLowerCase()?(e=r.substr(cu,9),cu+=9):(e=a,0===bu&&wu(Tr)),e===a&&("set default"===r.substr(cu,11).toLowerCase()?(e=r.substr(cu,11),cu+=11):(e=a,0===bu&&wu(Sr)),e===a&&(e=Bi()))))),e!==a&&(t,e={type:"origin",value:e.toLowerCase()}),t=e);return t}())!==a?(t,o=n,t={type:"on "+e[0].toLowerCase(),value:o}):(cu=t,t=a)):(cu=t,t=a),t}function na(){var t,e,n,o;return t=cu,(e=function(){var t,e,n,o;t=cu,"constraint"===r.substr(cu,10).toLowerCase()?(e=r.substr(cu,10),cu+=10):(e=a,0===bu&&wu(Bo));e!==a?(n=cu,bu++,o=Ss(),bu--,o===a?n=void 0:(cu=n,n=a),n!==a?(t,t=e="CONSTRAINT"):(cu=t,t=a)):(cu=t,t=a);return t}())!==a&&ac()!==a?((n=ms())===a&&(n=null),n!==a?(t,o=n,t=e={keyword:e.toLowerCase(),constraint:o}):(cu=t,t=a)):(cu=t,t=a),t}function oa(){var t,e,n,o;return t=cu,"update"===r.substr(cu,6).toLowerCase()?(e=r.substr(cu,6),cu+=6):(e=a,0===bu&&wu(_r)),e!==a?(n=cu,bu++,o=Ss(),bu--,o===a?n=void 0:(cu=n,n=a),n!==a?t=e=[e,n]:(cu=t,t=a)):(cu=t,t=a),t}function ua(){var t,e,n,o;return t=cu,"create"===r.substr(cu,6).toLowerCase()?(e=r.substr(cu,6),cu+=6):(e=a,0===bu&&wu(jr)),e!==a?(n=cu,bu++,o=Ss(),bu--,o===a?n=void 0:(cu=n,n=a),n!==a?t=e=[e,n]:(cu=t,t=a)):(cu=t,t=a),t}function aa(){var t,e,n,o;return t=cu,"delete"===r.substr(cu,6).toLowerCase()?(e=r.substr(cu,6),cu+=6):(e=a,0===bu&&wu(xr)),e!==a?(n=cu,bu++,o=Ss(),bu--,o===a?n=void 0:(cu=n,n=a),n!==a?t=e=[e,n]:(cu=t,t=a)):(cu=t,t=a),t}function sa(){var t;return 61===r.charCodeAt(cu)?(t="=",cu++):(t=a,0===bu&&wu(f)),t}function ia(){var t,e,n,o;return t=cu,"replace"===r.substr(cu,7).toLowerCase()?(e=r.substr(cu,7),cu+=7):(e=a,0===bu&&wu(Or)),e!==a?(n=cu,bu++,o=Ss(),bu--,o===a?n=void 0:(cu=n,n=a),n!==a?t=e=[e,n]:(cu=t,t=a)):(cu=t,t=a),t}function ca(){var t,e,n,o;return t=cu,"database"===r.substr(cu,8).toLowerCase()?(e=r.substr(cu,8),cu+=8):(e=a,0===bu&&wu(Mr)),e!==a?(n=cu,bu++,o=Ss(),bu--,o===a?n=void 0:(cu=n,n=a),n!==a?t=e=[e,n]:(cu=t,t=a)):(cu=t,t=a),t}function la(){var t,e,n,o;return t=cu,"rename"===r.substr(cu,6).toLowerCase()?(e=r.substr(cu,6),cu+=6):(e=a,0===bu&&wu(Dr)),e!==a?(n=cu,bu++,o=Ss(),bu--,o===a?n=void 0:(cu=n,n=a),n!==a?t=e=[e,n]:(cu=t,t=a)):(cu=t,t=a),t}function fa(){var t,e,n,o;return t=cu,"show"===r.substr(cu,4).toLowerCase()?(e=r.substr(cu,4),cu+=4):(e=a,0===bu&&wu(Pr)),e!==a?(n=cu,bu++,o=Ss(),bu--,o===a?n=void 0:(cu=n,n=a),n!==a?t=e=[e,n]:(cu=t,t=a)):(cu=t,t=a),t}function pa(){var t;return 64===r.charCodeAt(cu)?(t="@",cu++):(t=a,0===bu&&wu($r)),t}function ba(){var t,e,n,o;return t=cu,"temporary"===r.substr(cu,9).toLowerCase()?(e=r.substr(cu,9),cu+=9):(e=a,0===bu&&wu(Gr)),e!==a?(n=cu,bu++,o=Ss(),bu--,o===a?n=void 0:(cu=n,n=a),n!==a?t=e=[e,n]:(cu=t,t=a)):(cu=t,t=a),t}function va(){var t,e,n,o;return t=cu,(e=function(){var t,e,n,o;t=cu,"union"===r.substr(cu,5).toLowerCase()?(e=r.substr(cu,5),cu+=5):(e=a,0===bu&&wu(Tn));e!==a?(n=cu,bu++,o=Ss(),bu--,o===a?n=void 0:(cu=n,n=a),n!==a?t=e=[e,n]:(cu=t,t=a)):(cu=t,t=a);return t}())!==a&&ac()!==a?((n=mi())===a&&(n=Li()),n===a&&(n=null),n!==a?(t,t=e=(o=n)?"union "+o.toLowerCase():"union"):(cu=t,t=a)):(cu=t,t=a),t===a&&(t=cu,"intersect"===r.substr(cu,9).toLowerCase()?(e=r.substr(cu,9),cu+=9):(e=a,0===bu&&wu(Qr)),e===a&&("except"===r.substr(cu,6).toLowerCase()?(e=r.substr(cu,6),cu+=6):(e=a,0===bu&&wu(Kr))),e!==a&&ac()!==a&&(n=Li())!==a?(t,t=e=function(r,t){return`${r.toLowerCase()} ${t.toLowerCase()}`}(e,n)):(cu=t,t=a)),t}function da(){var t,e,n,o,u,s,i;return(t=ya())===a&&(t=cu,e=cu,40===r.charCodeAt(cu)?(n="(",cu++):(n=a,0===bu&&wu(Vr)),n!==a&&(o=ac())!==a&&(u=ya())!==a&&(s=ac())!==a?(41===r.charCodeAt(cu)?(i=")",cu++):(i=a,0===bu&&wu(Xr)),i!==a?e=n=[n,o,u,s,i]:(cu=e,e=a)):(cu=e,e=a),e!==a&&(t,e={...e[2],_parentheses:!0}),t=e),t}function ya(){var r,t,e,n,o,u,s,i;if(r=cu,(t=ha())!==a){for(e=[],n=cu,(o=ac())!==a?((u=va())===a&&(u=null),u!==a&&(s=ac())!==a&&(i=ha())!==a?n=o=[o,u,s,i]:(cu=n,n=a)):(cu=n,n=a);n!==a;)e.push(n),n=cu,(o=ac())!==a?((u=va())===a&&(u=null),u!==a&&(s=ac())!==a&&(i=ha())!==a?n=o=[o,u,s,i]:(cu=n,n=a)):(cu=n,n=a);e!==a&&(n=ac())!==a?((o=Ba())===a&&(o=null),o!==a&&(u=ac())!==a?((s=Va())===a&&(s=null),s!==a?(r,r=t=function(r,t,e,n){let o=r;for(let r=0;r<t.length;r++)o._next=t[r][3],o.set_op=t[r][1],o=o._next;return{tableList:Array.from(_c),columnList:Tc(jc),ast:r}}(t,e)):(cu=r,r=a)):(cu=r,r=a)):(cu=r,r=a)}else cu=r,r=a;return r}function ha(){var t,e,n,o,u,s,i;return(t=ma())===a&&(t=cu,e=cu,40===r.charCodeAt(cu)?(n="(",cu++):(n=a,0===bu&&wu(Vr)),n!==a&&(o=ac())!==a&&(u=ha())!==a&&(s=ac())!==a?(41===r.charCodeAt(cu)?(i=")",cu++):(i=a,0===bu&&wu(Xr)),i!==a?e=n=[n,o,u,s,i]:(cu=e,e=a)):(cu=e,e=a),e!==a&&(t,e={...e[2],parentheses_symbol:!0}),t=e),t}function wa(){var r,t,e,n;return r=cu,(t=Fs())===a&&(t=Ts()),t!==a&&ac()!==a&&ui()!==a&&ac()!==a&&Zi()!==a&&ac()!==a&&(e=da())!==a&&ac()!==a&&Ji()!==a?(r,"string"==typeof(n=t)&&(n={type:"default",value:n}),r=t={name:n,stmt:e}):(cu=r,r=a),r}function ma(){var t,e,n,o,u,s,i,c,f,p,b,v,d,y,h,w,m,L,C,A,E,g,T,S,_,j,x;return t=cu,ac()!==a?((e=function(){var r,t,e,n,o,u,s,i;if(r=cu,vi()!==a)if(ac()!==a)if((t=wa())!==a){for(e=[],n=cu,(o=ac())!==a&&(u=Ki())!==a&&(s=ac())!==a&&(i=wa())!==a?n=o=[o,u,s,i]:(cu=n,n=a);n!==a;)e.push(n),n=cu,(o=ac())!==a&&(u=Ki())!==a&&(s=ac())!==a&&(i=wa())!==a?n=o=[o,u,s,i]:(cu=n,n=a);e!==a?(r,r=l(t,e)):(cu=r,r=a)}else cu=r,r=a;else cu=r,r=a;else cu=r,r=a;return r}())===a&&(e=null),e!==a&&ac()!==a&&function(){var t,e,n,o;t=cu,"select"===r.substr(cu,6).toLowerCase()?(e=r.substr(cu,6),cu+=6):(e=a,0===bu&&wu(sn));e!==a?(n=cu,bu++,o=Ss(),bu--,o===a?n=void 0:(cu=n,n=a),n!==a?t=e=[e,n]:(cu=t,t=a)):(cu=t,t=a);return t}()!==a&&sc()!==a?((n=function(){var t,e,n;t=cu,(e=ui())!==a&&ac()!==a?((n=Di())===a&&(n=function(){var t,e,n,o;t=cu,"value"===r.substr(cu,5).toLowerCase()?(e=r.substr(cu,5),cu+=5):(e=a,0===bu&&wu(Sn));e!==a?(n=cu,bu++,o=Ss(),bu--,o===a?n=void 0:(cu=n,n=a),n!==a?(t,t=e="VALUE"):(cu=t,t=a)):(cu=t,t=a);return t}()),n!==a?(t,o=n,e=`${e[0].toLowerCase()} ${o.toLowerCase()}`,t=e):(cu=t,t=a)):(cu=t,t=a);var o;return t}())===a&&(n=null),n!==a&&ac()!==a?((o=mi())===a&&(o=Li()),o===a&&(o=null),o!==a&&ac()!==a&&(u=Ca())!==a&&ac()!==a?((s=_a())===a&&(s=null),s!==a&&ac()!==a?((i=function(){var t,e,n,o,u,s;t=cu,"for"===r.substr(cu,3).toLowerCase()?(e=r.substr(cu,3),cu+=3):(e=a,0===bu&&wu(F));e!==a&&ac()!==a?("system_time"===r.substr(cu,11).toLowerCase()?(n=r.substr(cu,11),cu+=11):(n=a,0===bu&&wu(zr)),n!==a&&ac()!==a?("as"===r.substr(cu,2).toLowerCase()?(o=r.substr(cu,2),cu+=2):(o=a,0===bu&&wu(Zr)),o!==a&&ac()!==a?("of"===r.substr(cu,2).toLowerCase()?(u=r.substr(cu,2),cu+=2):(u=a,0===bu&&wu(Jr)),u!==a&&ac()!==a&&(s=Ka())!==a?(t,t=e={keyword:"for system_time as of",expr:s}):(cu=t,t=a)):(cu=t,t=a)):(cu=t,t=a)):(cu=t,t=a);return t}())===a&&(i=null),i!==a&&ac()!==a?((c=Ma())===a&&(c=null),c!==a&&ac()!==a?((f=function(){var t,e,n;t=cu,(e=function(){var t,e,n,o;t=cu,"group"===r.substr(cu,5).toLowerCase()?(e=r.substr(cu,5),cu+=5):(e=a,0===bu&&wu(In));e!==a?(n=cu,bu++,o=Ss(),bu--,o===a?n=void 0:(cu=n,n=a),n!==a?t=e=[e,n]:(cu=t,t=a)):(cu=t,t=a);return t}())!==a&&ac()!==a&&di()!==a&&ac()!==a&&(n=Xa())!==a?(t,e=n.value,t=e):(cu=t,t=a);return t}())===a&&(f=null),f!==a&&ac()!==a?((p=function(){var r,t;r=cu,yi()!==a&&ac()!==a&&(t=ts())!==a?(r,r=t):(cu=r,r=a);return r}())===a&&(p=null),p!==a&&ac()!==a?((b=function(){var t,e;t=cu,function(){var t,e,n,o;t=cu,"qualify"===r.substr(cu,7).toLowerCase()?(e=r.substr(cu,7),cu+=7):(e=a,0===bu&&wu(kn));e!==a?(n=cu,bu++,o=Ss(),bu--,o===a?n=void 0:(cu=n,n=a),n!==a?t=e=[e,n]:(cu=t,t=a)):(cu=t,t=a);return t}()!==a&&ac()!==a&&(e=Ka())!==a?(t,t=e):(cu=t,t=a);return t}())===a&&(b=null),b!==a&&ac()!==a?((v=Ba())===a&&(v=null),v!==a&&ac()!==a?((d=Va())===a&&(d=null),d!==a&&ac()!==a?((y=function(){var t,e;t=cu,function(){var t,e,n,o;t=cu,"window"===r.substr(cu,6).toLowerCase()?(e=r.substr(cu,6),cu+=6):(e=a,0===bu&&wu(Un));e!==a?(n=cu,bu++,o=Ss(),bu--,o===a?n=void 0:(cu=n,n=a),n!==a?t=e=[e,n]:(cu=t,t=a)):(cu=t,t=a);return t}()!==a&&ac()!==a&&(e=function(){var r,t,e,n,o,u,s,i;if(r=cu,(t=Da())!==a){for(e=[],n=cu,(o=ac())!==a&&(u=Ki())!==a&&(s=ac())!==a&&(i=Da())!==a?n=o=[o,u,s,i]:(cu=n,n=a);n!==a;)e.push(n),n=cu,(o=ac())!==a&&(u=Ki())!==a&&(s=ac())!==a&&(i=Da())!==a?n=o=[o,u,s,i]:(cu=n,n=a);e!==a?(r,t=l(t,e),r=t):(cu=r,r=a)}else cu=r,r=a;return r}())!==a?(t,t={keyword:"window",type:"window",expr:e}):(cu=t,t=a);return t}())===a&&(y=null),y!==a?(t,h=e,w=n,m=o,L=u,C=s,A=i,E=c,g=f,T=p,S=b,_=v,j=d,x=y,Array.isArray(C)&&C.forEach(r=>r.table&&_c.add(`select::${r.db}::${r.table}`)),t={type:"select",as_struct_val:w,distinct:m,columns:L,from:C,for_sys_time_as_of:A,where:E,with:h,groupby:g,having:T,qualify:S,orderby:_,limit:j,window:x}):(cu=t,t=a)):(cu=t,t=a)):(cu=t,t=a)):(cu=t,t=a)):(cu=t,t=a)):(cu=t,t=a)):(cu=t,t=a)):(cu=t,t=a)):(cu=t,t=a)):(cu=t,t=a)):(cu=t,t=a)):(cu=t,t=a)):(cu=t,t=a),t}function La(){var r,t,e;return r=cu,(t=function(){var r,t,e,n,o,u,s,i;if(r=cu,(t=Ka())!==a){for(e=[],n=cu,(o=ac())!==a?((u=_i())===a&&(u=ji())===a&&(u=uc()),u!==a&&(s=ac())!==a&&(i=Ka())!==a?n=o=[o,u,s,i]:(cu=n,n=a)):(cu=n,n=a);n!==a;)e.push(n),n=cu,(o=ac())!==a?((u=_i())===a&&(u=ji())===a&&(u=uc()),u!==a&&(s=ac())!==a&&(i=Ka())!==a?n=o=[o,u,s,i]:(cu=n,n=a)):(cu=n,n=a);e!==a?(r,t=function(r,t){const e=r.ast;if(e&&"select"===e.type&&(!(r.parentheses_symbol||r.parentheses||r.ast.parentheses||r.ast.parentheses_symbol)||1!==e.columns.length||"*"===e.columns[0].expr.column))throw new Error("invalid column clause with select statement");if(!t||0===t.length)return r;const n=t.length;let o=t[n-1][3];for(let e=n-1;e>=0;e--){const n=0===e?r:t[e-1][3];o=Lc(t[e][1],n,o)}return o}(t,e),r=t):(cu=r,r=a)}else cu=r,r=a;return r}())!==a&&ac()!==a?((e=Ta())===a&&(e=null),e!==a?(r,r=t={expr:t,as:e}):(cu=r,r=a)):(cu=r,r=a),r}function Ca(){var t,e,n,o,u,s,i,c,l,f;if(t=cu,(e=zi())!==a&&(n=ac())!==a?("except"===r.substr(cu,6).toLowerCase()?(o=r.substr(cu,6),cu+=6):(o=a,0===bu&&wu(Kr)),o===a&&("replace"===r.substr(cu,7).toLowerCase()?(o=r.substr(cu,7),cu+=7):(o=a,0===bu&&wu(Or))),o!==a&&(u=ac())!==a&&(s=Zi())!==a&&(i=ac())!==a&&(c=Aa())!==a&&ac()!==a&&Ji()!==a?(t,l=o,f=c,jc.add("select::null::(.*)"),t=e={expr_list:f,parentheses:!0,star:"*",type:l.toLowerCase()}):(cu=t,t=a)):(cu=t,t=a),t===a){if(t=cu,(e=mi())===a&&(e=cu,(n=zi())!==a?(o=cu,bu++,u=Ss(),bu--,u===a?o=void 0:(cu=o,o=a),o!==a?e=n=[n,o]:(cu=e,e=a)):(cu=e,e=a),e===a&&(e=zi())),e!==a){for(n=[],o=cu,(u=ac())!==a&&(s=Ki())!==a&&(i=ac())!==a&&(c=ga())!==a?o=u=[u,s,i,c]:(cu=o,o=a);o!==a;)n.push(o),o=cu,(u=ac())!==a&&(s=Ki())!==a&&(i=ac())!==a&&(c=ga())!==a?o=u=[u,s,i,c]:(cu=o,o=a);n!==a&&(o=ac())!==a?((u=Ki())===a&&(u=null),u!==a?(t,t=e=function(r,t){jc.add("select::null::(.*)");const e={expr:{type:"column_ref",table:null,column:"*"},as:null};return t&&t.length>0?Ac(e,t):[e]}(0,n)):(cu=t,t=a)):(cu=t,t=a)}else cu=t,t=a;t===a&&(t=cu,(e=Aa())!==a&&(n=ac())!==a?((o=Ki())===a&&(o=null),o!==a?(t,t=e=e):(cu=t,t=a)):(cu=t,t=a))}return t}function Aa(){var r,t,e,n,o,u,s,i;if(r=cu,(t=ga())!==a){for(e=[],n=cu,(o=ac())!==a&&(u=Ki())!==a&&(s=ac())!==a&&(i=ga())!==a?n=o=[o,u,s,i]:(cu=n,n=a);n!==a;)e.push(n),n=cu,(o=ac())!==a&&(u=Ki())!==a&&(s=ac())!==a&&(i=ga())!==a?n=o=[o,u,s,i]:(cu=n,n=a);e!==a?(r,r=t=l(t,e)):(cu=r,r=a)}else cu=r,r=a;return r}function Ea(){var t,e,n,o;return t=cu,(e=Ka())!==a&&ac()!==a&&ec()!==a&&ac()!==a?((n=hi())===a&&(n=function(){var t,e,n,o;t=cu,"ordinal"===r.substr(cu,7).toLowerCase()?(e=r.substr(cu,7),cu+=7):(e=a,0===bu&&wu(Mn));e!==a?(n=cu,bu++,o=Ss(),bu--,o===a?n=void 0:(cu=n,n=a),n!==a?(t,t=e="ORDINAL"):(cu=t,t=a)):(cu=t,t=a);return t}())===a&&(n=function(){var t,e,n,o;t=cu,"safe_offset"===r.substr(cu,11).toLowerCase()?(e=r.substr(cu,11),cu+=11):(e=a,0===bu&&wu($n));e!==a?(n=cu,bu++,o=Ss(),bu--,o===a?n=void 0:(cu=n,n=a),n!==a?(t,t=e="SAFE_OFFSET"):(cu=t,t=a)):(cu=t,t=a);return t}())===a&&(n=function(){var t,e,n,o;t=cu,"safe_ordinal"===r.substr(cu,12).toLowerCase()?(e=r.substr(cu,12),cu+=12):(e=a,0===bu&&wu(Dn));e!==a?(n=cu,bu++,o=Ss(),bu--,o===a?n=void 0:(cu=n,n=a),n!==a?(t,t=e="SAFE_ORDINAL"):(cu=t,t=a)):(cu=t,t=a);return t}()),n!==a&&ac()!==a&&Zi()!==a&&ac()!==a&&(o=Gs())!==a&&ac()!==a&&Ji()!==a&&ac()!==a&&nc()!==a?(t,t=e=function(r,t,e){return{expr:r,offset:`[${t}(${e.value})]`}}(e,n,o)):(cu=t,t=a)):(cu=t,t=a),t}function ga(){var r,t,e,n,o,u,s,i,c;return r=cu,(t=zi())!==a&&(r,jc.add("select::null::(.*)"),t={expr:{type:"column_ref",table:null,column:"*"},as:null}),(r=t)===a&&(r=cu,(t=Cs())!==a&&ac()!==a&&(e=Qi())!==a?(n=cu,(o=Ea())===a&&(o=Cs()),o!==a&&(u=ac())!==a&&(s=Qi())!==a?n=o=[o,u,s]:(cu=n,n=a),n===a&&(n=null),n!==a&&(o=ac())!==a&&(u=zi())!==a?(r,r=t=function(r,t){jc.add(`select::${r}::(.*)`);let e="*";const n=t&&t[0];return"string"==typeof n&&(e=n+".*"),n&&n.expr&&n.offset&&(e={...n,suffix:".*"}),{expr:{type:"column_ref",table:r,column:e},as:null}}(t,n)):(cu=r,r=a)):(cu=r,r=a),r===a&&(r=cu,(t=Ea())!==a&&ac()!==a?((e=Ta())===a&&(e=null),e!==a?(r,i=t,c=e,jc.add("select::null::"+i),r=t={expr:{type:"column_ref",table:null,column:i},as:c}):(cu=r,r=a)):(cu=r,r=a),r===a&&(r=La()))),r}function Ta(){var r,t,e;return r=cu,(t=ui())!==a&&ac()!==a&&(e=function(){var r,t;r=cu,(t=Ts())!==a?(cu,(function(r){if(!0===hc[r.toUpperCase()])throw new Error("Error: "+JSON.stringify(r)+" is a reserved word, can not as alias clause");return!1}(t)?a:void 0)!==a?(r,r=t=t):(cu=r,r=a)):(cu=r,r=a);r===a&&(r=cu,(t=Ls())!==a&&(r,t=t),r=t);return r}())!==a?(r,r=t=e):(cu=r,r=a),r===a&&(r=cu,(t=ui())===a&&(t=null),t!==a&&ac()!==a&&(e=ms())!==a?(r,r=t=e):(cu=r,r=a)),r}function Sa(){var t,e,n,o,u;return t=cu,"unnest"===r.substr(cu,6).toLowerCase()?(e=r.substr(cu,6),cu+=6):(e=a,0===bu&&wu(rt)),e!==a&&ac()!==a&&Zi()!==a&&ac()!==a?((n=Ka())===a&&(n=null),n!==a&&ac()!==a&&Ji()!==a&&ac()!==a?((o=Ta())===a&&(o=null),o!==a&&ac()!==a?((u=function(){var r,t;r=cu,vi()!==a&&ac()!==a&&hi()!==a&&ac()!==a?((t=Ta())===a&&(t=null),t!==a?(r,r={keyword:"with offset as",as:t}):(cu=r,r=a)):(cu=r,r=a);return r}())===a&&(u=null),u!==a?(t,t=e={type:"unnest",expr:n,parentheses:!0,as:o,with_offset:u}):(cu=t,t=a)):(cu=t,t=a)):(cu=t,t=a)):(cu=t,t=a),t}function _a(){var t,e,n,o,u;return t=cu,ni()!==a&&ac()!==a&&(e=xa())!==a&&ac()!==a?((n=function(){var t,e,n,o,u,s;t=cu,function(){var t,e,n,o;t=cu,"pivot"===r.substr(cu,5).toLowerCase()?(e=r.substr(cu,5),cu+=5):(e=a,0===bu&&wu(Mo));e!==a?(n=cu,bu++,o=Ss(),bu--,o===a?n=void 0:(cu=n,n=a),n!==a?(t,t=e="PIVOT"):(cu=t,t=a)):(cu=t,t=a);return t}()!==a&&ac()!==a&&Zi()!==a&&ac()!==a&&(e=function(){var r,t,e,n,o,u,s,i,c,l,f;if(r=cu,(t=Is())!==a)if(ac()!==a)if((e=Ta())===a&&(e=null),e!==a){for(n=[],o=cu,(u=ac())!==a&&(s=Ki())!==a&&(i=ac())!==a&&(c=Is())!==a&&(l=ac())!==a?((f=Ta())===a&&(f=null),f!==a?o=u=[u,s,i,c,l,f]:(cu=o,o=a)):(cu=o,o=a);o!==a;)n.push(o),o=cu,(u=ac())!==a&&(s=Ki())!==a&&(i=ac())!==a&&(c=Is())!==a&&(l=ac())!==a?((f=Ta())===a&&(f=null),f!==a?o=u=[u,s,i,c,l,f]:(cu=o,o=a)):(cu=o,o=a);n!==a?(r,t=function(r,t,e){const n={type:"expr_list"};return n.value=Ac(r,e),n}(t,0,n),r=t):(cu=r,r=a)}else cu=r,r=a;else cu=r,r=a;else cu=r,r=a;return r}())!==a&&ac()!==a?("for"===r.substr(cu,3).toLowerCase()?(n=r.substr(cu,3),cu+=3):(n=a,0===bu&&wu(F)),n!==a&&ac()!==a&&(o=ws())!==a&&ac()!==a&&(u=cs())!==a&&ac()!==a&&Ji()!==a&&ac()!==a?((s=Ta())===a&&(s=null),s!==a?(t,i=e,c=o,f=s,(l=u).operator="=",t={type:"pivot",expr:i,column:c,in_expr:l,as:f}):(cu=t,t=a)):(cu=t,t=a)):(cu=t,t=a);var i,c,l,f;return t}())===a&&(n=null),n!==a?(t,u=n,(o=e)[0]&&(o[0].operator=u),t=o):(cu=t,t=a)):(cu=t,t=a),t}function ja(){var r,t,e;return r=cu,(t=ka())!==a&&ac()!==a&&Zs()!==a&&ac()!==a&&(e=ka())!==a?(r,r=t=[t,e]):(cu=r,r=a),r}function xa(){var r,t,e,n;if(r=cu,(t=Ra())!==a){for(e=[],n=Ia();n!==a;)e.push(n),n=Ia();e!==a?(r,r=t=tt(t,e)):(cu=r,r=a)}else cu=r,r=a;return r}function Ia(){var r,t,e;return r=cu,ac()!==a&&(t=Ki())!==a&&ac()!==a&&(e=Ra())!==a?(r,r=e):(cu=r,r=a),r===a&&(r=cu,ac()!==a&&(t=function(){var r,t,e,n,o,u,s,i,c,l,f;if(r=cu,(t=Oa())!==a)if(ac()!==a)if((e=Ra())!==a)if(ac()!==a)if((n=bi())!==a)if(ac()!==a)if(Zi()!==a)if(ac()!==a)if((o=Ts())!==a){for(u=[],s=cu,(i=ac())!==a&&(c=Ki())!==a&&(l=ac())!==a&&(f=Ts())!==a?s=i=[i,c,l,f]:(cu=s,s=a);s!==a;)u.push(s),s=cu,(i=ac())!==a&&(c=Ki())!==a&&(l=ac())!==a&&(f=Ts())!==a?s=i=[i,c,l,f]:(cu=s,s=a);u!==a&&(s=ac())!==a&&(i=Ji())!==a?(r,p=t,v=o,d=u,(b=e).join=p,b.using=Ac(v,d),r=t=b):(cu=r,r=a)}else cu=r,r=a;else cu=r,r=a;else cu=r,r=a;else cu=r,r=a;else cu=r,r=a;else cu=r,r=a;else cu=r,r=a;else cu=r,r=a;else cu=r,r=a;var p,b,v,d;r===a&&(r=cu,(t=Oa())!==a&&ac()!==a&&(e=Ra())!==a&&ac()!==a?((n=Ua())===a&&(n=null),n!==a?(r,t=function(r,t,e){return t.join=r,t.on=e,t}(t,e,n),r=t):(cu=r,r=a)):(cu=r,r=a),r===a&&(r=cu,(t=Oa())!==a&&ac()!==a&&(e=Zi())!==a&&ac()!==a&&(n=da())!==a&&ac()!==a&&Ji()!==a&&ac()!==a?((o=Ta())===a&&(o=null),o!==a&&(u=ac())!==a?((s=Ua())===a&&(s=null),s!==a?(r,t=function(r,t,e,n){return t.parentheses=!0,{expr:t,as:e,join:r,on:n}}(t,n,o,s),r=t):(cu=r,r=a)):(cu=r,r=a)):(cu=r,r=a)));return r}())!==a?(r,r=t):(cu=r,r=a)),r}function Na(){var t,e,n,o,u,s,i,c,l,f,p,b;return t=cu,"tablesample"===r.substr(cu,11).toLowerCase()?(e=r.substr(cu,11),cu+=11):(e=a,0===bu&&wu(lt)),e!==a&&(n=ac())!==a?("bernoulli"===r.substr(cu,9).toLowerCase()?(o=r.substr(cu,9),cu+=9):(o=a,0===bu&&wu(ft)),o===a&&("reservoir"===r.substr(cu,9).toLowerCase()?(o=r.substr(cu,9),cu+=9):(o=a,0===bu&&wu(pt))),o!==a&&(u=ac())!==a?(40===r.charCodeAt(cu)?(s="(",cu++):(s=a,0===bu&&wu(Vr)),s!==a&&(i=ac())!==a&&(c=Bs())!==a&&(l=ac())!==a?("percent"===r.substr(cu,7).toLowerCase()?(f=r.substr(cu,7),cu+=7):(f=a,0===bu&&wu(bt)),f===a&&("rows"===r.substr(cu,4).toLowerCase()?(f=r.substr(cu,4),cu+=4):(f=a,0===bu&&wu(vt))),f!==a&&(p=ac())!==a?(41===r.charCodeAt(cu)?(b=")",cu++):(b=a,0===bu&&wu(Xr)),b!==a?t=e=[e,n,o,u,s,i,c,l,f,p,b]:(cu=t,t=a)):(cu=t,t=a)):(cu=t,t=a)):(cu=t,t=a)):(cu=t,t=a),t}function Ra(){var t,e,n,o,u,s,i,c,l,f;return(t=Sa())===a&&(t=cu,(e=ka())!==a?((n=function(){var t,e,n,o,u,s,i,c,l,f,p;return t=cu,et.test(r.charAt(cu))?(e=r.charAt(cu),cu++):(e=a,0===bu&&wu(nt)),e!==a?(ot.test(r.charAt(cu))?(n=r.charAt(cu),cu++):(n=a,0===bu&&wu(ut)),n!==a&&(o=ac())!==a&&(u=Ts())!==a&&(s=ac())!==a?(at.test(r.charAt(cu))?(i=r.charAt(cu),cu++):(i=a,0===bu&&wu(st)),i!==a&&(c=ac())!==a&&(l=Ts())!==a&&(f=ac())!==a?(it.test(r.charAt(cu))?(p=r.charAt(cu),cu++):(p=a,0===bu&&wu(ct)),p!==a?t=e=[e,n,o,u,s,i,c,l,f,p]:(cu=t,t=a)):(cu=t,t=a)):(cu=t,t=a)):(cu=t,t=a),t}())===a&&(n=null),n!==a&&(o=ac())!==a?((u=Na())===a&&(u=null),u!==a&&ac()!==a?((s=Ta())===a&&(s=null),s!==a?(t,f=s,t=e="var"===(l=e).type?(l.as=f,l):{...l,as:f}):(cu=t,t=a)):(cu=t,t=a)):(cu=t,t=a)):(cu=t,t=a),t===a&&(t=cu,(e=Zi())!==a&&(n=ac())!==a&&(o=da())!==a&&(u=ac())!==a&&Ji()!==a&&(s=ac())!==a?((i=Na())===a&&(i=null),i!==a&&ac()!==a?((c=Ta())===a&&(c=null),c!==a?(t,t=e=function(r,t,e){return r.parentheses=!0,{expr:r,as:e}}(o,0,c)):(cu=t,t=a)):(cu=t,t=a)):(cu=t,t=a))),t}function Oa(){var t,e,n;return t=cu,(e=function(){var t,e,n,o;t=cu,"left"===r.substr(cu,4).toLowerCase()?(e=r.substr(cu,4),cu+=4):(e=a,0===bu&&wu(hn));e!==a?(n=cu,bu++,o=Ss(),bu--,o===a?n=void 0:(cu=n,n=a),n!==a?t=e=[e,n]:(cu=t,t=a)):(cu=t,t=a);return t}())!==a&&ac()!==a?((n=li())===a&&(n=null),n!==a&&ac()!==a&&ci()!==a?(t,t=e="LEFT JOIN"):(cu=t,t=a)):(cu=t,t=a),t===a&&(t=cu,(e=function(){var t,e,n,o;t=cu,"right"===r.substr(cu,5).toLowerCase()?(e=r.substr(cu,5),cu+=5):(e=a,0===bu&&wu(wn));e!==a?(n=cu,bu++,o=Ss(),bu--,o===a?n=void 0:(cu=n,n=a),n!==a?t=e=[e,n]:(cu=t,t=a)):(cu=t,t=a);return t}())!==a&&ac()!==a?((n=li())===a&&(n=null),n!==a&&ac()!==a&&ci()!==a?(t,t=e="RIGHT JOIN"):(cu=t,t=a)):(cu=t,t=a),t===a&&(t=cu,(e=function(){var t,e,n,o;t=cu,"full"===r.substr(cu,4).toLowerCase()?(e=r.substr(cu,4),cu+=4):(e=a,0===bu&&wu(mn));e!==a?(n=cu,bu++,o=Ss(),bu--,o===a?n=void 0:(cu=n,n=a),n!==a?t=e=[e,n]:(cu=t,t=a)):(cu=t,t=a);return t}())!==a&&ac()!==a?((n=li())===a&&(n=null),n!==a&&ac()!==a&&ci()!==a?(t,t=e="FULL JOIN"):(cu=t,t=a)):(cu=t,t=a),t===a&&(t=cu,(e=function(){var t,e,n,o;t=cu,"cross"===r.substr(cu,5).toLowerCase()?(e=r.substr(cu,5),cu+=5):(e=a,0===bu&&wu(Cn));e!==a?(n=cu,bu++,o=Ss(),bu--,o===a?n=void 0:(cu=n,n=a),n!==a?t=e=[e,n]:(cu=t,t=a)):(cu=t,t=a);return t}())!==a&&ac()!==a&&(n=ci())!==a?(t,t=e=e[0].toUpperCase()+" JOIN"):(cu=t,t=a),t===a&&(t=cu,(e=function(){var t,e,n,o;t=cu,"inner"===r.substr(cu,5).toLowerCase()?(e=r.substr(cu,5),cu+=5):(e=a,0===bu&&wu(Ln));e!==a?(n=cu,bu++,o=Ss(),bu--,o===a?n=void 0:(cu=n,n=a),n!==a?t=e=[e,n]:(cu=t,t=a)):(cu=t,t=a);return t}())===a&&(e=null),e!==a&&ac()!==a&&(n=ci())!==a?(t,t=e=function(r){return r?r[0].toUpperCase()+" JOIN":"JOIN"}(e)):(cu=t,t=a))))),t}function ka(){var r,t,e,n,o,u,s,i;return r=cu,(t=As())!==a?(e=cu,(n=ac())!==a&&(o=Qi())!==a&&(u=ac())!==a&&(s=As())!==a?e=n=[n,o,u,s]:(cu=e,e=a),e!==a?(n=cu,(o=ac())!==a&&(u=Qi())!==a&&(s=ac())!==a&&(i=As())!==a?n=o=[o,u,s,i]:(cu=n,n=a),n!==a?(r,r=t=function(r,t,e){const n={db:null,table:r};return null!==e&&(n.db=r,n.catalog=r,n.schema=t[3],n.table=e[3]),n}(t,e,n)):(cu=r,r=a)):(cu=r,r=a)):(cu=r,r=a),r===a&&(r=cu,(t=As())!==a?(e=cu,(n=ac())!==a&&(o=Qi())!==a&&(u=ac())!==a&&(s=As())!==a?e=n=[n,o,u,s]:(cu=e,e=a),e===a&&(e=null),e!==a?(r,r=t=function(r,t){const e={db:null,table:r};return null!==t&&(e.db=r,e.table=t[3]),e}(t,e)):(cu=r,r=a)):(cu=r,r=a)),r}function Ua(){var r,t;return r=cu,ii()!==a&&ac()!==a&&(t=ts())!==a?(r,r=t):(cu=r,r=a),r}function Ma(){var t,e;return t=cu,function(){var t,e,n,o;t=cu,"where"===r.substr(cu,5).toLowerCase()?(e=r.substr(cu,5),cu+=5):(e=a,0===bu&&wu(xn));e!==a?(n=cu,bu++,o=Ss(),bu--,o===a?n=void 0:(cu=n,n=a),n!==a?t=e=[e,n]:(cu=t,t=a)):(cu=t,t=a);return t}()!==a&&ac()!==a&&(e=ts())!==a?(t,t=e):(cu=t,t=a),t}function Da(){var r,t,e;return r=cu,(t=Ts())!==a&&ac()!==a&&ui()!==a&&ac()!==a&&(e=Pa())!==a?(r,r=t={name:t,as_window_specification:e}):(cu=r,r=a),r}function Pa(){var t,e,n;return t=cu,(e=Ts())!==a&&(t,e=e),(t=e)===a&&(t=cu,(e=Zi())!==a&&ac()!==a?((n=function(){var t,e,n,o,u;t=cu,(e=ms())===a&&(e=null);e!==a&&ac()!==a?((n=Ga())===a&&(n=null),n!==a&&ac()!==a?((o=Ba())===a&&(o=null),o!==a&&ac()!==a?((u=function(){var t,e,n,o,u,s,i,c,l;t=cu,"range"===r.substr(cu,5).toLowerCase()?(e=r.substr(cu,5),cu+=5):(e=a,0===bu&&wu(dt));e!==a&&ac()!==a&&(n=Ci())!==a?("unbounded"===r.substr(cu,9).toLowerCase()?(o=r.substr(cu,9),cu+=9):(o=a,0===bu&&wu(yt)),o!==a&&(u=ac())!==a?("preceding"===r.substr(cu,9).toLowerCase()?(s=r.substr(cu,9),cu+=9):(s=a,0===bu&&wu(ht)),s!==a&&ac()!==a&&_i()!==a&&(i=ac())!==a?("current"===r.substr(cu,7).toLowerCase()?(c=r.substr(cu,7),cu+=7):(c=a,0===bu&&wu(wt)),c!==a&&ac()!==a?("ROW"===r.substr(cu,3)?(l="ROW",cu+=3):(l=a,0===bu&&wu(mt)),l!==a?(t,t=e="range between unbounded preceding and current row"):(cu=t,t=a)):(cu=t,t=a)):(cu=t,t=a)):(cu=t,t=a)):(cu=t,t=a);t===a&&(t=cu,(e=$i())!==a&&ac()!==a?((n=Fa())===a&&(n=$a()),n!==a?(t,e="rows "+n.value,t=e):(cu=t,t=a)):(cu=t,t=a),t===a&&(t=cu,(e=$i())!==a&&ac()!==a&&(n=Ci())!==a&&(o=ac())!==a&&(u=$a())!==a&&(s=ac())!==a&&_i()!==a&&ac()!==a&&(i=Fa())!==a?(t,f=i,e=`rows between ${u.value} and ${f.value}`,t=e):(cu=t,t=a)));var f;return t}())===a&&(u=null),u!==a?(t,e=function(r,t,e,n){return{name:r,partitionby:t,orderby:e,window_frame_clause:n}}(e,n,o,u),t=e):(cu=t,t=a)):(cu=t,t=a)):(cu=t,t=a)):(cu=t,t=a);return t}())===a&&(n=null),n!==a&&ac()!==a&&Ji()!==a?(t,t=e={window_specification:n,parentheses:!0}):(cu=t,t=a)):(cu=t,t=a)),t}function Fa(){var t,e,n,o,u;return t=cu,(e=Wa())!==a&&ac()!==a?("following"===r.substr(cu,9).toLowerCase()?(n=r.substr(cu,9),cu+=9):(n=a,0===bu&&wu(Lt)),n===a&&("preceding"===r.substr(cu,9).toLowerCase()?(n=r.substr(cu,9),cu+=9):(n=a,0===bu&&wu(ht))),n!==a?(t,u=n,(o=e).value+=" "+u.toUpperCase(),t=e=o):(cu=t,t=a)):(cu=t,t=a),t===a&&(t=Ha()),t}function $a(){var t,e,n,o;return t=cu,(e=Wa())!==a&&ac()!==a?("preceding"===r.substr(cu,9).toLowerCase()?(n=r.substr(cu,9),cu+=9):(n=a,0===bu&&wu(ht)),n!==a?(t,(o=e).value+=" PRECEDING",t=e=o):(cu=t,t=a)):(cu=t,t=a),t===a&&(t=Ha()),t}function Ha(){var t,e,n;return t=cu,"current"===r.substr(cu,7).toLowerCase()?(e=r.substr(cu,7),cu+=7):(e=a,0===bu&&wu(wt)),e!==a&&ac()!==a?("row"===r.substr(cu,3).toLowerCase()?(n=r.substr(cu,3),cu+=3):(n=a,0===bu&&wu(Ct)),n!==a?(t,t=e={type:"single_quote_string",value:"current row"}):(cu=t,t=a)):(cu=t,t=a),t}function Wa(){var t,e;return t=cu,"unbounded"===r.substr(cu,9).toLowerCase()?(e=r.substr(cu,9),cu+=9):(e=a,0===bu&&wu(yt)),e!==a&&(t,e={type:"single_quote_string",value:e.toUpperCase()}),(t=e)===a&&(t=Gs()),t}function Ga(){var r,t;return r=cu,ti()!==a&&ac()!==a&&di()!==a&&ac()!==a&&(t=Ca())!==a?(r,r=t):(cu=r,r=a),r}function Ba(){var t,e;return t=cu,function(){var t,e,n,o;t=cu,"order"===r.substr(cu,5).toLowerCase()?(e=r.substr(cu,5),cu+=5):(e=a,0===bu&&wu(Rn));e!==a?(n=cu,bu++,o=Ss(),bu--,o===a?n=void 0:(cu=n,n=a),n!==a?t=e=[e,n]:(cu=t,t=a)):(cu=t,t=a);return t}()!==a&&ac()!==a&&di()!==a&&ac()!==a&&(e=function(){var r,t,e,n,o,u,s,i;if(r=cu,(t=Ya())!==a){for(e=[],n=cu,(o=ac())!==a&&(u=Ki())!==a&&(s=ac())!==a&&(i=Ya())!==a?n=o=[o,u,s,i]:(cu=n,n=a);n!==a;)e.push(n),n=cu,(o=ac())!==a&&(u=Ki())!==a&&(s=ac())!==a&&(i=Ya())!==a?n=o=[o,u,s,i]:(cu=n,n=a);e!==a?(r,t=l(t,e),r=t):(cu=r,r=a)}else cu=r,r=a;return r}())!==a?(t,t=e):(cu=t,t=a),t}function Ya(){var t,e,n,o,u,s;return t=cu,(e=Ka())!==a&&ac()!==a?(n=cu,"collate"===r.substr(cu,7).toLowerCase()?(o=r.substr(cu,7),cu+=7):(o=a,0===bu&&wu(sr)),o!==a&&(u=ac())!==a&&(s=Fs())!==a?n=o=[o,u,s]:(cu=n,n=a),n===a&&(n=null),n!==a&&(o=ac())!==a?((u=wi())===a&&(u=function(){var t,e,n,o;t=cu,"asc"===r.substr(cu,3).toLowerCase()?(e=r.substr(cu,3),cu+=3):(e=a,0===bu&&wu(Hn));e!==a?(n=cu,bu++,o=Ss(),bu--,o===a?n=void 0:(cu=n,n=a),n!==a?(t,t=e="ASC"):(cu=t,t=a)):(cu=t,t=a);return t}()),u===a&&(u=null),u!==a?(t,t=e={expr:e,type:u}):(cu=t,t=a)):(cu=t,t=a)):(cu=t,t=a),t}function qa(){var r;return(r=Gs())===a&&(r=xs()),r}function Va(){var t,e,n,o,u,s;return t=cu,function(){var t,e,n,o;t=cu,"limit"===r.substr(cu,5).toLowerCase()?(e=r.substr(cu,5),cu+=5):(e=a,0===bu&&wu(Pn));e!==a?(n=cu,bu++,o=Ss(),bu--,o===a?n=void 0:(cu=n,n=a),n!==a?t=e=[e,n]:(cu=t,t=a)):(cu=t,t=a);return t}()!==a&&ac()!==a&&(e=qa())!==a&&ac()!==a?(n=cu,(o=Ki())===a&&(o=hi()),o!==a&&(u=ac())!==a&&(s=qa())!==a?n=o=[o,u,s]:(cu=n,n=a),n===a&&(n=null),n!==a?(t,t=function(r,t){const e=[r];return t&&e.push(t[2]),{seperator:t&&t[0]&&t[0].toLowerCase()||"",value:e}}(e,n)):(cu=t,t=a)):(cu=t,t=a),t}function Xa(){var r,t,e,n,o,u,s,i;if(r=cu,(t=Ka())!==a){for(e=[],n=cu,(o=ac())!==a&&(u=Ki())!==a&&(s=ac())!==a&&(i=Ka())!==a?n=o=[o,u,s,i]:(cu=n,n=a);n!==a;)e.push(n),n=cu,(o=ac())!==a&&(u=Ki())!==a&&(s=ac())!==a&&(i=Ka())!==a?n=o=[o,u,s,i]:(cu=n,n=a);e!==a?(r,r=t=function(r,t){const e={type:"expr_list"};return e.value=Ac(r,t),e}(t,e)):(cu=r,r=a)}else cu=r,r=a;return r}function Qa(){var r;return(r=Ja())===a&&(r=rs())===a&&(r=function(){var r,t,e,n,o,u,s,i;if(r=cu,(t=es())!==a){for(e=[],n=cu,(o=sc())!==a&&(u=ji())!==a&&(s=ac())!==a&&(i=es())!==a?n=o=[o,u,s,i]:(cu=n,n=a);n!==a;)e.push(n),n=cu,(o=sc())!==a&&(u=ji())!==a&&(s=ac())!==a&&(i=es())!==a?n=o=[o,u,s,i]:(cu=n,n=a);e!==a?(r,t=c(t,e),r=t):(cu=r,r=a)}else cu=r,r=a;return r}())===a&&(r=function(){var r,t,e,n,o,u;if(r=cu,(t=fs())!==a){if(e=[],n=cu,(o=ac())!==a&&(u=vs())!==a?n=o=[o,u]:(cu=n,n=a),n!==a)for(;n!==a;)e.push(n),n=cu,(o=ac())!==a&&(u=vs())!==a?n=o=[o,u]:(cu=n,n=a);else e=a;e!==a?(r,t=mc(t,e[0][1]),r=t):(cu=r,r=a)}else cu=r,r=a;return r}())===a&&(r=Za()),r}function Ka(){var r;return(r=Qa())===a&&(r=da()),r}function za(){var r,t;return r=cu,Zi()!==a&&ac()!==a&&(t=Ca())!==a&&ac()!==a&&Ji()!==a?(r,r=t):(cu=r,r=a),r}function Za(){var r,t,e,n,o,u;return r=cu,(t=ec())!==a&&ac()!==a?((e=Ca())===a&&(e=null),e!==a&&(n=ac())!==a&&(o=nc())!==a?(r,r=t={array_path:e,type:"array",keyword:"",parentheses:!0}):(cu=r,r=a)):(cu=r,r=a),r===a&&(r=cu,(t=dc())===a&&(t=ki()),t===a&&(t=null),t!==a&&ec()!==a&&(e=ac())!==a&&(n=function(){var r,t,e,n,o,u,s,i;if(r=cu,(t=Ds())!==a){for(e=[],n=cu,(o=ac())!==a&&(u=Ki())!==a&&(s=ac())!==a&&(i=Ds())!==a?n=o=[o,u,s,i]:(cu=n,n=a);n!==a;)e.push(n),n=cu,(o=ac())!==a&&(u=Ki())!==a&&(s=ac())!==a&&(i=Ds())!==a?n=o=[o,u,s,i]:(cu=n,n=a);e!==a?(r,t=l(t,e),r=t):(cu=r,r=a)}else cu=r,r=a;return r}())!==a&&(o=ac())!==a&&nc()!==a?(r,r=t=function(r,t){return{definition:r,array_path:t.map(r=>({expr:r,as:null})),type:"array",keyword:r&&"array",parentheses:!0}}(t,n)):(cu=r,r=a),r===a&&(r=cu,(t=dc())===a&&(t=ki()),t===a&&(t=null),t!==a&&ac()!==a?((e=ec())===a&&(e=Zi()),e!==a&&(n=ac())!==a?((o=function(){var r,t,e,n,o,u,s,i;if(r=cu,(t=za())!==a){for(e=[],n=cu,(o=ac())!==a&&(u=Ki())!==a&&(s=ac())!==a&&(i=za())!==a?n=o=[o,u,s,i]:(cu=n,n=a);n!==a;)e.push(n),n=cu,(o=ac())!==a&&(u=Ki())!==a&&(s=ac())!==a&&(i=za())!==a?n=o=[o,u,s,i]:(cu=n,n=a);e!==a?(r,r=t=l(t,e)):(cu=r,r=a)}else cu=r,r=a;return r}())===a&&(o=Ka()),o!==a&&ac()!==a?((u=nc())===a&&(u=Ji()),u!==a?(r,r=t=function(r,t){return{definition:r,expr_list:t,type:"array",keyword:r&&"array",parentheses:!0}}(t,o)):(cu=r,r=a)):(cu=r,r=a)):(cu=r,r=a)):(cu=r,r=a))),r}function Ja(){var r,t,e,n;return r=cu,(t=yc())===a&&(t=Di()),t!==a&&ac()!==a&&Zi()!==a&&ac()!==a&&(e=Ca())!==a&&ac()!==a&&Ji()!==a?(r,r=t={definition:n=t,expr_list:e,type:"struct",keyword:n&&"struct",parentheses:!0}):(cu=r,r=a),r}function rs(){var r,t,e,n,o,u,s,i;if(r=cu,(t=vs())!==a){if(e=[],n=cu,(o=ac())!==a&&(u=uc())!==a&&(s=ac())!==a&&(i=vs())!==a?n=o=[o,u,s,i]:(cu=n,n=a),n!==a)for(;n!==a;)e.push(n),n=cu,(o=ac())!==a&&(u=uc())!==a&&(s=ac())!==a&&(i=vs())!==a?n=o=[o,u,s,i]:(cu=n,n=a);else e=a;e!==a&&(n=ac())!==a?((o=us())===a&&(o=null),o!==a?(r,r=t=function(r,t,e){const n=Ec(r,t);return null===e?n:"arithmetic"===e.type?Ec(n,e.tail):Lc(e.op,n,e.right)}(t,e,o)):(cu=r,r=a)):(cu=r,r=a)}else cu=r,r=a;return r}function ts(){var r,t,e,n,o,u,s,i;if(r=cu,(t=Ka())!==a){for(e=[],n=cu,(o=ac())!==a?((u=_i())===a&&(u=ji())===a&&(u=Ki()),u!==a&&(s=ac())!==a&&(i=Ka())!==a?n=o=[o,u,s,i]:(cu=n,n=a)):(cu=n,n=a);n!==a;)e.push(n),n=cu,(o=ac())!==a?((u=_i())===a&&(u=ji())===a&&(u=Ki()),u!==a&&(s=ac())!==a&&(i=Ka())!==a?n=o=[o,u,s,i]:(cu=n,n=a)):(cu=n,n=a);e!==a?(r,r=t=function(r,t){const e=t.length;let n=r,o="";for(let r=0;r<e;++r)","===t[r][1]?(o=",",Array.isArray(n)||(n=[n]),n.push(t[r][3])):n=Lc(t[r][1],n,t[r][3]);if(","===o){const r={type:"expr_list"};return r.value=n,r}return n}(t,e)):(cu=r,r=a)}else cu=r,r=a;return r}function es(){var r,t,e,n,o,u,s,i;if(r=cu,(t=ns())!==a){for(e=[],n=cu,(o=sc())!==a&&(u=_i())!==a&&(s=ac())!==a&&(i=ns())!==a?n=o=[o,u,s,i]:(cu=n,n=a);n!==a;)e.push(n),n=cu,(o=sc())!==a&&(u=_i())!==a&&(s=ac())!==a&&(i=ns())!==a?n=o=[o,u,s,i]:(cu=n,n=a);e!==a?(r,r=t=c(t,e)):(cu=r,r=a)}else cu=r,r=a;return r}function ns(){var t,e,n,o,u;return(t=os())===a&&(t=function(){var r,t,e;r=cu,(t=function(){var r,t,e,n,o;r=cu,t=cu,(e=Si())!==a&&(n=ac())!==a&&(o=Ti())!==a?t=e=[e,n,o]:(cu=t,t=a);t!==a&&(r,t=Et(t));(r=t)===a&&(r=Ti());return r}())!==a&&ac()!==a&&Zi()!==a&&ac()!==a&&(e=da())!==a&&ac()!==a&&Ji()!==a?(r,n=t,(o=e).parentheses=!0,t=mc(n,o),r=t):(cu=r,r=a);var n,o;return r}())===a&&(t=cu,(e=Si())===a&&(e=cu,33===r.charCodeAt(cu)?(n="!",cu++):(n=a,0===bu&&wu(At)),n!==a?(o=cu,bu++,61===r.charCodeAt(cu)?(u="=",cu++):(u=a,0===bu&&wu(f)),bu--,u===a?o=void 0:(cu=o,o=a),o!==a?e=n=[n,o]:(cu=e,e=a)):(cu=e,e=a)),e!==a&&(n=ac())!==a&&(o=ns())!==a?(t,t=e=mc("NOT",o)):(cu=t,t=a)),t}function os(){var r,t,e,n,o;return r=cu,(t=ls())!==a&&ac()!==a?((e=us())===a&&(e=null),e!==a?(r,n=t,r=t=null===(o=e)?n:"arithmetic"===o.type?Ec(n,o.tail):Lc(o.op,n,o.right)):(cu=r,r=a)):(cu=r,r=a),r===a&&(r=Fs())===a&&(r=ws()),r}function us(){var r;return(r=function(){var r,t,e,n,o,u,s;r=cu,t=[],e=cu,(n=ac())!==a&&(o=as())!==a&&(u=ac())!==a?((s=rs())===a&&(s=ls()),s!==a?e=n=[n,o,u,s]:(cu=e,e=a)):(cu=e,e=a);if(e!==a)for(;e!==a;)t.push(e),e=cu,(n=ac())!==a&&(o=as())!==a&&(u=ac())!==a?((s=rs())===a&&(s=ls()),s!==a?e=n=[n,o,u,s]:(cu=e,e=a)):(cu=e,e=a);else t=a;t!==a&&(r,t={type:"arithmetic",tail:t});return r=t}())===a&&(r=cs())===a&&(r=function(){var r,t,e,n;r=cu,(t=function(){var r,t,e,n,o;r=cu,t=cu,(e=Si())!==a&&(n=ac())!==a&&(o=Ci())!==a?t=e=[e,n,o]:(cu=t,t=a);t!==a&&(r,t=Et(t));(r=t)===a&&(r=Ci());return r}())!==a&&ac()!==a&&(e=ls())!==a&&ac()!==a&&_i()!==a&&ac()!==a&&(n=ls())!==a?(r,r=t={op:t,right:{type:"expr_list",value:[e,n]}}):(cu=r,r=a);return r}())===a&&(r=function(){var r,t,e,n,o;r=cu,(t=Ei())!==a&&(e=ac())!==a&&(n=ls())!==a?(r,r=t={op:"IS",right:n}):(cu=r,r=a);r===a&&(r=cu,t=cu,(e=Ei())!==a&&(n=ac())!==a&&(o=Si())!==a?t=e=[e,n,o]:(cu=t,t=a),t!==a&&(e=ac())!==a&&(n=ls())!==a?(r,t=function(r){return{op:"IS NOT",right:r}}(n),r=t):(cu=r,r=a));return r}())===a&&(r=is()),r}function as(){var t;return">="===r.substr(cu,2)?(t=">=",cu+=2):(t=a,0===bu&&wu(gt)),t===a&&(62===r.charCodeAt(cu)?(t=">",cu++):(t=a,0===bu&&wu(Tt)),t===a&&("<="===r.substr(cu,2)?(t="<=",cu+=2):(t=a,0===bu&&wu(St)),t===a&&("<>"===r.substr(cu,2)?(t="<>",cu+=2):(t=a,0===bu&&wu(_t)),t===a&&(60===r.charCodeAt(cu)?(t="<",cu++):(t=a,0===bu&&wu(jt)),t===a&&(61===r.charCodeAt(cu)?(t="=",cu++):(t=a,0===bu&&wu(f)),t===a&&("!="===r.substr(cu,2)?(t="!=",cu+=2):(t=a,0===bu&&wu(xt)))))))),t}function ss(){var r,t,e,n,o;return r=cu,t=cu,(e=Si())!==a&&(n=ac())!==a&&(o=Ai())!==a?t=e=[e,n,o]:(cu=t,t=a),t!==a&&(r,t=Et(t)),(r=t)===a&&(r=Ai()),r}function is(){var r,t,e;return r=cu,(t=function(){var r,t,e,n,o;return r=cu,t=cu,(e=Si())!==a&&(n=ac())!==a&&(o=gi())!==a?t=e=[e,n,o]:(cu=t,t=a),t!==a&&(r,t=Et(t)),(r=t)===a&&(r=gi()),r}())!==a&&ac()!==a?((e=Ds())===a&&(e=os()),e!==a?(r,r=t={op:t,right:e}):(cu=r,r=a)):(cu=r,r=a),r}function cs(){var r,t,e,n;return r=cu,(t=ss())!==a&&ac()!==a&&(e=Zi())!==a&&ac()!==a&&(n=Xa())!==a&&ac()!==a&&Ji()!==a?(r,r=t={op:t,right:n}):(cu=r,r=a),r===a&&(r=cu,(t=ss())!==a&&ac()!==a?((e=Fs())===a&&(e=Sa()),e!==a?(r,r=t=function(r,t){return{op:r,right:t}}(t,e)):(cu=r,r=a)):(cu=r,r=a)),r}function ls(){var r,t,e,n,o,u,s,i;if(r=cu,(t=ps())!==a){for(e=[],n=cu,(o=ac())!==a&&(u=fs())!==a&&(s=ac())!==a&&(i=ps())!==a?n=o=[o,u,s,i]:(cu=n,n=a);n!==a;)e.push(n),n=cu,(o=ac())!==a&&(u=fs())!==a&&(s=ac())!==a&&(i=ps())!==a?n=o=[o,u,s,i]:(cu=n,n=a);e!==a?(r,r=t=c(t,e)):(cu=r,r=a)}else cu=r,r=a;return r}function fs(){var t;return 43===r.charCodeAt(cu)?(t="+",cu++):(t=a,0===bu&&wu(It)),t===a&&(45===r.charCodeAt(cu)?(t="-",cu++):(t=a,0===bu&&wu(Nt))),t}function ps(){var r,t,e,n,o,u,s,i;if(r=cu,(t=vs())!==a){for(e=[],n=cu,(o=ac())!==a&&(u=bs())!==a&&(s=ac())!==a&&(i=vs())!==a?n=o=[o,u,s,i]:(cu=n,n=a);n!==a;)e.push(n),n=cu,(o=ac())!==a&&(u=bs())!==a&&(s=ac())!==a&&(i=vs())!==a?n=o=[o,u,s,i]:(cu=n,n=a);e!==a?(r,r=t=Ec(t,e)):(cu=r,r=a)}else cu=r,r=a;return r}function bs(){var t;return 42===r.charCodeAt(cu)?(t="*",cu++):(t=a,0===bu&&wu(Rt)),t===a&&(47===r.charCodeAt(cu)?(t="/",cu++):(t=a,0===bu&&wu(Ot)),t===a&&(37===r.charCodeAt(cu)?(t="%",cu++):(t=a,0===bu&&wu(kt)))),t}function vs(){var t,e,n;return(t=Za())===a&&(t=Ja())===a&&(t=function(){var t,e,n,o,u,s,i;t=cu,(e=Ms())!==a&&ac()!==a&&Zi()!==a&&ac()!==a&&(n=Ka())!==a&&ac()!==a&&ui()!==a&&ac()!==a&&(o=vc())!==a&&ac()!==a&&(u=Ji())!==a?(t,c=n,l=o,e={type:"cast",keyword:e.toLowerCase(),expr:c,symbol:"as",target:l},t=e):(cu=t,t=a);var c,l;t===a&&(t=cu,(e=Ms())!==a&&ac()!==a&&Zi()!==a&&ac()!==a&&(n=Ka())!==a&&ac()!==a&&ui()!==a&&ac()!==a&&(o=Ui())!==a&&ac()!==a&&(u=Zi())!==a&&ac()!==a&&(s=Ys())!==a&&ac()!==a&&Ji()!==a&&ac()!==a&&(i=Ji())!==a?(t,e=function(r,t,e){return{type:"cast",keyword:r.toLowerCase(),expr:t,symbol:"as",target:{dataType:"DECIMAL("+e+")"}}}(e,n,s),t=e):(cu=t,t=a),t===a&&(t=cu,(e=Ms())!==a&&ac()!==a&&Zi()!==a&&ac()!==a&&(n=Ka())!==a&&ac()!==a&&ui()!==a&&ac()!==a&&(o=Ui())!==a&&ac()!==a&&(u=Zi())!==a&&ac()!==a&&(s=Ys())!==a&&ac()!==a&&Ki()!==a&&ac()!==a&&(i=Ys())!==a&&ac()!==a&&Ji()!==a&&ac()!==a&&Ji()!==a?(t,e=function(r,t,e,n){return{type:"cast",keyword:r.toLowerCase(),expr:t,symbol:"as",target:{dataType:"DECIMAL("+e+", "+n+")"}}}(e,n,s,i),t=e):(cu=t,t=a),t===a&&(t=cu,(e=Ms())!==a&&ac()!==a&&Zi()!==a&&ac()!==a&&(n=Ka())!==a&&ac()!==a&&ui()!==a&&ac()!==a&&(o=function(){var t;(t=function(){var t,e,n,o;t=cu,"signed"===r.substr(cu,6).toLowerCase()?(e=r.substr(cu,6),cu+=6):(e=a,0===bu&&wu(mo));e!==a?(n=cu,bu++,o=Ss(),bu--,o===a?n=void 0:(cu=n,n=a),n!==a?(t,t=e="SIGNED"):(cu=t,t=a)):(cu=t,t=a);return t}())===a&&(t=function(){var t,e,n,o;t=cu,"unsigned"===r.substr(cu,8).toLowerCase()?(e=r.substr(cu,8),cu+=8):(e=a,0===bu&&wu(Lo));e!==a?(n=cu,bu++,o=Ss(),bu--,o===a?n=void 0:(cu=n,n=a),n!==a?(t,t=e="UNSIGNED"):(cu=t,t=a)):(cu=t,t=a);return t}());return t}())!==a&&ac()!==a?((u=Mi())===a&&(u=null),u!==a&&ac()!==a&&(s=Ji())!==a?(t,e=function(r,t,e,n){return{type:"cast",keyword:r.toLowerCase(),expr:t,symbol:"as",target:{dataType:e+(n?" "+n:"")}}}(e,n,o,u),t=e):(cu=t,t=a)):(cu=t,t=a))));return t}())===a&&(t=Ds())===a&&(t=Is())===a&&(t=function(){var t,e,n,o,u;(t=function(){var t,e,n,o,u;t=cu,(e=Ni())!==a&&ac()!==a&&Zi()!==a&&ac()!==a&&(n=Us())!==a&&ac()!==a&&ni()!==a&&ac()!==a?((o=Wi())===a&&(o=Gi())===a&&(o=Hi())===a&&(o=Pi()),o!==a&&ac()!==a&&(u=Ka())!==a&&ac()!==a&&Ji()!==a?(t,s=n,i=o,c=u,e={type:e.toLowerCase(),args:{field:s,cast_type:i,source:c}},t=e):(cu=t,t=a)):(cu=t,t=a);var s,i,c;t===a&&(t=cu,(e=Ni())!==a&&ac()!==a&&Zi()!==a&&ac()!==a&&(n=Us())!==a&&ac()!==a&&ni()!==a&&ac()!==a&&(o=Ka())!==a&&ac()!==a&&(u=Ji())!==a?(t,e=function(r,t,e){return{type:r.toLowerCase(),args:{field:t,source:e}}}(e,n,o),t=e):(cu=t,t=a),t===a&&(t=cu,"date_trunc"===r.substr(cu,10).toLowerCase()?(e=r.substr(cu,10),cu+=10):(e=a,0===bu&&wu(Ee)),e!==a&&ac()!==a&&Zi()!==a&&ac()!==a&&(n=Ka())!==a&&ac()!==a&&Ki()!==a&&ac()!==a&&(o=Us())!==a&&ac()!==a&&(u=Ji())!==a?(t,e=function(r,t){return{type:"function",name:"DATE_TRUNC",args:{type:"expr_list",value:[r,{type:"origin",value:t}]},over:null}}(n,o),t=e):(cu=t,t=a)));return t}())===a&&(t=function(){var t,e,n,o,u;t=cu,"any_value"===r.substr(cu,9).toLowerCase()?(e=r.substr(cu,9),cu+=9):(e=a,0===bu&&wu(Zt));e!==a&&ac()!==a&&Zi()!==a&&ac()!==a&&(n=ts())!==a&&ac()!==a?((o=function(){var r,t,e;r=cu,yi()!==a&&ac()!==a?((t=xi())===a&&(t=Ii()),t!==a&&ac()!==a&&(e=ts())!==a?(r,r={prefix:t,expr:e}):(cu=r,r=a)):(cu=r,r=a);return r}())===a&&(o=null),o!==a&&ac()!==a&&Ji()!==a&&ac()!==a?((u=Rs())===a&&(u=null),u!==a?(t,t=e={type:"any_value",args:{expr:n,having:o},over:u}):(cu=t,t=a)):(cu=t,t=a)):(cu=t,t=a);return t}())===a&&(t=cu,(e=function(){var t;(t=ks())===a&&(t=function(){var t,e,n,o;t=cu,"session_user"===r.substr(cu,12).toLowerCase()?(e=r.substr(cu,12),cu+=12):(e=a,0===bu&&wu(Oo));e!==a?(n=cu,bu++,o=Ss(),bu--,o===a?n=void 0:(cu=n,n=a),n!==a?(t,t=e="SESSION_USER"):(cu=t,t=a)):(cu=t,t=a);return t}());return t}())!==a&&ac()!==a&&(n=Zi())!==a&&ac()!==a?((o=Xa())===a&&(o=null),o!==a&&ac()!==a&&Ji()!==a&&ac()!==a?((u=Rs())===a&&(u=null),u!==a?(t,t=e={type:"function",name:e,args:o||{type:"expr_list",value:[]},over:u}):(cu=t,t=a)):(cu=t,t=a)):(cu=t,t=a),t===a&&(t=cu,(e=ks())!==a&&ac()!==a?((n=Ns())===a&&(n=null),n!==a?(t,t=e={type:"function",name:e,over:n}):(cu=t,t=a)):(cu=t,t=a),t===a&&(t=cu,(e=Os())!==a&&ac()!==a&&(n=Zi())!==a&&ac()!==a?((o=ts())===a&&(o=null),o!==a&&ac()!==a&&Ji()!==a&&ac()!==a?((u=Rs())===a&&(u=null),u!==a?(t,e=function(r,t,e){return t&&"expr_list"!==t.type&&(t={type:"expr_list",value:[t]}),{type:"function",name:r,args:t||{type:"expr_list",value:[]},over:e}}(e,o,u),t=e):(cu=t,t=a)):(cu=t,t=a)):(cu=t,t=a))));return t}())===a&&(t=function(){var r,t,e,n,o,u,s;r=cu,(t=Ri())!==a&&ac()!==a&&(e=ds())!==a&&ac()!==a?((n=hs())===a&&(n=null),n!==a&&ac()!==a&&(o=Oi())!==a&&ac()!==a?((u=Ri())===a&&(u=null),u!==a?(r,i=e,(c=n)&&i.push(c),r=t={type:"case",expr:null,args:i}):(cu=r,r=a)):(cu=r,r=a)):(cu=r,r=a);var i,c;r===a&&(r=cu,(t=Ri())!==a&&ac()!==a&&(e=Ka())!==a&&ac()!==a&&(n=ds())!==a&&ac()!==a?((o=hs())===a&&(o=null),o!==a&&ac()!==a&&(u=Oi())!==a&&ac()!==a?((s=Ri())===a&&(s=null),s!==a?(r,t=function(r,t,e){return e&&t.push(e),{type:"case",expr:r,args:t}}(e,n,o),r=t):(cu=r,r=a)):(cu=r,r=a)):(cu=r,r=a));return r}())===a&&(t=function(){var t,e,n,o;t=cu,(e=Gi())!==a&&ac()!==a&&(n=Ka())!==a&&ac()!==a&&(o=function(){var t;(t=function(){var t,e,n,o;t=cu,"year"===r.substr(cu,4).toLowerCase()?(e=r.substr(cu,4),cu+=4):(e=a,0===bu&&wu(Ae));e!==a?(n=cu,bu++,o=Ss(),bu--,o===a?n=void 0:(cu=n,n=a),n!==a?(t,t=e="YEAR"):(cu=t,t=a)):(cu=t,t=a);return t}())===a&&(t=function(){var t,e,n,o;t=cu,"isoyear"===r.substr(cu,7).toLowerCase()?(e=r.substr(cu,7),cu+=7):(e=a,0===bu&&wu(ce));e!==a?(n=cu,bu++,o=Ss(),bu--,o===a?n=void 0:(cu=n,n=a),n!==a?(t,t=e="ISOYEAR"):(cu=t,t=a)):(cu=t,t=a);return t}())===a&&(t=function(){var t,e,n,o;t=cu,"month"===r.substr(cu,5).toLowerCase()?(e=r.substr(cu,5),cu+=5):(e=a,0===bu&&wu(ve));e!==a?(n=cu,bu++,o=Ss(),bu--,o===a?n=void 0:(cu=n,n=a),n!==a?(t,t=e="MONTH"):(cu=t,t=a)):(cu=t,t=a);return t}())===a&&(t=function(){var t,e,n,o;t=cu,"day"===r.substr(cu,3).toLowerCase()?(e=r.substr(cu,3),cu+=3):(e=a,0===bu&&wu(re));e!==a?(n=cu,bu++,o=Ss(),bu--,o===a?n=void 0:(cu=n,n=a),n!==a?(t,t=e="DAY"):(cu=t,t=a)):(cu=t,t=a);return t}())===a&&(t=function(){var t,e,n,o;t=cu,"hour"===r.substr(cu,4).toLowerCase()?(e=r.substr(cu,4),cu+=4):(e=a,0===bu&&wu(ae));e!==a?(n=cu,bu++,o=Ss(),bu--,o===a?n=void 0:(cu=n,n=a),n!==a?(t,t=e="HOUR"):(cu=t,t=a)):(cu=t,t=a);return t}())===a&&(t=function(){var t,e,n,o;t=cu,"minute"===r.substr(cu,6).toLowerCase()?(e=r.substr(cu,6),cu+=6):(e=a,0===bu&&wu(be));e!==a?(n=cu,bu++,o=Ss(),bu--,o===a?n=void 0:(cu=n,n=a),n!==a?(t,t=e="MINUTE"):(cu=t,t=a)):(cu=t,t=a);return t}())===a&&(t=function(){var t,e,n,o;t=cu,"second"===r.substr(cu,6).toLowerCase()?(e=r.substr(cu,6),cu+=6):(e=a,0===bu&&wu(ye));e!==a?(n=cu,bu++,o=Ss(),bu--,o===a?n=void 0:(cu=n,n=a),n!==a?(t,t=e="SECOND"):(cu=t,t=a)):(cu=t,t=a);return t}());return t}())!==a?(t,e={type:"interval",expr:n,unit:o.toLowerCase()},t=e):(cu=t,t=a);return t}())===a&&(t=ws())===a&&(t=xs())===a&&(t=cu,Zi()!==a&&ac()!==a&&(e=ts())!==a&&ac()!==a&&Ji()!==a?(t,(n=e).parentheses=!0,t=n):(cu=t,t=a)),t}function ds(){var r,t,e,n,o,u;if(r=cu,(t=ys())!==a)if(ac()!==a){for(e=[],n=cu,(o=ac())!==a&&(u=ys())!==a?n=o=[o,u]:(cu=n,n=a);n!==a;)e.push(n),n=cu,(o=ac())!==a&&(u=ys())!==a?n=o=[o,u]:(cu=n,n=a);e!==a?(r,r=t=C(t,e)):(cu=r,r=a)}else cu=r,r=a;else cu=r,r=a;return r}function ys(){var t,e,n;return t=cu,function(){var t,e,n,o;t=cu,"when"===r.substr(cu,4).toLowerCase()?(e=r.substr(cu,4),cu+=4):(e=a,0===bu&&wu(ao));e!==a?(n=cu,bu++,o=Ss(),bu--,o===a?n=void 0:(cu=n,n=a),n!==a?t=e=[e,n]:(cu=t,t=a)):(cu=t,t=a);return t}()!==a&&ac()!==a&&(e=ts())!==a&&ac()!==a&&function(){var t,e,n,o;t=cu,"then"===r.substr(cu,4).toLowerCase()?(e=r.substr(cu,4),cu+=4):(e=a,0===bu&&wu(so));e!==a?(n=cu,bu++,o=Ss(),bu--,o===a?n=void 0:(cu=n,n=a),n!==a?t=e=[e,n]:(cu=t,t=a)):(cu=t,t=a);return t}()!==a&&ac()!==a&&(n=Ka())!==a?(t,t={type:"when",cond:e,result:n}):(cu=t,t=a),t}function hs(){var t,e;return t=cu,function(){var t,e,n,o;t=cu,"else"===r.substr(cu,4).toLowerCase()?(e=r.substr(cu,4),cu+=4):(e=a,0===bu&&wu(io));e!==a?(n=cu,bu++,o=Ss(),bu--,o===a?n=void 0:(cu=n,n=a),n!==a?t=e=[e,n]:(cu=t,t=a)):(cu=t,t=a);return t}()!==a&&ac()!==a&&(e=Ka())!==a?(t,t={type:"else",result:e}):(cu=t,t=a),t}function ws(){var r,t,e,n,o,u,s,i,c;if(r=cu,(t=Cs())!==a){if(e=[],n=cu,(o=ac())!==a&&(u=Qi())!==a&&(s=ac())!==a&&(i=Cs())!==a?n=o=[o,u,s,i]:(cu=n,n=a),n!==a)for(;n!==a;)e.push(n),n=cu,(o=ac())!==a&&(u=Qi())!==a&&(s=ac())!==a&&(i=Cs())!==a?n=o=[o,u,s,i]:(cu=n,n=a);else e=a;e!==a?(r,r=t=function(r,t){const e=t.map(r=>r[3]);return jc.add(`select::${r}::${e[0]}`),{type:"column_ref",table:r,column:e[0],subFields:e.slice(1)}}(t,e)):(cu=r,r=a)}else cu=r,r=a;return r===a&&(r=cu,(t=Es())!==a&&(r,c=t,jc.add("select::null::"+c),t={type:"column_ref",table:null,column:c}),r=t),r}function ms(){var r,t;return r=cu,(t=Ts())!==a?(cu,(!0===hc[(""+t).toUpperCase()]?a:void 0)!==a?(r,r=t=t):(cu=r,r=a)):(cu=r,r=a),r===a&&(r=cu,(t=Ls())!==a&&(r,t=t),r=t),r}function Ls(){var t;return(t=function(){var t,e,n,o;t=cu,34===r.charCodeAt(cu)?(e='"',cu++):(e=a,0===bu&&wu(Ut));if(e!==a){if(n=[],Mt.test(r.charAt(cu))?(o=r.charAt(cu),cu++):(o=a,0===bu&&wu(Dt)),o!==a)for(;o!==a;)n.push(o),Mt.test(r.charAt(cu))?(o=r.charAt(cu),cu++):(o=a,0===bu&&wu(Dt));else n=a;n!==a?(34===r.charCodeAt(cu)?(o='"',cu++):(o=a,0===bu&&wu(Ut)),o!==a?(t,e=Pt(n),t=e):(cu=t,t=a)):(cu=t,t=a)}else cu=t,t=a;return t}())===a&&(t=function(){var t,e,n,o;t=cu,39===r.charCodeAt(cu)?(e="'",cu++):(e=a,0===bu&&wu(er));if(e!==a){if(n=[],Ft.test(r.charAt(cu))?(o=r.charAt(cu),cu++):(o=a,0===bu&&wu($t)),o!==a)for(;o!==a;)n.push(o),Ft.test(r.charAt(cu))?(o=r.charAt(cu),cu++):(o=a,0===bu&&wu($t));else n=a;n!==a?(39===r.charCodeAt(cu)?(o="'",cu++):(o=a,0===bu&&wu(er)),o!==a?(t,e=Pt(n),t=e):(cu=t,t=a)):(cu=t,t=a)}else cu=t,t=a;return t}())===a&&(t=function(){var t,e,n,o;t=cu,96===r.charCodeAt(cu)?(e="`",cu++):(e=a,0===bu&&wu(Ht));if(e!==a){if(n=[],Wt.test(r.charAt(cu))?(o=r.charAt(cu),cu++):(o=a,0===bu&&wu(Gt)),o!==a)for(;o!==a;)n.push(o),Wt.test(r.charAt(cu))?(o=r.charAt(cu),cu++):(o=a,0===bu&&wu(Gt));else n=a;n!==a?(96===r.charCodeAt(cu)?(o="`",cu++):(o=a,0===bu&&wu(Ht)),o!==a?(t,e=`\`${n.join("")}\``,t=e):(cu=t,t=a)):(cu=t,t=a)}else cu=t,t=a;return t}()),t}function Cs(){var r;return(r=gs())===a&&(r=Ls()),r}function As(){var r;return(r=Ts())===a&&(r=Ls()),r}function Es(){var r,t;return r=cu,(t=gs())!==a?(cu,(!0===hc[t.toUpperCase()]?a:void 0)!==a?(r,r=t=t):(cu=r,r=a)):(cu=r,r=a),r===a&&(r=Ls()),r}function gs(){var r,t,e,n;if(r=cu,(t=Ss())!==a){for(e=[],n=js();n!==a;)e.push(n),n=js();e!==a?(r,r=t=Bt(t,e)):(cu=r,r=a)}else cu=r,r=a;return r}function Ts(){var r,t,e,n;if(r=cu,(t=Ss())!==a){for(e=[],n=_s();n!==a;)e.push(n),n=_s();e!==a?(r,r=t=Bt(t,e)):(cu=r,r=a)}else cu=r,r=a;return r}function Ss(){var t;return Yt.test(r.charAt(cu))?(t=r.charAt(cu),cu++):(t=a,0===bu&&wu(qt)),t}function _s(){var t;return Vt.test(r.charAt(cu))?(t=r.charAt(cu),cu++):(t=a,0===bu&&wu(Xt)),t}function js(){var t;return Qt.test(r.charAt(cu))?(t=r.charAt(cu),cu++):(t=a,0===bu&&wu(Kt)),t}function xs(){var t,e,n;return t=cu,58===r.charCodeAt(cu)?(e=":",cu++):(e=a,0===bu&&wu(zt)),e===a&&(64===r.charCodeAt(cu)?(e="@",cu++):(e=a,0===bu&&wu($r))),e!==a&&(n=Ts())!==a?(t,t=e=function(r,t){return{type:"param",value:t,prefix:r}}(e,n)):(cu=t,t=a),t}function Is(){var t;return(t=function(){var t,e,n,o;t=cu,(e=function(){var t,e,n,o;t=cu,"count"===r.substr(cu,5).toLowerCase()?(e=r.substr(cu,5),cu+=5):(e=a,0===bu&&wu(Zn));e!==a?(n=cu,bu++,o=Ss(),bu--,o===a?n=void 0:(cu=n,n=a),n!==a?(t,t=e="COUNT"):(cu=t,t=a)):(cu=t,t=a);return t}())!==a&&ac()!==a&&Zi()!==a&&ac()!==a&&(n=function(){var t,e,n,o,u;t=cu,(e=function(){var t,e;t=cu,42===r.charCodeAt(cu)?(e="*",cu++):(e=a,0===bu&&wu(Rt));e!==a&&(t,e={type:"star",value:"*"});return t=e}())!==a&&(t,e={expr:e});(t=e)===a&&(t=cu,(e=Li())===a&&(e=null),e!==a&&ac()!==a&&(n=Zi())!==a&&ac()!==a&&(o=Ka())!==a&&ac()!==a&&Ji()!==a&&ac()!==a?((u=Ba())===a&&(u=null),u!==a?(t,t=e={distinct:e,expr:o,orderby:u,parentheses:!0}):(cu=t,t=a)):(cu=t,t=a),t===a&&(t=cu,(e=Li())===a&&(e=null),e!==a&&ac()!==a&&(n=Ka())!==a&&ac()!==a?((o=Ba())===a&&(o=null),o!==a?(t,e=function(r,t,e){return{distinct:r,expr:t,orderby:e,parentheses:!1}}(e,n,o),t=e):(cu=t,t=a)):(cu=t,t=a)));return t}())!==a&&ac()!==a&&Ji()!==a&&ac()!==a?((o=Rs())===a&&(o=null),o!==a?(t,t=e={type:"aggr_func",name:e,args:n,over:o}):(cu=t,t=a)):(cu=t,t=a);return t}())===a&&(t=function(){var t,e,n,o;t=cu,(e=function(){var t;(t=function(){var t,e,n,o;t=cu,"sum"===r.substr(cu,3).toLowerCase()?(e=r.substr(cu,3),cu+=3):(e=a,0===bu&&wu(to));e!==a?(n=cu,bu++,o=Ss(),bu--,o===a?n=void 0:(cu=n,n=a),n!==a?(t,t=e="SUM"):(cu=t,t=a)):(cu=t,t=a);return t}())===a&&(t=xi())===a&&(t=Ii())===a&&(t=function(){var t,e,n,o;t=cu,"avg"===r.substr(cu,3).toLowerCase()?(e=r.substr(cu,3),cu+=3):(e=a,0===bu&&wu(eo));e!==a?(n=cu,bu++,o=Ss(),bu--,o===a?n=void 0:(cu=n,n=a),n!==a?(t,t=e="AVG"):(cu=t,t=a)):(cu=t,t=a);return t}());return t}())!==a&&ac()!==a&&Zi()!==a&&ac()!==a&&(n=ls())!==a&&ac()!==a&&Ji()!==a&&ac()!==a?((o=Rs())===a&&(o=null),o!==a?(t,t=e={type:"aggr_func",name:e,args:{expr:n},over:o}):(cu=t,t=a)):(cu=t,t=a);return t}()),t}function Ns(){var t,e,n,o;return t=cu,ii()!==a&&ac()!==a?("update"===r.substr(cu,6).toLowerCase()?(e=r.substr(cu,6),cu+=6):(e=a,0===bu&&wu(_r)),e!==a&&ac()!==a&&(n=Bi())!==a&&ac()!==a&&Zi()!==a&&ac()!==a?((o=Xa())===a&&(o=null),o!==a&&ac()!==a&&Ji()!==a?(t,t={type:"on update",keyword:n,parentheses:!0,expr:o}):(cu=t,t=a)):(cu=t,t=a)):(cu=t,t=a),t===a&&(t=cu,ii()!==a&&ac()!==a?("update"===r.substr(cu,6).toLowerCase()?(e=r.substr(cu,6),cu+=6):(e=a,0===bu&&wu(_r)),e!==a&&ac()!==a&&(n=Bi())!==a?(t,t=function(r){return{type:"on update",keyword:r}}(n)):(cu=t,t=a)):(cu=t,t=a)),t}function Rs(){var r,t,e,n;return r=cu,fi()!==a&&ac()!==a&&(t=Pa())!==a?(r,r={type:"window",as_window_specification:t}):(cu=r,r=a),r===a&&(r=cu,fi()!==a&&ac()!==a&&(t=Zi())!==a&&ac()!==a&&(e=Ga())!==a&&ac()!==a?((n=Ba())===a&&(n=null),n!==a&&ac()!==a&&Ji()!==a?(r,r={partitionby:e,orderby:n}):(cu=r,r=a)):(cu=r,r=a),r===a&&(r=Ns())),r}function Os(){var r,t,e,n,o,u,s,i;if(r=cu,(t=Ts())!==a){for(e=[],n=cu,(o=ac())!==a&&(u=Qi())!==a&&(s=ac())!==a&&(i=Ts())!==a?n=o=[o,u,s,i]:(cu=n,n=a);n!==a;)e.push(n),n=cu,(o=ac())!==a&&(u=Qi())!==a&&(s=ac())!==a&&(i=Ts())!==a?n=o=[o,u,s,i]:(cu=n,n=a);e!==a?(r,r=t=function(r,t){let e=r;return null!==t&&t.forEach(r=>e=`${e}.${r[3]}`),e}(t,e)):(cu=r,r=a)}else cu=r,r=a;return r}function ks(){var t;return(t=function(){var t,e,n,o;t=cu,"current_date"===r.substr(cu,12).toLowerCase()?(e=r.substr(cu,12),cu+=12):(e=a,0===bu&&wu(xo));e!==a?(n=cu,bu++,o=Ss(),bu--,o===a?n=void 0:(cu=n,n=a),n!==a?(t,t=e="CURRENT_DATE"):(cu=t,t=a)):(cu=t,t=a);return t}())===a&&(t=function(){var t,e,n,o;t=cu,"current_time"===r.substr(cu,12).toLowerCase()?(e=r.substr(cu,12),cu+=12):(e=a,0===bu&&wu(No));e!==a?(n=cu,bu++,o=Ss(),bu--,o===a?n=void 0:(cu=n,n=a),n!==a?(t,t=e="CURRENT_TIME"):(cu=t,t=a)):(cu=t,t=a);return t}())===a&&(t=Bi()),t}function Us(){var t,e;return t=cu,"century"===r.substr(cu,7).toLowerCase()?(e=r.substr(cu,7),cu+=7):(e=a,0===bu&&wu(Jt)),e===a&&("day"===r.substr(cu,3).toLowerCase()?(e=r.substr(cu,3),cu+=3):(e=a,0===bu&&wu(re)),e===a&&("date"===r.substr(cu,4).toLowerCase()?(e=r.substr(cu,4),cu+=4):(e=a,0===bu&&wu(te)),e===a&&("decade"===r.substr(cu,6).toLowerCase()?(e=r.substr(cu,6),cu+=6):(e=a,0===bu&&wu(ee)),e===a&&("dow"===r.substr(cu,3).toLowerCase()?(e=r.substr(cu,3),cu+=3):(e=a,0===bu&&wu(ne)),e===a&&("doy"===r.substr(cu,3).toLowerCase()?(e=r.substr(cu,3),cu+=3):(e=a,0===bu&&wu(oe)),e===a&&("epoch"===r.substr(cu,5).toLowerCase()?(e=r.substr(cu,5),cu+=5):(e=a,0===bu&&wu(ue)),e===a&&("hour"===r.substr(cu,4).toLowerCase()?(e=r.substr(cu,4),cu+=4):(e=a,0===bu&&wu(ae)),e===a&&("isodow"===r.substr(cu,6).toLowerCase()?(e=r.substr(cu,6),cu+=6):(e=a,0===bu&&wu(se)),e===a&&("isoweek"===r.substr(cu,7).toLowerCase()?(e=r.substr(cu,7),cu+=7):(e=a,0===bu&&wu(ie)),e===a&&("isoyear"===r.substr(cu,7).toLowerCase()?(e=r.substr(cu,7),cu+=7):(e=a,0===bu&&wu(ce)),e===a&&("microseconds"===r.substr(cu,12).toLowerCase()?(e=r.substr(cu,12),cu+=12):(e=a,0===bu&&wu(le)),e===a&&("millennium"===r.substr(cu,10).toLowerCase()?(e=r.substr(cu,10),cu+=10):(e=a,0===bu&&wu(fe)),e===a&&("milliseconds"===r.substr(cu,12).toLowerCase()?(e=r.substr(cu,12),cu+=12):(e=a,0===bu&&wu(pe)),e===a&&("minute"===r.substr(cu,6).toLowerCase()?(e=r.substr(cu,6),cu+=6):(e=a,0===bu&&wu(be)),e===a&&("month"===r.substr(cu,5).toLowerCase()?(e=r.substr(cu,5),cu+=5):(e=a,0===bu&&wu(ve)),e===a&&("quarter"===r.substr(cu,7).toLowerCase()?(e=r.substr(cu,7),cu+=7):(e=a,0===bu&&wu(de)),e===a&&("second"===r.substr(cu,6).toLowerCase()?(e=r.substr(cu,6),cu+=6):(e=a,0===bu&&wu(ye)),e===a&&("time"===r.substr(cu,4).toLowerCase()?(e=r.substr(cu,4),cu+=4):(e=a,0===bu&&wu(he)),e===a&&("timezone"===r.substr(cu,8).toLowerCase()?(e=r.substr(cu,8),cu+=8):(e=a,0===bu&&wu(we)),e===a&&("timezone_hour"===r.substr(cu,13).toLowerCase()?(e=r.substr(cu,13),cu+=13):(e=a,0===bu&&wu(me)),e===a&&("timezone_minute"===r.substr(cu,15).toLowerCase()?(e=r.substr(cu,15),cu+=15):(e=a,0===bu&&wu(Le)),e===a&&("week"===r.substr(cu,4).toLowerCase()?(e=r.substr(cu,4),cu+=4):(e=a,0===bu&&wu(Ce)),e===a&&("year"===r.substr(cu,4).toLowerCase()?(e=r.substr(cu,4),cu+=4):(e=a,0===bu&&wu(Ae))))))))))))))))))))))))),e!==a&&(t,e=e),t=e}function Ms(){var t;return(t=function(){var t,e,n,o;t=cu,"cast"===r.substr(cu,4).toLowerCase()?(e=r.substr(cu,4),cu+=4):(e=a,0===bu&&wu(lo));e!==a?(n=cu,bu++,o=Ss(),bu--,o===a?n=void 0:(cu=n,n=a),n!==a?(t,t=e="CAST"):(cu=t,t=a)):(cu=t,t=a);return t}())===a&&(t=function(){var t,e,n,o;t=cu,"safe_cast"===r.substr(cu,9).toLowerCase()?(e=r.substr(cu,9),cu+=9):(e=a,0===bu&&wu(fo));e!==a?(n=cu,bu++,o=Ss(),bu--,o===a?n=void 0:(cu=n,n=a),n!==a?(t,t=e="SAFE_CAST"):(cu=t,t=a)):(cu=t,t=a);return t}()),t}function Ds(){var t;return(t=Fs())===a&&(t=Gs())===a&&(t=function(){var t,e;t=cu,(e=function(){var t,e,n,o;t=cu,"true"===r.substr(cu,4).toLowerCase()?(e=r.substr(cu,4),cu+=4):(e=a,0===bu&&wu(en));e!==a?(n=cu,bu++,o=Ss(),bu--,o===a?n=void 0:(cu=n,n=a),n!==a?t=e=[e,n]:(cu=t,t=a)):(cu=t,t=a);return t}())!==a&&(t,e={type:"bool",value:!0});(t=e)===a&&(t=cu,(e=function(){var t,e,n,o;t=cu,"false"===r.substr(cu,5).toLowerCase()?(e=r.substr(cu,5),cu+=5):(e=a,0===bu&&wu(on));e!==a?(n=cu,bu++,o=Ss(),bu--,o===a?n=void 0:(cu=n,n=a),n!==a?t=e=[e,n]:(cu=t,t=a)):(cu=t,t=a);return t}())!==a&&(t,e={type:"bool",value:!1}),t=e);return t}())===a&&(t=Ps())===a&&(t=function(){var t,e,n,o,u,s;t=cu,(e=Hi())===a&&(e=Pi())===a&&(e=Wi())===a&&(e=Fi());if(e!==a)if(ac()!==a){if(n=cu,39===r.charCodeAt(cu)?(o="'",cu++):(o=a,0===bu&&wu(er)),o!==a){for(u=[],s=Hs();s!==a;)u.push(s),s=Hs();u!==a?(39===r.charCodeAt(cu)?(s="'",cu++):(s=a,0===bu&&wu(er)),s!==a?n=o=[o,u,s]:(cu=n,n=a)):(cu=n,n=a)}else cu=n,n=a;n!==a?(t,e=Te(e,n),t=e):(cu=t,t=a)}else cu=t,t=a;else cu=t,t=a;if(t===a)if(t=cu,(e=Hi())===a&&(e=Pi())===a&&(e=Wi())===a&&(e=Fi()),e!==a)if(ac()!==a){if(n=cu,34===r.charCodeAt(cu)?(o='"',cu++):(o=a,0===bu&&wu(Ut)),o!==a){for(u=[],s=$s();s!==a;)u.push(s),s=$s();u!==a?(34===r.charCodeAt(cu)?(s='"',cu++):(s=a,0===bu&&wu(Ut)),s!==a?n=o=[o,u,s]:(cu=n,n=a)):(cu=n,n=a)}else cu=n,n=a;n!==a?(t,e=Te(e,n),t=e):(cu=t,t=a)}else cu=t,t=a;else cu=t,t=a;return t}()),t}function Ps(){var t,e;return t=cu,(e=function(){var t,e,n,o;t=cu,"null"===r.substr(cu,4).toLowerCase()?(e=r.substr(cu,4),cu+=4):(e=a,0===bu&&wu(rn));e!==a?(n=cu,bu++,o=Ss(),bu--,o===a?n=void 0:(cu=n,n=a),n!==a?t=e=[e,n]:(cu=t,t=a)):(cu=t,t=a);return t}())!==a&&(t,e={type:"null",value:null}),t=e}function Fs(){var t,e,n,o,u,s;if(t=cu,"r"===r.substr(cu,1).toLowerCase()?(e=r.charAt(cu),cu++):(e=a,0===bu&&wu(ge)),e===a&&(e=null),e!==a)if(ac()!==a){if(n=cu,39===r.charCodeAt(cu)?(o="'",cu++):(o=a,0===bu&&wu(er)),o!==a){for(u=[],s=Hs();s!==a;)u.push(s),s=Hs();u!==a?(39===r.charCodeAt(cu)?(s="'",cu++):(s=a,0===bu&&wu(er)),s!==a?n=o=[o,u,s]:(cu=n,n=a)):(cu=n,n=a)}else cu=n,n=a;n!==a?(t,t=e={type:e?"regex_string":"single_quote_string",value:n[1].join("")}):(cu=t,t=a)}else cu=t,t=a;else cu=t,t=a;if(t===a)if(t=cu,"r"===r.substr(cu,1).toLowerCase()?(e=r.charAt(cu),cu++):(e=a,0===bu&&wu(ge)),e===a&&(e=null),e!==a)if(ac()!==a){if(n=cu,34===r.charCodeAt(cu)?(o='"',cu++):(o=a,0===bu&&wu(Ut)),o!==a){for(u=[],s=$s();s!==a;)u.push(s),s=$s();u!==a?(34===r.charCodeAt(cu)?(s='"',cu++):(s=a,0===bu&&wu(Ut)),s!==a?n=o=[o,u,s]:(cu=n,n=a)):(cu=n,n=a)}else cu=n,n=a;n!==a?(t,t=e=function(r,t){return{type:r?"regex_string":"string",value:t[1].join("")}}(e,n)):(cu=t,t=a)}else cu=t,t=a;else cu=t,t=a;return t}function $s(){var t;return Se.test(r.charAt(cu))?(t=r.charAt(cu),cu++):(t=a,0===bu&&wu(_e)),t===a&&(t=Ws()),t}function Hs(){var t;return je.test(r.charAt(cu))?(t=r.charAt(cu),cu++):(t=a,0===bu&&wu(xe)),t===a&&(t=Ws()),t}function Ws(){var t,e,n,o,u,s,i,c,l,f;return t=cu,"\\'"===r.substr(cu,2)?(e="\\'",cu+=2):(e=a,0===bu&&wu(Ie)),e!==a&&(t,e="\\'"),(t=e)===a&&(t=cu,'\\"'===r.substr(cu,2)?(e='\\"',cu+=2):(e=a,0===bu&&wu(Ne)),e!==a&&(t,e='\\"'),(t=e)===a&&(t=cu,"\\\\"===r.substr(cu,2)?(e="\\\\",cu+=2):(e=a,0===bu&&wu(Re)),e!==a&&(t,e="\\\\"),(t=e)===a&&(t=cu,"\\/"===r.substr(cu,2)?(e="\\/",cu+=2):(e=a,0===bu&&wu(Oe)),e!==a&&(t,e="\\/"),(t=e)===a&&(t=cu,"\\b"===r.substr(cu,2)?(e="\\b",cu+=2):(e=a,0===bu&&wu(ke)),e!==a&&(t,e="\b"),(t=e)===a&&(t=cu,"\\f"===r.substr(cu,2)?(e="\\f",cu+=2):(e=a,0===bu&&wu(Ue)),e!==a&&(t,e="\f"),(t=e)===a&&(t=cu,"\\n"===r.substr(cu,2)?(e="\\n",cu+=2):(e=a,0===bu&&wu(Me)),e!==a&&(t,e="\n"),(t=e)===a&&(t=cu,"\\r"===r.substr(cu,2)?(e="\\r",cu+=2):(e=a,0===bu&&wu(De)),e!==a&&(t,e="\r"),(t=e)===a&&(t=cu,"\\t"===r.substr(cu,2)?(e="\\t",cu+=2):(e=a,0===bu&&wu(Pe)),e!==a&&(t,e="\t"),(t=e)===a&&(t=cu,"\\u"===r.substr(cu,2)?(e="\\u",cu+=2):(e=a,0===bu&&wu(Fe)),e!==a&&(n=Ks())!==a&&(o=Ks())!==a&&(u=Ks())!==a&&(s=Ks())!==a?(t,i=n,c=o,l=u,f=s,t=e=String.fromCharCode(parseInt("0x"+i+c+l+f))):(cu=t,t=a),t===a&&(t=cu,92===r.charCodeAt(cu)?(e="\\",cu++):(e=a,0===bu&&wu($e)),e!==a&&(t,e="\\"),(t=e)===a&&(t=cu,"''"===r.substr(cu,2)?(e="''",cu+=2):(e=a,0===bu&&wu(He)),e!==a&&(t,e="''"),(t=e)===a&&(t=cu,'""'===r.substr(cu,2)?(e='""',cu+=2):(e=a,0===bu&&wu(We)),e!==a&&(t,e='""'),(t=e)===a&&(t=cu,"``"===r.substr(cu,2)?(e="``",cu+=2):(e=a,0===bu&&wu(Ge)),e!==a&&(t,e="``"),t=e))))))))))))),t}function Gs(){var r,t;return r=cu,(t=Bs())!==a&&(r,t=function(r){return r&&"bigint"===r.type?r:{type:"number",value:r}}(t)),r=t}function Bs(){var r,t,e,n;return r=cu,(t=Ys())!==a&&(e=qs())!==a&&(n=Vs())!==a?(r,r=t={type:"bigint",value:t+e+n}):(cu=r,r=a),r===a&&(r=cu,(t=Ys())!==a&&(e=qs())!==a?(r,r=t=function(r,t){const e=r+t;return Cc(r)?{type:"bigint",value:e}:parseFloat(e)}(t,e)):(cu=r,r=a),r===a&&(r=cu,(t=Ys())!==a&&(e=Vs())!==a?(r,r=t=function(r,t){return{type:"bigint",value:r+t}}(t,e)):(cu=r,r=a),r===a&&(r=cu,(t=Ys())!==a&&(r,t=function(r){return Cc(r)?{type:"bigint",value:r}:parseFloat(r)}(t)),r=t))),r}function Ys(){var t,e,n;return(t=Xs())===a&&(t=Qs())===a&&(t=cu,45===r.charCodeAt(cu)?(e="-",cu++):(e=a,0===bu&&wu(Nt)),e===a&&(43===r.charCodeAt(cu)?(e="+",cu++):(e=a,0===bu&&wu(It))),e!==a&&(n=Xs())!==a?(t,t=e=e+n):(cu=t,t=a),t===a&&(t=cu,45===r.charCodeAt(cu)?(e="-",cu++):(e=a,0===bu&&wu(Nt)),e===a&&(43===r.charCodeAt(cu)?(e="+",cu++):(e=a,0===bu&&wu(It))),e!==a&&(n=Qs())!==a?(t,t=e=function(r,t){return r+t}(e,n)):(cu=t,t=a))),t}function qs(){var t,e,n;return t=cu,46===r.charCodeAt(cu)?(e=".",cu++):(e=a,0===bu&&wu(T)),e!==a&&(n=Xs())!==a?(t,t=e="."+n):(cu=t,t=a),t}function Vs(){var t,e,n;return t=cu,(e=function(){var t,e,n;t=cu,Ke.test(r.charAt(cu))?(e=r.charAt(cu),cu++):(e=a,0===bu&&wu(ze));e!==a?(Ze.test(r.charAt(cu))?(n=r.charAt(cu),cu++):(n=a,0===bu&&wu(Je)),n===a&&(n=null),n!==a?(t,t=e=e+(null!==(o=n)?o:"")):(cu=t,t=a)):(cu=t,t=a);var o;return t}())!==a&&(n=Xs())!==a?(t,t=e=e+n):(cu=t,t=a),t}function Xs(){var r,t,e;if(r=cu,t=[],(e=Qs())!==a)for(;e!==a;)t.push(e),e=Qs();else t=a;return t!==a&&(r,t=t.join("")),r=t}function Qs(){var t;return qe.test(r.charAt(cu))?(t=r.charAt(cu),cu++):(t=a,0===bu&&wu(Ve)),t}function Ks(){var t;return Xe.test(r.charAt(cu))?(t=r.charAt(cu),cu++):(t=a,0===bu&&wu(Qe)),t}function zs(){var t,e,n,o;return t=cu,"default"===r.substr(cu,7).toLowerCase()?(e=r.substr(cu,7),cu+=7):(e=a,0===bu&&wu(_)),e!==a?(n=cu,bu++,o=Ss(),bu--,o===a?n=void 0:(cu=n,n=a),n!==a?t=e=[e,n]:(cu=t,t=a)):(cu=t,t=a),t}function Zs(){var t,e,n,o;return t=cu,"to"===r.substr(cu,2).toLowerCase()?(e=r.substr(cu,2),cu+=2):(e=a,0===bu&&wu(nn)),e!==a?(n=cu,bu++,o=Ss(),bu--,o===a?n=void 0:(cu=n,n=a),n!==a?t=e=[e,n]:(cu=t,t=a)):(cu=t,t=a),t}function Js(){var t,e,n,o;return t=cu,"drop"===r.substr(cu,4).toLowerCase()?(e=r.substr(cu,4),cu+=4):(e=a,0===bu&&wu(un)),e!==a?(n=cu,bu++,o=Ss(),bu--,o===a?n=void 0:(cu=n,n=a),n!==a?(t,t=e="DROP"):(cu=t,t=a)):(cu=t,t=a),t}function ri(){var t,e,n,o;return t=cu,"ignore"===r.substr(cu,6).toLowerCase()?(e=r.substr(cu,6),cu+=6):(e=a,0===bu&&wu(cn)),e!==a?(n=cu,bu++,o=Ss(),bu--,o===a?n=void 0:(cu=n,n=a),n!==a?t=e=[e,n]:(cu=t,t=a)):(cu=t,t=a),t}function ti(){var t,e,n,o;return t=cu,"partition"===r.substr(cu,9).toLowerCase()?(e=r.substr(cu,9),cu+=9):(e=a,0===bu&&wu(ln)),e!==a?(n=cu,bu++,o=Ss(),bu--,o===a?n=void 0:(cu=n,n=a),n!==a?(t,t=e="PARTITION"):(cu=t,t=a)):(cu=t,t=a),t}function ei(){var t,e,n,o;return t=cu,"into"===r.substr(cu,4).toLowerCase()?(e=r.substr(cu,4),cu+=4):(e=a,0===bu&&wu(fn)),e!==a?(n=cu,bu++,o=Ss(),bu--,o===a?n=void 0:(cu=n,n=a),n!==a?t=e=[e,n]:(cu=t,t=a)):(cu=t,t=a),t}function ni(){var t,e,n,o;return t=cu,"from"===r.substr(cu,4).toLowerCase()?(e=r.substr(cu,4),cu+=4):(e=a,0===bu&&wu(pn)),e!==a?(n=cu,bu++,o=Ss(),bu--,o===a?n=void 0:(cu=n,n=a),n!==a?t=e=[e,n]:(cu=t,t=a)):(cu=t,t=a),t}function oi(){var t,e,n,o;return t=cu,"set"===r.substr(cu,3).toLowerCase()?(e=r.substr(cu,3),cu+=3):(e=a,0===bu&&wu(m)),e!==a?(n=cu,bu++,o=Ss(),bu--,o===a?n=void 0:(cu=n,n=a),n!==a?(t,t=e="SET"):(cu=t,t=a)):(cu=t,t=a),t}function ui(){var t,e,n,o;return t=cu,"as"===r.substr(cu,2).toLowerCase()?(e=r.substr(cu,2),cu+=2):(e=a,0===bu&&wu(Zr)),e!==a?(n=cu,bu++,o=Ss(),bu--,o===a?n=void 0:(cu=n,n=a),n!==a?t=e=[e,n]:(cu=t,t=a)):(cu=t,t=a),t}function ai(){var t,e,n,o;return t=cu,"table"===r.substr(cu,5).toLowerCase()?(e=r.substr(cu,5),cu+=5):(e=a,0===bu&&wu(vn)),e!==a?(n=cu,bu++,o=Ss(),bu--,o===a?n=void 0:(cu=n,n=a),n!==a?(t,t=e="TABLE"):(cu=t,t=a)):(cu=t,t=a),t}function si(){var t,e,n,o;return t=cu,"tables"===r.substr(cu,6).toLowerCase()?(e=r.substr(cu,6),cu+=6):(e=a,0===bu&&wu(dn)),e!==a?(n=cu,bu++,o=Ss(),bu--,o===a?n=void 0:(cu=n,n=a),n!==a?(t,t=e="TABLES"):(cu=t,t=a)):(cu=t,t=a),t}function ii(){var t,e,n,o;return t=cu,"on"===r.substr(cu,2).toLowerCase()?(e=r.substr(cu,2),cu+=2):(e=a,0===bu&&wu(yn)),e!==a?(n=cu,bu++,o=Ss(),bu--,o===a?n=void 0:(cu=n,n=a),n!==a?t=e=[e,n]:(cu=t,t=a)):(cu=t,t=a),t}function ci(){var t,e,n,o;return t=cu,"join"===r.substr(cu,4).toLowerCase()?(e=r.substr(cu,4),cu+=4):(e=a,0===bu&&wu(An)),e!==a?(n=cu,bu++,o=Ss(),bu--,o===a?n=void 0:(cu=n,n=a),n!==a?t=e=[e,n]:(cu=t,t=a)):(cu=t,t=a),t}function li(){var t,e,n,o;return t=cu,"outer"===r.substr(cu,5).toLowerCase()?(e=r.substr(cu,5),cu+=5):(e=a,0===bu&&wu(En)),e!==a?(n=cu,bu++,o=Ss(),bu--,o===a?n=void 0:(cu=n,n=a),n!==a?t=e=[e,n]:(cu=t,t=a)):(cu=t,t=a),t}function fi(){var t,e,n,o;return t=cu,"over"===r.substr(cu,4).toLowerCase()?(e=r.substr(cu,4),cu+=4):(e=a,0===bu&&wu(gn)),e!==a?(n=cu,bu++,o=Ss(),bu--,o===a?n=void 0:(cu=n,n=a),n!==a?t=e=[e,n]:(cu=t,t=a)):(cu=t,t=a),t}function pi(){var t,e,n,o;return t=cu,"values"===r.substr(cu,6).toLowerCase()?(e=r.substr(cu,6),cu+=6):(e=a,0===bu&&wu(_n)),e!==a?(n=cu,bu++,o=Ss(),bu--,o===a?n=void 0:(cu=n,n=a),n!==a?t=e=[e,n]:(cu=t,t=a)):(cu=t,t=a),t}function bi(){var t,e,n,o;return t=cu,"using"===r.substr(cu,5).toLowerCase()?(e=r.substr(cu,5),cu+=5):(e=a,0===bu&&wu(jn)),e!==a?(n=cu,bu++,o=Ss(),bu--,o===a?n=void 0:(cu=n,n=a),n!==a?t=e=[e,n]:(cu=t,t=a)):(cu=t,t=a),t}function vi(){var t,e,n,o;return t=cu,"with"===r.substr(cu,4).toLowerCase()?(e=r.substr(cu,4),cu+=4):(e=a,0===bu&&wu(wr)),e!==a?(n=cu,bu++,o=Ss(),bu--,o===a?n=void 0:(cu=n,n=a),n!==a?t=e=[e,n]:(cu=t,t=a)):(cu=t,t=a),t}function di(){var t,e,n,o;return t=cu,"by"===r.substr(cu,2).toLowerCase()?(e=r.substr(cu,2),cu+=2):(e=a,0===bu&&wu(Nn)),e!==a?(n=cu,bu++,o=Ss(),bu--,o===a?n=void 0:(cu=n,n=a),n!==a?t=e=[e,n]:(cu=t,t=a)):(cu=t,t=a),t}function yi(){var t,e,n,o;return t=cu,"having"===r.substr(cu,6).toLowerCase()?(e=r.substr(cu,6),cu+=6):(e=a,0===bu&&wu(On)),e!==a?(n=cu,bu++,o=Ss(),bu--,o===a?n=void 0:(cu=n,n=a),n!==a?t=e=[e,n]:(cu=t,t=a)):(cu=t,t=a),t}function hi(){var t,e,n,o;return t=cu,"offset"===r.substr(cu,6).toLowerCase()?(e=r.substr(cu,6),cu+=6):(e=a,0===bu&&wu(Fn)),e!==a?(n=cu,bu++,o=Ss(),bu--,o===a?n=void 0:(cu=n,n=a),n!==a?(t,t=e="OFFSET"):(cu=t,t=a)):(cu=t,t=a),t}function wi(){var t,e,n,o;return t=cu,"desc"===r.substr(cu,4).toLowerCase()?(e=r.substr(cu,4),cu+=4):(e=a,0===bu&&wu(Wn)),e!==a?(n=cu,bu++,o=Ss(),bu--,o===a?n=void 0:(cu=n,n=a),n!==a?(t,t=e="DESC"):(cu=t,t=a)):(cu=t,t=a),t}function mi(){var t,e,n,o;return t=cu,"all"===r.substr(cu,3).toLowerCase()?(e=r.substr(cu,3),cu+=3):(e=a,0===bu&&wu(Gn)),e!==a?(n=cu,bu++,o=Ss(),bu--,o===a?n=void 0:(cu=n,n=a),n!==a?(t,t=e="ALL"):(cu=t,t=a)):(cu=t,t=a),t}function Li(){var t,e,n,o;return t=cu,"distinct"===r.substr(cu,8).toLowerCase()?(e=r.substr(cu,8),cu+=8):(e=a,0===bu&&wu(Bn)),e!==a?(n=cu,bu++,o=Ss(),bu--,o===a?n=void 0:(cu=n,n=a),n!==a?(t,t=e="DISTINCT"):(cu=t,t=a)):(cu=t,t=a),t}function Ci(){var t,e,n,o;return t=cu,"between"===r.substr(cu,7).toLowerCase()?(e=r.substr(cu,7),cu+=7):(e=a,0===bu&&wu(Yn)),e!==a?(n=cu,bu++,o=Ss(),bu--,o===a?n=void 0:(cu=n,n=a),n!==a?(t,t=e="BETWEEN"):(cu=t,t=a)):(cu=t,t=a),t}function Ai(){var t,e,n,o;return t=cu,"in"===r.substr(cu,2).toLowerCase()?(e=r.substr(cu,2),cu+=2):(e=a,0===bu&&wu(qn)),e!==a?(n=cu,bu++,o=Ss(),bu--,o===a?n=void 0:(cu=n,n=a),n!==a?(t,t=e="IN"):(cu=t,t=a)):(cu=t,t=a),t}function Ei(){var t,e,n,o;return t=cu,"is"===r.substr(cu,2).toLowerCase()?(e=r.substr(cu,2),cu+=2):(e=a,0===bu&&wu(Vn)),e!==a?(n=cu,bu++,o=Ss(),bu--,o===a?n=void 0:(cu=n,n=a),n!==a?(t,t=e="IS"):(cu=t,t=a)):(cu=t,t=a),t}function gi(){var t,e,n,o;return t=cu,"like"===r.substr(cu,4).toLowerCase()?(e=r.substr(cu,4),cu+=4):(e=a,0===bu&&wu(Xn)),e!==a?(n=cu,bu++,o=Ss(),bu--,o===a?n=void 0:(cu=n,n=a),n!==a?(t,t=e="LIKE"):(cu=t,t=a)):(cu=t,t=a),t}function Ti(){var t,e,n,o;return t=cu,"exists"===r.substr(cu,6).toLowerCase()?(e=r.substr(cu,6),cu+=6):(e=a,0===bu&&wu(Qn)),e!==a?(n=cu,bu++,o=Ss(),bu--,o===a?n=void 0:(cu=n,n=a),n!==a?(t,t=e="EXISTS"):(cu=t,t=a)):(cu=t,t=a),t}function Si(){var t,e,n,o;return t=cu,"not"===r.substr(cu,3).toLowerCase()?(e=r.substr(cu,3),cu+=3):(e=a,0===bu&&wu(vr)),e!==a?(n=cu,bu++,o=Ss(),bu--,o===a?n=void 0:(cu=n,n=a),n!==a?(t,t=e="NOT"):(cu=t,t=a)):(cu=t,t=a),t}function _i(){var t,e,n,o;return t=cu,"and"===r.substr(cu,3).toLowerCase()?(e=r.substr(cu,3),cu+=3):(e=a,0===bu&&wu(Kn)),e!==a?(n=cu,bu++,o=Ss(),bu--,o===a?n=void 0:(cu=n,n=a),n!==a?(t,t=e="AND"):(cu=t,t=a)):(cu=t,t=a),t}function ji(){var t,e,n,o;return t=cu,"or"===r.substr(cu,2).toLowerCase()?(e=r.substr(cu,2),cu+=2):(e=a,0===bu&&wu(zn)),e!==a?(n=cu,bu++,o=Ss(),bu--,o===a?n=void 0:(cu=n,n=a),n!==a?(t,t=e="OR"):(cu=t,t=a)):(cu=t,t=a),t}function xi(){var t,e,n,o;return t=cu,"max"===r.substr(cu,3).toLowerCase()?(e=r.substr(cu,3),cu+=3):(e=a,0===bu&&wu(Jn)),e!==a?(n=cu,bu++,o=Ss(),bu--,o===a?n=void 0:(cu=n,n=a),n!==a?(t,t=e="MAX"):(cu=t,t=a)):(cu=t,t=a),t}function Ii(){var t,e,n,o;return t=cu,"min"===r.substr(cu,3).toLowerCase()?(e=r.substr(cu,3),cu+=3):(e=a,0===bu&&wu(ro)),e!==a?(n=cu,bu++,o=Ss(),bu--,o===a?n=void 0:(cu=n,n=a),n!==a?(t,t=e="MIN"):(cu=t,t=a)):(cu=t,t=a),t}function Ni(){var t,e,n,o;return t=cu,"extract"===r.substr(cu,7).toLowerCase()?(e=r.substr(cu,7),cu+=7):(e=a,0===bu&&wu(no)),e!==a?(n=cu,bu++,o=Ss(),bu--,o===a?n=void 0:(cu=n,n=a),n!==a?(t,t=e="EXTRACT"):(cu=t,t=a)):(cu=t,t=a),t}function Ri(){var t,e,n,o;return t=cu,"case"===r.substr(cu,4).toLowerCase()?(e=r.substr(cu,4),cu+=4):(e=a,0===bu&&wu(uo)),e!==a?(n=cu,bu++,o=Ss(),bu--,o===a?n=void 0:(cu=n,n=a),n!==a?t=e=[e,n]:(cu=t,t=a)):(cu=t,t=a),t}function Oi(){var t,e,n,o;return t=cu,"end"===r.substr(cu,3).toLowerCase()?(e=r.substr(cu,3),cu+=3):(e=a,0===bu&&wu(co)),e!==a?(n=cu,bu++,o=Ss(),bu--,o===a?n=void 0:(cu=n,n=a),n!==a?t=e=[e,n]:(cu=t,t=a)):(cu=t,t=a),t}function ki(){var t,e,n,o;return t=cu,"array"===r.substr(cu,5).toLowerCase()?(e=r.substr(cu,5),cu+=5):(e=a,0===bu&&wu(po)),e!==a?(n=cu,bu++,o=Ss(),bu--,o===a?n=void 0:(cu=n,n=a),n!==a?(t,t=e="ARRAY"):(cu=t,t=a)):(cu=t,t=a),t}function Ui(){var t,e,n,o;return t=cu,"decimal"===r.substr(cu,7).toLowerCase()?(e=r.substr(cu,7),cu+=7):(e=a,0===bu&&wu(wo)),e!==a?(n=cu,bu++,o=Ss(),bu--,o===a?n=void 0:(cu=n,n=a),n!==a?(t,t=e="DECIMAL"):(cu=t,t=a)):(cu=t,t=a),t}function Mi(){var t,e,n,o;return t=cu,"integer"===r.substr(cu,7).toLowerCase()?(e=r.substr(cu,7),cu+=7):(e=a,0===bu&&wu(Ao)),e!==a?(n=cu,bu++,o=Ss(),bu--,o===a?n=void 0:(cu=n,n=a),n!==a?(t,t=e="INTEGER"):(cu=t,t=a)):(cu=t,t=a),t}function Di(){var t,e,n,o;return t=cu,"struct"===r.substr(cu,6).toLowerCase()?(e=r.substr(cu,6),cu+=6):(e=a,0===bu&&wu(go)),e!==a?(n=cu,bu++,o=Ss(),bu--,o===a?n=void 0:(cu=n,n=a),n!==a?(t,t=e="STRUCT"):(cu=t,t=a)):(cu=t,t=a),t}function Pi(){var t,e,n,o;return t=cu,"date"===r.substr(cu,4).toLowerCase()?(e=r.substr(cu,4),cu+=4):(e=a,0===bu&&wu(te)),e!==a?(n=cu,bu++,o=Ss(),bu--,o===a?n=void 0:(cu=n,n=a),n!==a?(t,t=e="DATE"):(cu=t,t=a)):(cu=t,t=a),t}function Fi(){var t,e,n,o;return t=cu,"datetime"===r.substr(cu,8).toLowerCase()?(e=r.substr(cu,8),cu+=8):(e=a,0===bu&&wu(So)),e!==a?(n=cu,bu++,o=Ss(),bu--,o===a?n=void 0:(cu=n,n=a),n!==a?(t,t=e="DATETIME"):(cu=t,t=a)):(cu=t,t=a),t}function $i(){var t,e,n,o;return t=cu,"rows"===r.substr(cu,4).toLowerCase()?(e=r.substr(cu,4),cu+=4):(e=a,0===bu&&wu(vt)),e!==a?(n=cu,bu++,o=Ss(),bu--,o===a?n=void 0:(cu=n,n=a),n!==a?(t,t=e="ROWS"):(cu=t,t=a)):(cu=t,t=a),t}function Hi(){var t,e,n,o;return t=cu,"time"===r.substr(cu,4).toLowerCase()?(e=r.substr(cu,4),cu+=4):(e=a,0===bu&&wu(he)),e!==a?(n=cu,bu++,o=Ss(),bu--,o===a?n=void 0:(cu=n,n=a),n!==a?(t,t=e="TIME"):(cu=t,t=a)):(cu=t,t=a),t}function Wi(){var t,e,n,o;return t=cu,"timestamp"===r.substr(cu,9).toLowerCase()?(e=r.substr(cu,9),cu+=9):(e=a,0===bu&&wu(_o)),e!==a?(n=cu,bu++,o=Ss(),bu--,o===a?n=void 0:(cu=n,n=a),n!==a?(t,t=e="TIMESTAMP"):(cu=t,t=a)):(cu=t,t=a),t}function Gi(){var t,e,n,o;return t=cu,"interval"===r.substr(cu,8).toLowerCase()?(e=r.substr(cu,8),cu+=8):(e=a,0===bu&&wu(Io)),e!==a?(n=cu,bu++,o=Ss(),bu--,o===a?n=void 0:(cu=n,n=a),n!==a?(t,t=e="INTERVAL"):(cu=t,t=a)):(cu=t,t=a),t}function Bi(){var t,e,n,o;return t=cu,"current_timestamp"===r.substr(cu,17).toLowerCase()?(e=r.substr(cu,17),cu+=17):(e=a,0===bu&&wu(Ro)),e!==a?(n=cu,bu++,o=Ss(),bu--,o===a?n=void 0:(cu=n,n=a),n!==a?(t,t=e="CURRENT_TIMESTAMP"):(cu=t,t=a)):(cu=t,t=a),t}function Yi(){var t,e,n,o;return t=cu,"column"===r.substr(cu,6).toLowerCase()?(e=r.substr(cu,6),cu+=6):(e=a,0===bu&&wu($o)),e!==a?(n=cu,bu++,o=Ss(),bu--,o===a?n=void 0:(cu=n,n=a),n!==a?(t,t=e="COLUMN"):(cu=t,t=a)):(cu=t,t=a),t}function qi(){var t,e,n,o;return t=cu,"index"===r.substr(cu,5).toLowerCase()?(e=r.substr(cu,5),cu+=5):(e=a,0===bu&&wu(Ho)),e!==a?(n=cu,bu++,o=Ss(),bu--,o===a?n=void 0:(cu=n,n=a),n!==a?(t,t=e="INDEX"):(cu=t,t=a)):(cu=t,t=a),t}function Vi(){var t,e,n,o;return t=cu,"key"===r.substr(cu,3).toLowerCase()?(e=r.substr(cu,3),cu+=3):(e=a,0===bu&&wu(D)),e!==a?(n=cu,bu++,o=Ss(),bu--,o===a?n=void 0:(cu=n,n=a),n!==a?(t,t=e="KEY"):(cu=t,t=a)):(cu=t,t=a),t}function Xi(){var t,e,n,o;return t=cu,"comment"===r.substr(cu,7).toLowerCase()?(e=r.substr(cu,7),cu+=7):(e=a,0===bu&&wu(Go)),e!==a?(n=cu,bu++,o=Ss(),bu--,o===a?n=void 0:(cu=n,n=a),n!==a?(t,t=e="COMMENT"):(cu=t,t=a)):(cu=t,t=a),t}function Qi(){var t;return 46===r.charCodeAt(cu)?(t=".",cu++):(t=a,0===bu&&wu(T)),t}function Ki(){var t;return 44===r.charCodeAt(cu)?(t=",",cu++):(t=a,0===bu&&wu(qo)),t}function zi(){var t;return 42===r.charCodeAt(cu)?(t="*",cu++):(t=a,0===bu&&wu(Rt)),t}function Zi(){var t;return 40===r.charCodeAt(cu)?(t="(",cu++):(t=a,0===bu&&wu(Vr)),t}function Ji(){var t;return 41===r.charCodeAt(cu)?(t=")",cu++):(t=a,0===bu&&wu(Xr)),t}function rc(){var t;return 60===r.charCodeAt(cu)?(t="<",cu++):(t=a,0===bu&&wu(jt)),t}function tc(){var t;return 62===r.charCodeAt(cu)?(t=">",cu++):(t=a,0===bu&&wu(Tt)),t}function ec(){var t;return 91===r.charCodeAt(cu)?(t="[",cu++):(t=a,0===bu&&wu(Vo)),t}function nc(){var t;return 93===r.charCodeAt(cu)?(t="]",cu++):(t=a,0===bu&&wu(Xo)),t}function oc(){var t;return 59===r.charCodeAt(cu)?(t=";",cu++):(t=a,0===bu&&wu(Qo)),t}function uc(){var t;return(t=function(){var t;return"||"===r.substr(cu,2)?(t="||",cu+=2):(t=a,0===bu&&wu(Ko)),t}())===a&&(t=function(){var t;return"&&"===r.substr(cu,2)?(t="&&",cu+=2):(t=a,0===bu&&wu(zo)),t}()),t}function ac(){var r,t;for(r=[],(t=lc())===a&&(t=ic());t!==a;)r.push(t),(t=lc())===a&&(t=ic());return r}function sc(){var r,t;if(r=[],(t=lc())===a&&(t=ic()),t!==a)for(;t!==a;)r.push(t),(t=lc())===a&&(t=ic());else r=a;return r}function ic(){var t;return(t=function(){var t,e,n,o,u,s;t=cu,"/*"===r.substr(cu,2)?(e="/*",cu+=2):(e=a,0===bu&&wu(Zo));if(e!==a){for(n=[],o=cu,u=cu,bu++,"*/"===r.substr(cu,2)?(s="*/",cu+=2):(s=a,0===bu&&wu(Jo)),bu--,s===a?u=void 0:(cu=u,u=a),u!==a&&(s=cc())!==a?o=u=[u,s]:(cu=o,o=a);o!==a;)n.push(o),o=cu,u=cu,bu++,"*/"===r.substr(cu,2)?(s="*/",cu+=2):(s=a,0===bu&&wu(Jo)),bu--,s===a?u=void 0:(cu=u,u=a),u!==a&&(s=cc())!==a?o=u=[u,s]:(cu=o,o=a);n!==a?("*/"===r.substr(cu,2)?(o="*/",cu+=2):(o=a,0===bu&&wu(Jo)),o!==a?t=e=[e,n,o]:(cu=t,t=a)):(cu=t,t=a)}else cu=t,t=a;return t}())===a&&(t=function(){var t,e,n,o,u,s;t=cu,"--"===r.substr(cu,2)?(e="--",cu+=2):(e=a,0===bu&&wu(ru));if(e!==a){for(n=[],o=cu,u=cu,bu++,s=fc(),bu--,s===a?u=void 0:(cu=u,u=a),u!==a&&(s=cc())!==a?o=u=[u,s]:(cu=o,o=a);o!==a;)n.push(o),o=cu,u=cu,bu++,s=fc(),bu--,s===a?u=void 0:(cu=u,u=a),u!==a&&(s=cc())!==a?o=u=[u,s]:(cu=o,o=a);n!==a?t=e=[e,n]:(cu=t,t=a)}else cu=t,t=a;return t}())===a&&(t=function(){var t,e,n,o,u,s;t=cu,35===r.charCodeAt(cu)?(e="#",cu++):(e=a,0===bu&&wu(tu));if(e!==a){for(n=[],o=cu,u=cu,bu++,s=fc(),bu--,s===a?u=void 0:(cu=u,u=a),u!==a&&(s=cc())!==a?o=u=[u,s]:(cu=o,o=a);o!==a;)n.push(o),o=cu,u=cu,bu++,s=fc(),bu--,s===a?u=void 0:(cu=u,u=a),u!==a&&(s=cc())!==a?o=u=[u,s]:(cu=o,o=a);n!==a?t=e=[e,n]:(cu=t,t=a)}else cu=t,t=a;return t}()),t}function cc(){var t;return r.length>cu?(t=r.charAt(cu),cu++):(t=a,0===bu&&wu(eu)),t}function lc(){var t;return nu.test(r.charAt(cu))?(t=r.charAt(cu),cu++):(t=a,0===bu&&wu(ou)),t}function fc(){var t,e;if((t=function(){var t,e;t=cu,bu++,r.length>cu?(e=r.charAt(cu),cu++):(e=a,0===bu&&wu(eu));bu--,e===a?t=void 0:(cu=t,t=a);return t}())===a)if(t=[],Be.test(r.charAt(cu))?(e=r.charAt(cu),cu++):(e=a,0===bu&&wu(Ye)),e!==a)for(;e!==a;)t.push(e),Be.test(r.charAt(cu))?(e=r.charAt(cu),cu++):(e=a,0===bu&&wu(Ye));else t=a;return t}function pc(){var r,t,e,n,o,u,s,i;if(r=cu,(t=bc())!==a){for(e=[],n=cu,(o=ac())!==a&&(u=Ki())!==a&&(s=ac())!==a&&(i=bc())!==a?n=o=[o,u,s,i]:(cu=n,n=a);n!==a;)e.push(n),n=cu,(o=ac())!==a&&(u=Ki())!==a&&(s=ac())!==a&&(i=bc())!==a?n=o=[o,u,s,i]:(cu=n,n=a);e!==a?(r,r=t=l(t,e)):(cu=r,r=a)}else cu=r,r=a;return r}function bc(){var r,t,e,n;return r=cu,t=cu,(e=Ts())!==a?(cu,(n=(n=function(r){return!0===wc[r.toUpperCase()]}(e))?a:void 0)!==a?(t,t=e=e):(cu=t,t=a)):(cu=t,t=a),t===a&&(t=null),t!==a&&(e=ac())!==a&&(n=vc())!==a?(r,r=t=function(r,t){return{field_name:r,field_type:t}}(t,n)):(cu=r,r=a),r}function vc(){var t;return(t=yc())===a&&(t=dc())===a&&(t=function(){var t,e,n,o,u,s,i,c,l,f;if(t=cu,(e=function(){var t,e,n,o;return t=cu,"string"===r.substr(cu,6).toLowerCase()?(e=r.substr(cu,6),cu+=6):(e=a,0===bu&&wu(Eo)),e!==a?(n=cu,bu++,o=Ss(),bu--,o===a?n=void 0:(cu=n,n=a),n!==a?(t,t=e="STRING"):(cu=t,t=a)):(cu=t,t=a),t}())!==a){if(n=[],o=cu,(u=ac())!==a)if((s=Zi())!==a)if((i=ac())!==a){if(c=[],qe.test(r.charAt(cu))?(l=r.charAt(cu),cu++):(l=a,0===bu&&wu(Ve)),l!==a)for(;l!==a;)c.push(l),qe.test(r.charAt(cu))?(l=r.charAt(cu),cu++):(l=a,0===bu&&wu(Ve));else c=a;c!==a&&(l=ac())!==a&&(f=Ji())!==a?o=u=[u,s,i,c,l,f]:(cu=o,o=a)}else cu=o,o=a;else cu=o,o=a;else cu=o,o=a;for(;o!==a;)if(n.push(o),o=cu,(u=ac())!==a)if((s=Zi())!==a)if((i=ac())!==a){if(c=[],qe.test(r.charAt(cu))?(l=r.charAt(cu),cu++):(l=a,0===bu&&wu(Ve)),l!==a)for(;l!==a;)c.push(l),qe.test(r.charAt(cu))?(l=r.charAt(cu),cu++):(l=a,0===bu&&wu(Ve));else c=a;c!==a&&(l=ac())!==a&&(f=Ji())!==a?o=u=[u,s,i,c,l,f]:(cu=o,o=a)}else cu=o,o=a;else cu=o,o=a;else cu=o,o=a;n!==a?(t,e=uu(e),t=e):(cu=t,t=a)}else cu=t,t=a;return t}())===a&&(t=function(){var t,e;t=cu,(e=function(){var t,e,n,o;return t=cu,"numeric"===r.substr(cu,7).toLowerCase()?(e=r.substr(cu,7),cu+=7):(e=a,0===bu&&wu(ho)),e!==a?(n=cu,bu++,o=Ss(),bu--,o===a?n=void 0:(cu=n,n=a),n!==a?(t,t=e="NUMERIC"):(cu=t,t=a)):(cu=t,t=a),t}())===a&&(e=function(){var t,e,n,o;return t=cu,"int64"===r.substr(cu,5).toLowerCase()?(e=r.substr(cu,5),cu+=5):(e=a,0===bu&&wu(Co)),e!==a?(n=cu,bu++,o=Ss(),bu--,o===a?n=void 0:(cu=n,n=a),n!==a?(t,t=e="INT64"):(cu=t,t=a)):(cu=t,t=a),t}())===a&&(e=function(){var t,e,n,o;return t=cu,"float64"===r.substr(cu,7).toLowerCase()?(e=r.substr(cu,7),cu+=7):(e=a,0===bu&&wu(To)),e!==a?(n=cu,bu++,o=Ss(),bu--,o===a?n=void 0:(cu=n,n=a),n!==a?(t,t=e="FLOAT64"):(cu=t,t=a)):(cu=t,t=a),t}())===a&&(e=Mi());e!==a&&(t,e=uu(e));return t=e}())===a&&(t=function(){var t,e,n,o;t=cu,(e=Pi())===a&&(e=Fi())===a&&(e=Hi())===a&&(e=Wi());if(e!==a)if(ac()!==a)if(Zi()!==a)if(ac()!==a){if(n=[],qe.test(r.charAt(cu))?(o=r.charAt(cu),cu++):(o=a,0===bu&&wu(Ve)),o!==a)for(;o!==a;)n.push(o),qe.test(r.charAt(cu))?(o=r.charAt(cu),cu++):(o=a,0===bu&&wu(Ve));else n=a;n!==a&&(o=ac())!==a&&Ji()!==a?(t,e={dataType:e,length:parseInt(n.join(""),10),parentheses:!0},t=e):(cu=t,t=a)}else cu=t,t=a;else cu=t,t=a;else cu=t,t=a;else cu=t,t=a;t===a&&(t=cu,(e=Pi())===a&&(e=Fi())===a&&(e=Hi())===a&&(e=Wi()),e!==a&&(t,e=uu(e)),t=e);return t}())===a&&(t=function(){var t,e,n,o,u,s,i,c;if(t=cu,e=cu,(n=function(){var t,e,n,o;return t=cu,"bytes"===r.substr(cu,5).toLowerCase()?(e=r.substr(cu,5),cu+=5):(e=a,0===bu&&wu(bo)),e!==a?(n=cu,bu++,o=Ss(),bu--,o===a?n=void 0:(cu=n,n=a),n!==a?(t,t=e="BYTES"):(cu=t,t=a)):(cu=t,t=a),t}())!==a)if((o=Zi())!==a)if((u=ac())!==a){if(s=[],qe.test(r.charAt(cu))?(i=r.charAt(cu),cu++):(i=a,0===bu&&wu(Ve)),i!==a)for(;i!==a;)s.push(i),qe.test(r.charAt(cu))?(i=r.charAt(cu),cu++):(i=a,0===bu&&wu(Ve));else s=a;s===a&&("MAX"===r.substr(cu,3)?(s="MAX",cu+=3):(s=a,0===bu&&wu(au)),s===a&&("max"===r.substr(cu,3)?(s="max",cu+=3):(s=a,0===bu&&wu(su)))),s!==a&&(i=ac())!==a&&(c=Ji())!==a?e=n=[n,o,u,s,i,c]:(cu=e,e=a)}else cu=e,e=a;else cu=e,e=a;else cu=e,e=a;e===a&&(e=function(){var t,e,n,o;return t=cu,"bool"===r.substr(cu,4).toLowerCase()?(e=r.substr(cu,4),cu+=4):(e=a,0===bu&&wu(vo)),e!==a?(n=cu,bu++,o=Ss(),bu--,o===a?n=void 0:(cu=n,n=a),n!==a?(t,t=e="BOOL"):(cu=t,t=a)):(cu=t,t=a),t}())===a&&(e=function(){var t,e,n,o;return t=cu,"geography"===r.substr(cu,9).toLowerCase()?(e=r.substr(cu,9),cu+=9):(e=a,0===bu&&wu(yo)),e!==a?(n=cu,bu++,o=Ss(),bu--,o===a?n=void 0:(cu=n,n=a),n!==a?(t,t=e="GEOGRAPHY"):(cu=t,t=a)):(cu=t,t=a),t}());e!==a&&(t,e=uu(e));return t=e}()),t}function dc(){var r,t,e;return r=cu,(t=ki())!==a&&ac()!==a&&rc()!==a&&ac()!==a&&(e=pc())!==a&&ac()!==a&&tc()!==a?(r,r=t=iu(t,e)):(cu=r,r=a),r}function yc(){var r,t,e;return r=cu,(t=Di())!==a&&ac()!==a&&rc()!==a&&ac()!==a&&(e=pc())!==a&&ac()!==a&&tc()!==a?(r,r=t=iu(t,e)):(cu=r,r=a),r}const hc={ARRAY:!0,ALTER:!0,ALL:!0,ADD:!0,AND:!0,AS:!0,ASC:!0,BETWEEN:!0,BY:!0,CALL:!0,CASE:!0,CREATE:!0,CROSS:!0,CONTAINS:!0,CURRENT_DATE:!0,CURRENT_TIME:!0,CURRENT_TIMESTAMP:!0,CURRENT_USER:!0,DELETE:!0,DESC:!0,DISTINCT:!0,DROP:!0,ELSE:!0,END:!0,EXISTS:!0,EXPLAIN:!0,FALSE:!0,FROM:!0,FULL:!0,FOR:!0,GROUP:!0,HAVING:!0,IN:!0,INNER:!0,INSERT:!0,INTO:!0,IS:!0,JOIN:!0,JSON:!0,KEY:!1,LEFT:!0,LIKE:!0,LIMIT:!0,LOW_PRIORITY:!0,NOT:!0,NULL:!0,ON:!0,OR:!0,ORDER:!0,OUTER:!0,PARTITION:!0,PIVOT:!0,RECURSIVE:!0,RENAME:!0,READ:!0,RIGHT:!1,SELECT:!0,SESSION_USER:!0,SET:!0,SHOW:!0,SYSTEM_USER:!0,TABLE:!0,THEN:!0,TRUE:!0,TRUNCATE:!0,UNION:!0,UPDATE:!0,USING:!0,VALUES:!0,WINDOW:!0,WITH:!0,WHEN:!0,WHERE:!0,WRITE:!0,GLOBAL:!0,LOCAL:!0,PERSIST:!0,PERSIST_ONLY:!0,UNNEST:!0},wc={BOOL:!0,BYTE:!0,DATE:!0,DATETIME:!0,FLOAT64:!0,INT64:!0,NUMERIC:!0,STRING:!0,TIME:!0,TIMESTAMP:!0,ARRAY:!0,STRUCT:!0};function mc(r,t){return{type:"unary_expr",operator:r,expr:t}}function Lc(r,t,e){return{type:"binary_expr",operator:r,left:t,right:e}}function Cc(r){const t=o(Number.MAX_SAFE_INTEGER);return!(o(r)<t)}function Ac(r,t,e=3){const n=[r];for(let r=0;r<t.length;r++)delete t[r][e].tableList,delete t[r][e].columnList,n.push(t[r][e]);return n}function Ec(r,t){let e=r;for(let r=0;r<t.length;r++)e=Lc(t[r][1],e,t[r][3]);return e}function gc(r){const t=xc[r];return t||(r||null)}function Tc(r){const t=new Set;for(let e of r.keys()){const r=e.split("::");if(!r){t.add(e);break}r&&r[1]&&(r[1]=gc(r[1])),t.add(r.join("::"))}return Array.from(t)}let Sc=[];const _c=new Set,jc=new Set,xc={};if((e=i())!==a&&cu===r.length)return e;throw e!==a&&cu<r.length&&wu({type:"end"}),mu(pu,fu<r.length?r.charAt(fu):null,fu<r.length?hu(fu,fu+1):hu(fu,fu))}}},function(r,t,e){r.exports=e(3)},function(r,t){r.exports=require("big-integer")},function(r,t,e){"use strict";e.r(t),e.d(t,"Parser",(function(){return mt})),e.d(t,"util",(function(){return n}));var n={};function o(r){return function(r){if(Array.isArray(r))return u(r)}(r)||function(r){if("undefined"!=typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}(r)||function(r,t){if(!r)return;if("string"==typeof r)return u(r,t);var e=Object.prototype.toString.call(r).slice(8,-1);"Object"===e&&r.constructor&&(e=r.constructor.name);if("Map"===e||"Set"===e)return Array.from(r);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return u(r,t)}(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(r,t){(null==t||t>r.length)&&(t=r.length);for(var e=0,n=new Array(t);e<t;e++)n[e]=r[e];return n}function a(r){if(!r)return[];var t=r.keyword,e=r.type;return[t.toUpperCase(),br(e)]}function s(r){if(r){var t=r.type,e=r.expr,n=r.symbol,u=t.toUpperCase(),s=[];switch(s.push(u),u){case"KEY_BLOCK_SIZE":n&&s.push(n),s.push(dr(e));break;case"BTREE":case"HASH":s.length=0,s.push.apply(s,o(a(r)));break;case"WITH PARSER":s.push(e);break;case"VISIBLE":case"INVISIBLE":break;case"COMMENT":s.shift(),s.push(Lr(r));break;case"DATA_COMPRESSION":s.push(n,br(e.value),hr(e.on));break;default:s.push(n,dr(e))}return s.filter(vr).join(" ")}}function i(r){return r?r.map(s):[]}function c(r){var t=r.constraint_type,e=r.index_type,n=r.index_options,u=void 0===n?[]:n,s=r.definition,c=r.on,l=r.with,f=[];if(f.push.apply(f,o(a(e))),s&&s.length){var p="CHECK"===br(t)?"(".concat(ut(s[0]),")"):"(".concat(s.map((function(r){return ut(r)})).join(", "),")");f.push(p)}return f.push(i(u).join(" ")),l&&f.push("WITH (".concat(i(l).join(", "),")")),c&&f.push("ON [".concat(c,"]")),f}function l(r){return function(r){if(Array.isArray(r))return f(r)}(r)||function(r){if("undefined"!=typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}(r)||function(r,t){if(!r)return;if("string"==typeof r)return f(r,t);var e=Object.prototype.toString.call(r).slice(8,-1);"Object"===e&&r.constructor&&(e=r.constructor.name);if("Map"===e||"Set"===e)return Array.from(r);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return f(r,t)}(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(r,t){(null==t||t>r.length)&&(t=r.length);for(var e=0,n=new Array(t);e<t;e++)n[e]=r[e];return n}function p(r){if(r){var t=r.constraint,e=r.constraint_type,n=r.enforced,o=r.index,u=r.keyword,a=r.reference_definition,s=[],i=sr().database;s.push(br(u)),s.push(fr(t));var f=br(e);return"sqlite"===i&&"UNIQUE KEY"===f&&(f="UNIQUE"),s.push(f),s.push("sqlite"!==i&&fr(o)),s.push.apply(s,l(c(r))),s.push.apply(s,l(V(a))),s.push(br(n)),s.filter(vr).join(" ")}}function b(r){if("string"==typeof r)return r;var t=r.window_specification;return"(".concat(function(r){var t=r.name,e=r.partitionby,n=r.orderby,o=r.window_frame_clause;return[t,st(e,"partition by"),st(n,"order by"),br(o)].filter(vr).join(" ")}(t),")")}function v(r){var t=r.name,e=r.as_window_specification;return"".concat(t," AS ").concat(b(e))}function d(r){var t=r.args,e=r.name,n=r.consider_nulls,o=void 0===n?"":n,u=t?ut(t).join(", "):"",a=function(r){switch(br(r)){case"NTH_VALUE":case"LEAD":case"LAG":return!1;default:return!0}}(e);return[e,"(",u,!a&&")",o&&" ",o,a&&")"].filter(vr).join("")}function y(r){if(r){var t=r.as_window_specification,e=r.expr,n=r.keyword,o=r.type,u=r.parentheses,a=br(o);if("WINDOW"===a)return"OVER ".concat(b(t));if("ON UPDATE"===a){var s="".concat(br(o)," ").concat(br(n)),i=ut(e)||[];return u&&(s="".concat(s,"(").concat(i.join(", "),")")),s}throw new Error("unknown over type")}}function h(r){var t=r.arrows,e=void 0===t?[]:t,n=r.collate,o=r.target,u=r.expr,a=r.keyword,s=r.symbol,i=r.as,c=r.tail,l=r.properties,f=void 0===l?[]:l,p=o.length,b=o.dataType,v=o.parentheses,d=o.quoted,y=o.scale,h=o.suffix,w="";null!=p&&(w=y?"".concat(p,", ").concat(y):p),v&&(w="(".concat(w,")")),h&&h.length&&(w+=" ".concat(h.join(" ")));var m=ut(u),L="::",C="";return"as"===s&&(m="".concat(br(a),"(").concat(m),C=")",L=" ".concat(s.toUpperCase()," ")),C+=e.map((function(r,t){return er(r,dr,f[t])})).join(" "),c&&(C+=" ".concat(c.operator," ").concat(ut(c.expr))),i&&(C+=" AS ".concat(fr(i))),n&&(C+=" ".concat(pr(n).join(" "))),[m,L,d,b,d,function(r){if(!r||!r.array)return"";switch(r.array){case"one":return"[]";case"two":return"[][]"}}(o),w,C].filter(vr).join("")}function w(r){var t=r.args,e=r.name,n=r.args_parentheses,o=r.parentheses,u=r.over,a=r.collate,s=r.suffix,i=pr(a).join(" "),c=y(u),l=ut(s);if(!t)return[e,c].filter(vr).join(" ");var f=r.separator||", ";"TRIM"===br(e)&&(f=" ");var p=[e];return p.push(!1===n?" ":"("),p.push(ut(t).join(f)),!1!==n&&p.push(")"),p=[p.join(""),l].filter(vr).join(" "),[o?"(".concat(p,")"):p,i,c].filter(vr).join(" ")}function m(r){var t=r.operator||r.op,e=ut(r.right),n=!1;if(Array.isArray(e)){switch(t){case"=":t="IN";break;case"!=":t="NOT IN";break;case"BETWEEN":case"NOT BETWEEN":n=!0,e="".concat(e[0]," AND ").concat(e[1])}n||(e="(".concat(e.join(", "),")"))}var o=r.right.escape||{},u=[ut(r.left),t,e,br(o.type),ut(o.value)].filter(vr).join(" ");return r.parentheses?"(".concat(u,")"):u}function L(r){return function(r){if(Array.isArray(r))return C(r)}(r)||function(r){if("undefined"!=typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}(r)||function(r,t){if(!r)return;if("string"==typeof r)return C(r,t);var e=Object.prototype.toString.call(r).slice(8,-1);"Object"===e&&r.constructor&&(e=r.constructor.name);if("Map"===e||"Set"===e)return Array.from(r);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return C(r,t)}(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(r,t){(null==t||t>r.length)&&(t=r.length);for(var e=0,n=new Array(t);e<t;e++)n[e]=r[e];return n}function A(r){return r?[br(r.prefix),ut(r.value),br(r.suffix)]:[]}function E(r){return r?r.fetch?(e=(t=r).fetch,n=t.offset,[].concat(L(A(n)),L(A(e))).filter(vr).join(" ")):function(r){var t=r.seperator,e=r.value;return 1===e.length&&"offset"===t?nr("OFFSET",ut(e[0])):nr("LIMIT",e.map(ut).join("".concat("offset"===t?" ":"").concat(br(t)," ")))}(r):"";var t,e,n}function g(r){if(r&&0!==r.length){var t=r[0].recursive?"RECURSIVE ":"",e=r.map((function(r){var t=r.name,e=r.stmt,n=r.columns,o=Array.isArray(n)?"(".concat(n.map(Y).join(", "),")"):"";return"".concat("default"===t.type?fr(t.value):dr(t)).concat(o," AS (").concat(ut(e),")")})).join(", ");return"WITH ".concat(t).concat(e)}}function T(r){if(r&&r.position){var t=r.keyword,e=r.expr,n=[],o=br(t);switch(o){case"VAR":n.push(e.map(ot).join(", "));break;default:n.push(o,"string"==typeof e?fr(e):ut(e))}return n.filter(vr).join(" ")}}function S(r){var t=r.as_struct_val,e=r.columns,n=r.distinct,o=r.for,u=r.from,a=r.for_sys_time_as_of,s=void 0===a?{}:a,i=r.locking_read,c=r.groupby,l=r.having,f=r.into,p=void 0===f?{}:f,b=r.limit,v=r.options,d=r.orderby,y=r.parentheses_symbol,h=r.qualify,w=r.top,m=r.window,L=r.with,C=r.where,A=[g(L),"SELECT",br(t)];A.push(cr(w)),Array.isArray(v)&&A.push(v.join(" ")),A.push(function(r){if(r){if("string"==typeof r)return r;var t=r.type,e=r.columns,n=[br(t)];return e&&n.push("(".concat(e.map(Y).join(", "),")")),n.filter(vr).join(" ")}}(n),Z(e,u));var S=p.position,_="";S&&(_=er("INTO",T,p)),"column"===S&&A.push(_),A.push(er("FROM",H,u)),"from"===S&&A.push(_);var j=s||{},x=j.keyword,I=j.expr;A.push(er(x,ut,I)),A.push(er("WHERE",ut,C)),A.push(nr("GROUP BY",at(c).join(", "))),A.push(er("HAVING",ut,l)),A.push(er("QUALIFY",ut,h)),A.push(er("WINDOW",ut,m)),A.push(st(d,"order by")),A.push(E(b)),A.push(br(i)),"end"===S&&A.push(_),A.push(function(r){if(r){var t=r.expr,e=r.keyword,n=[br(r.type),br(e)];return t?"".concat(n.join(" "),"(").concat(ut(t),")"):n.join(" ")}}(o));var N=A.filter(vr).join(" ");return y?"(".concat(N,")"):N}function _(r,t){var e="undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(!e){if(Array.isArray(r)||(e=function(r,t){if(!r)return;if("string"==typeof r)return j(r,t);var e=Object.prototype.toString.call(r).slice(8,-1);"Object"===e&&r.constructor&&(e=r.constructor.name);if("Map"===e||"Set"===e)return Array.from(r);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return j(r,t)}(r))||t&&r&&"number"==typeof r.length){e&&(r=e);var n=0,o=function(){};return{s:o,n:function(){return n>=r.length?{done:!0}:{done:!1,value:r[n++]}},e:function(r){throw r},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var u,a=!0,s=!1;return{s:function(){e=e.call(r)},n:function(){var r=e.next();return a=r.done,r},e:function(r){s=!0,u=r},f:function(){try{a||null==e.return||e.return()}finally{if(s)throw u}}}}function j(r,t){(null==t||t>r.length)&&(t=r.length);for(var e=0,n=new Array(t);e<t;e++)n[e]=r[e];return n}function x(r){if(!r||0===r.length)return"";var t,e=[],n=_(r);try{for(n.s();!(t=n.n()).done;){var o=t.value,u=o.table,a=o.column,s=o.value,i=[[u,a].filter(vr).map((function(r){return fr(r)})).join(".")],c="";s&&(c=ut(s),i.push("=",c)),e.push(i.filter(vr).join(" "))}}catch(r){n.e(r)}finally{n.f()}return e.join(", ")}function I(r){if("select"===r.type)return S(r);var t=r.map(ut);return"(".concat(t.join("), ("),")")}function N(r){if(!r)return"";var t=["PARTITION","("];if(Array.isArray(r))t.push(r.map(fr).join(", "));else{var e=r.value;t.push(e.map(ut).join(", "))}return t.push(")"),t.filter(vr).join("")}function R(r){if(!r)return"";switch(r.type){case"column":return"(".concat(r.expr.map(Y).join(", "),")")}}function O(r){var t=r.expr,e=r.keyword,n=t.type,o=[br(e)];switch(n){case"origin":o.push(dr(t));break;case"update":o.push("UPDATE",er("SET",x,t.set),er("WHERE",ut,t.where))}return o.filter(vr).join(" ")}function k(r){if(!r)return"";var t=r.action;return[R(r.target),O(t)].filter(vr).join(" ")}function U(r){var t=r.table,e=r.type,n=r.prefix,o=void 0===n?"into":n,u=r.columns,a=r.conflict,s=r.values,i=r.where,c=r.on_duplicate_update,l=r.partition,f=r.returning,p=r.set,b=c||{},v=b.keyword,d=b.set,y=[br(e),br(o),H(t),N(l)];return Array.isArray(u)&&y.push("(".concat(u.map(fr).join(", "),")")),y.push(er(Array.isArray(s)?"VALUES":"",I,s)),y.push(er("ON CONFLICT",k,a)),y.push(er("SET",x,p)),y.push(er("WHERE",ut,i)),y.push(Ar(f)),y.push(er(v,x,d)),y.filter(vr).join(" ")}function M(r){var t=r.expr,e=r.unit;return["INTERVAL",ut(t),br(e)].filter(vr).join(" ")}function D(r){var t=r.type,e=r.as,n=r.expr,o=r.with_offset;return["".concat(br(t),"(").concat(n&&ut(n)||"",")"),er("AS",fr,e),er(br(o&&o.keyword),fr,o&&o.as)].filter(vr).join(" ")}function P(r){if(r)switch(r.type){case"pivot":case"unpivot":return function(r){var t=r.as,e=r.column,n=r.expr,o=r.in_expr,u=r.type,a=[ut(n),"FOR",Y(e),m(o)],s=["".concat(br(u),"(").concat(a.join(" "),")")];return t&&s.push("AS",fr(t)),s.join(" ")}(r);default:return""}}function F(r){if(r){var t=r.keyword,e=r.expr,n=r.index,o=r.index_columns,u=r.parentheses,a=r.prefix,s=[];switch(t.toLowerCase()){case"forceseek":s.push(br(t),"(".concat(fr(n)),"(".concat(o.map(ut).filter(vr).join(", "),"))"));break;case"spatial_window_max_cells":s.push(br(t),"=",ut(e));break;case"index":s.push(br(a),br(t),u?"(".concat(e.map(fr).join(", "),")"):"= ".concat(fr(e)));break;default:s.push(ut(e))}return s.filter(vr).join(" ")}}function $(r){if("UNNEST"===br(r.type))return D(r);var t=r.table,e=r.db,n=r.as,o=r.expr,u=r.operator,a=r.prefix,s=r.schema,i=r.server,c=r.tablesample,l=r.table_hint,f=fr(i),p=fr(e),b=fr(s),v=t&&fr(t);if(o)switch(o.type){case"values":var d=o.parentheses,y=o.values,h=o.prefix,w=[d&&"(","",d&&")"],m=I(y);h&&(m=m.split("(").slice(1).map((function(r){return"".concat(br(h),"(").concat(r)})).join("")),w[1]="VALUES ".concat(m),v=w.filter(vr).join("");break;case"tumble":v=function(r){if(!r)return"";var t=r.data,e=r.timecol,n=r.size;return["TABLE(TUMBLE(TABLE",[fr(t.db),fr(t.table)].filter(vr).join("."),"DESCRIPTOR(".concat(Y(e),")"),"".concat(M(n),"))")].filter(vr).join(" ")}(o);break;default:v=ut(o)}var L=[f,p,b,v=[br(a),v].filter(vr).join(" ")].filter(vr).join(".");r.parentheses&&(L="(".concat(L,")"));var C=[L];if(c){var A=["TABLESAMPLE",ut(c.expr),dr(c.repeatable)].filter(vr).join(" ");C.push(A)}return C.push(er("AS",fr,n),P(u)),l&&C.push(br(l.keyword),"(".concat(l.expr.map(F).filter(vr).join(", "),")")),C.filter(vr).join(" ")}function H(r){if(!r)return"";if(!Array.isArray(r)){var t=r.expr,e=r.parentheses,n=H(t);return e?"(".concat(n,")"):n}var o=r[0],u=[];if("dual"===o.type)return"DUAL";u.push($(o));for(var a=1;a<r.length;++a){var s=r[a],i=s.on,c=s.using,l=s.join,f=[];f.push(l?" ".concat(br(l)):","),f.push($(s)),f.push(er("ON",ut,i)),c&&f.push("USING (".concat(c.map(fr).join(", "),")")),u.push(f.filter(vr).join(" "))}return u.filter(vr).join("")}function W(r){var t=r.keyword,e=r.symbol,n=r.value,o=[t.toUpperCase()];return e&&o.push(e),o.push(n),o.join(" ")}function G(r){return function(r){if(Array.isArray(r))return B(r)}(r)||function(r){if("undefined"!=typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}(r)||function(r,t){if(!r)return;if("string"==typeof r)return B(r,t);var e=Object.prototype.toString.call(r).slice(8,-1);"Object"===e&&r.constructor&&(e=r.constructor.name);if("Map"===e||"Set"===e)return Array.from(r);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return B(r,t)}(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function B(r,t){(null==t||t>r.length)&&(t=r.length);for(var e=0,n=new Array(t);e<t;e++)n[e]=r[e];return n}function Y(r){var t=r.array_index,e=r.arrows,n=void 0===e?[]:e,o=r.as,u=r.collate,a=r.column,s=r.isDual,i=r.schema,c=r.table,l=r.parentheses,f=r.properties,p=r.suffix,b=r.order_by,v=r.subFields,d=void 0===v?[]:v,y="*"===a?"*":function(r,t){if("string"==typeof r)return fr(r,t);var e=r.expr,n=r.offset,o=r.suffix;return[ut(e),n,o].filter(vr).join("")}(a,s);c&&(y="".concat(fr(c),".").concat(y)),i&&(y="".concat(fr(i),".").concat(y)),t&&(y="".concat(y,"[").concat(dr(t.index),"]"),t.property&&(y="".concat(y,".").concat(dr(t.property))));var h=[y=[y].concat(G(d)).join("."),er("AS",ut,o),n.map((function(r,t){return er(r,dr,f[t])})).join(" ")];u&&h.push(pr(u).join(" ")),h.push(br(p)),h.push(br(b));var w=h.filter(vr).join(" ");return l?"(".concat(w,")"):w}function q(r){var t=r||{},e=t.dataType,n=t.length,o=t.suffix,u=t.scale,a=t.expr,s=e;return null!=n&&(s+="(".concat([n,u].filter((function(r){return null!=r})).join(", "),")")),o&&o.length&&(s+=" ".concat(o.join(" "))),a&&(s+=ut(a)),s}function V(r){var t=[];if(!r)return t;var e=r.definition,n=r.keyword,o=r.match,u=r.table,a=r.on_action;return t.push(br(n)),t.push(H(u)),t.push(e&&"(".concat(e.map((function(r){return ut(r)})).join(", "),")")),t.push(br(o)),a.map((function(r){return t.push(br(r.type),ut(r.value))})),t.filter(vr)}function X(r){var t=r.column,e=r.collate,n=r.nulls,o=r.opclass,u=r.order_by;return[ut("string"==typeof t?{type:"column_ref",table:r.table,column:t}:r),er(e&&e.type,fr,e&&e.value),o,br(u),br(n)].filter(vr).join(" ")}function Q(r){var t=[],e=Y(r.column),n=q(r.definition);t.push(e),t.push(n);var o=function(r){var t=[],e=r.nullable,n=r.character_set,o=r.check,u=r.comment,a=r.collate,s=r.storage,i=r.default_val,c=r.auto_increment,l=r.unique,f=r.primary_key,b=r.column_format,v=r.reference_definition;if(t.push(br(e&&e.value)),i){var d=i.type,y=i.value;t.push(d.toUpperCase(),ut(y))}var h=sr().database;return t.push(p(o)),t.push(gr(c),br(f),br(l),Lr(u)),t.push.apply(t,G(pr(n))),"sqlite"!==h&&t.push.apply(t,G(pr(a))),t.push.apply(t,G(pr(b))),t.push.apply(t,G(pr(s))),t.push.apply(t,G(V(v))),t.filter(vr).join(" ")}(r);t.push(o);var u=function(r){if(r)return[br(r.value),"(".concat(ut(r.expr),")"),br(r.storage_type)].filter(vr).join(" ")}(r.generated);return t.push(u),t.filter(vr).join(" ")}function K(r){return r?["AS",/^(`?)[a-z_][0-9a-z_]*(`?)$/i.test(r)?fr(r):lr(r)].join(" "):""}function z(r,t){var e=r.expr;if("cast"===r.type)return h(r);t&&(e.isDual=t);var n=ut(e);return e.parentheses&&Reflect.has(e,"array_index")&&(n="(".concat(n,")")),e.array_index&&"column_ref"!==e.type&&(n="".concat(n,"[").concat(dr(e.array_index.index),"]")),[n,K(r.as)].filter(vr).join(" ")}function Z(r,t){if(!r||"*"===r)return r;var e=function(r){var t=Array.isArray(r)&&r[0];return!(!t||"dual"!==t.type)}(t),n=[],o=r.expr_list,u=r.star,a=r.type;n.push(u,br(a));var s=(o||r).map((function(r){return z(r,e)})).join(", ");return n.push([a&&"(",s,a&&")"].filter(vr).join("")),n.filter(vr).join(" ")}function J(r){return(J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(r)}e.r(n),e.d(n,"arrayStructTypeToSQL",(function(){return mr})),e.d(n,"autoIncrementToSQL",(function(){return gr})),e.d(n,"columnOrderListToSQL",(function(){return Tr})),e.d(n,"commonKeywordArgsToSQL",(function(){return Er})),e.d(n,"commonOptionConnector",(function(){return er})),e.d(n,"connector",(function(){return nr})),e.d(n,"commonTypeValue",(function(){return pr})),e.d(n,"commentToSQL",(function(){return Lr})),e.d(n,"createBinaryExpr",(function(){return ur})),e.d(n,"createValueExpr",(function(){return or})),e.d(n,"dataTypeToSQL",(function(){return wr})),e.d(n,"DEFAULT_OPT",(function(){return rr})),e.d(n,"escape",(function(){return ar})),e.d(n,"literalToSQL",(function(){return dr})),e.d(n,"columnIdentifierToSql",(function(){return lr})),e.d(n,"getParserOpt",(function(){return sr})),e.d(n,"identifierToSql",(function(){return fr})),e.d(n,"onPartitionsToSQL",(function(){return hr})),e.d(n,"replaceParams",(function(){return yr})),e.d(n,"returningToSQL",(function(){return Ar})),e.d(n,"hasVal",(function(){return vr})),e.d(n,"setParserOpt",(function(){return ir})),e.d(n,"toUpper",(function(){return br})),e.d(n,"topToSQL",(function(){return cr})),e.d(n,"triggerEventToSQL",(function(){return Cr}));var rr={database:"bigquery",type:"table"},tr=rr;function er(r,t,e){if(e)return r?"".concat(r.toUpperCase()," ").concat(t(e)):t(e)}function nr(r,t){if(t)return"".concat(r.toUpperCase()," ").concat(t)}function or(r){var t=J(r);if(Array.isArray(r))return{type:"expr_list",value:r.map(or)};if(null===r)return{type:"null",value:null};switch(t){case"boolean":return{type:"bool",value:r};case"string":return{type:"string",value:r};case"number":return{type:"number",value:r};default:throw new Error('Cannot convert value "'.concat(t,'" to SQL'))}}function ur(r,t,e){var n={operator:r,type:"binary_expr"};return n.left=t.type?t:or(t),"BETWEEN"===r||"NOT BETWEEN"===r?(n.right={type:"expr_list",value:[or(e[0]),or(e[1])]},n):(n.right=e.type?e:or(e),n)}function ar(r){return r}function sr(){return tr}function ir(r){tr=r}function cr(r){if(r){var t=r.value,e=r.percent,n=r.parentheses?"(".concat(t,")"):t,o="TOP ".concat(n);return e?"".concat(o," ").concat(e.toUpperCase()):o}}function lr(r){var t=sr().database;if(r)switch(t&&t.toLowerCase()){case"postgresql":case"db2":return'"'.concat(r,'"');case"transactsql":return"[".concat(r,"]");case"mysql":case"mariadb":case"bigquery":default:return"`".concat(r,"`")}}function fr(r,t){var e=sr().database;if(!0===t)return"'".concat(r,"'");if(r){if("*"===r)return r;switch(e&&e.toLowerCase()){case"mysql":case"mariadb":case"sqlite":return"`".concat(r,"`");case"postgresql":case"snowflake":return'"'.concat(r,'"');case"transactsql":return"[".concat(r,"]");case"bigquery":case"db2":return r;default:return"`".concat(r,"`")}}}function pr(r){var t=[];if(!r)return t;var e=r.type,n=r.symbol,o=r.value;return t.push(e.toUpperCase()),n&&t.push(n),t.push(o.toUpperCase()),t}function br(r){if(r)return r.toUpperCase()}function vr(r){return r}function dr(r){if(r){var t=r.prefix,e=r.type,n=r.parentheses,o=r.suffix,u=r.value,a=u;switch(e){case"backticks_quote_string":a="`".concat(u,"`");break;case"string":a="'".concat(u,"'");break;case"regex_string":a='r"'.concat(u,'"');break;case"hex_string":a="X'".concat(u,"'");break;case"full_hex_string":a="0x".concat(u);break;case"natural_string":a="N'".concat(u,"'");break;case"bit_string":a="b'".concat(u,"'");break;case"double_quote_string":a='"'.concat(u,'"');break;case"single_quote_string":a="'".concat(u,"'");break;case"boolean":case"bool":a=u?"TRUE":"FALSE";break;case"null":a="NULL";break;case"star":a="*";break;case"param":a="".concat(t||":").concat(u),t=null;break;case"origin":a=u.toUpperCase();break;case"date":case"datetime":case"time":case"timestamp":a="".concat(e.toUpperCase()," '").concat(u,"'");break;case"var_string":a="N'".concat(u,"'")}var s=[];return t&&s.push(br(t)),s.push(a),o&&s.push("object"===J(o)&&o.collate?pr(o.collate).join(" "):br(o)),a=s.join(" "),n?"(".concat(a,")"):a}}function yr(r,t){return function r(t,e){return Object.keys(t).filter((function(r){var e=t[r];return Array.isArray(e)||"object"===J(e)&&null!==e})).forEach((function(n){var o=t[n];if("object"!==J(o)||"param"!==o.type)return r(o,e);if(void 0===e[o.value])throw new Error("no value for parameter :".concat(o.value," found"));return t[n]=or(e[o.value]),null})),t}(JSON.parse(JSON.stringify(r)),t)}function hr(r){var t=r.type,e=r.partitions;return[br(t),"(".concat(e.map((function(r){if("range"!==r.type)return dr(r);var t=r.start,e=r.end,n=r.symbol;return"".concat(dr(t)," ").concat(br(n)," ").concat(dr(e))})).join(", "),")")].join(" ")}function wr(r){var t=r.dataType,e=r.length,n=r.parentheses,o=r.scale,u=r.suffix,a="";return null!=e&&(a=o?"".concat(e,", ").concat(o):e),n&&(a="(".concat(a,")")),u&&u.length&&(a+=" ".concat(u.join(" "))),"".concat(t).concat(a)}function mr(r){if(r){var t=r.dataType,e=r.definition,n=r.anglebracket,o=br(t);if("ARRAY"!==o&&"STRUCT"!==o)return o;var u=e&&e.map((function(r){return[r.field_name,mr(r.field_type)].filter(vr).join(" ")})).join(", ");return n?"".concat(o,"<").concat(u,">"):"".concat(o," ").concat(u)}}function Lr(r){if(r){var t=[],e=r.keyword,n=r.symbol,o=r.value;return t.push(e.toUpperCase()),n&&t.push(n),t.push(dr(o)),t.join(" ")}}function Cr(r){return r.map((function(r){var t=r.keyword,e=r.args,n=[br(t)];if(e){var o=e.keyword,u=e.columns;n.push(br(o),u.map(Y).join(", "))}return n.join(" ")})).join(" OR ")}function Ar(r){return r?["RETURNING",r.columns.map(z).filter(vr).join(", ")].join(" "):""}function Er(r){return r?[br(r.keyword),br(r.args)]:[]}function gr(r){if(r){if("string"==typeof r){var t=sr().database;switch(t&&t.toLowerCase()){case"sqlite":return"AUTOINCREMENT";default:return"AUTO_INCREMENT"}}var e=r.keyword,n=r.seed,o=r.increment,u=r.parentheses,a=br(e);return u&&(a+="(".concat(dr(n),", ").concat(dr(o),")")),a}}function Tr(r){if(r)return r.map(X).filter(vr).join(", ")}var Sr=["analyze","attach","select","deallocate","delete","exec","update","insert","drop","rename","truncate","call","desc","use","alter","set","create","lock","unlock","declare","show","replace","if","grant","revoke","proc","raise","execute"];function _r(r){var t=r&&r.ast?r.ast:r;if(!Sr.includes(t.type))throw new Error("".concat(t.type," statements not supported at the moment"))}function jr(r){return Array.isArray(r)?(r.forEach(_r),Gr(r)):(_r(r),Wr(r))}function xr(r){return"go"===r.go?function r(t){if(!t||0===t.length)return"";var e=[jr(t.ast)];return t.go_next&&e.push(t.go.toUpperCase(),r(t.go_next)),e.filter((function(r){return r})).join(" ")}(r):jr(r)}function Ir(r,t){var e="undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(!e){if(Array.isArray(r)||(e=Rr(r))||t&&r&&"number"==typeof r.length){e&&(r=e);var n=0,o=function(){};return{s:o,n:function(){return n>=r.length?{done:!0}:{done:!1,value:r[n++]}},e:function(r){throw r},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var u,a=!0,s=!1;return{s:function(){e=e.call(r)},n:function(){var r=e.next();return a=r.done,r},e:function(r){s=!0,u=r},f:function(){try{a||null==e.return||e.return()}finally{if(s)throw u}}}}function Nr(r){return function(r){if(Array.isArray(r))return Or(r)}(r)||function(r){if("undefined"!=typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}(r)||Rr(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Rr(r,t){if(r){if("string"==typeof r)return Or(r,t);var e=Object.prototype.toString.call(r).slice(8,-1);return"Object"===e&&r.constructor&&(e=r.constructor.name),"Map"===e||"Set"===e?Array.from(r):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?Or(r,t):void 0}}function Or(r,t){(null==t||t>r.length)&&(t=r.length);for(var e=0,n=new Array(t);e<t;e++)n[e]=r[e];return n}function kr(r){var t=r.type,e=r.keyword,n=r.name,o=r.prefix,u=[br(t),br(e),br(o)];switch(e){case"table":u.push(H(n));break;case"trigger":u.push([n[0].schema?"".concat(fr(n[0].schema),"."):"",fr(n[0].trigger)].filter(vr).join(""));break;case"database":case"schema":case"procedure":u.push(fr(n));break;case"view":u.push(H(n),r.options&&r.options.map(ut).filter(vr).join(" "));break;case"index":u.push.apply(u,[Y(n)].concat(Nr(r.table?["ON",$(r.table)]:[]),[r.options&&r.options.map(ut).filter(vr).join(" ")]))}return u.filter(vr).join(" ")}function Ur(r){var t=r.type,e=r.keyword,n=r.tables,o=[t.toUpperCase(),br(e)];if("UNLOCK"===t.toUpperCase())return o.join(" ");var u,a=[],s=Ir(n);try{var i=function(){var r=u.value,t=r.table,e=r.lock_type,n=[$(t)];if(e){n.push(["prefix","type","suffix"].map((function(r){return br(e[r])})).filter(vr).join(" "))}a.push(n.join(" "))};for(s.s();!(u=s.n()).done;)i()}catch(r){s.e(r)}finally{s.f()}return o.push.apply(o,[a.join(", ")].concat(Nr(function(r){var t=r.lock_mode,e=r.nowait,n=[];if(t){var o=t.mode;n.push(o.toUpperCase())}return e&&n.push(e.toUpperCase()),n}(r)))),o.filter(vr).join(" ")}function Mr(r){var t=r.name,e=r.host,n=[dr(t)];return e&&n.push("@",dr(e)),n.join("")}function Dr(r){var t=r.type,e=r.grant_option_for,n=r.keyword,o=r.objects,u=r.on,a=r.to_from,s=r.user_or_roles,i=r.with,c=[br(t),dr(e)],l=o.map((function(r){var t=r.priv,e=r.columns,n=[ut(t)];return e&&n.push("(".concat(e.map(Y).join(", "),")")),n.join(" ")})).join(", ");if(c.push(l),u)switch(c.push("ON"),n){case"priv":c.push(dr(u.object_type),u.priv_level.map((function(r){return[fr(r.prefix),fr(r.name)].filter(vr).join(".")})).join(", "));break;case"proxy":c.push(Mr(u))}return c.push(br(a),s.map(Mr).join(", ")),c.push(dr(i)),c.filter(vr).join(" ")}function Pr(r){var t=r.name,e=r.value;return["@".concat(t),"=",ut(e)].filter(vr).join(" ")}function Fr(r){var t=r.left,e=r.right,n=r.symbol,o=r.keyword;t.keyword=o;var u=ut(t),a=ut(e);return"".concat(u," ").concat(n," ").concat(a)}function $r(r){var t,e,n,o,u=r.keyword,a=r.suffix,s="";switch(br(u)){case"BINLOG":e=(t=r).in,n=t.from,o=t.limit,s=[er("IN",dr,e&&e.right),er("FROM",H,n),E(o)].filter(vr).join(" ");break;case"CHARACTER":case"COLLATION":s=function(r){var t=r.expr;if(t)return"LIKE"===br(t.op)?er("LIKE",dr,t.right):er("WHERE",ut,t)}(r);break;case"COLUMNS":case"INDEXES":s=er("FROM",H,r.from);break;case"GRANTS":s=function(r){var t=r.for;if(t){var e=t.user,n=t.host,o=t.role_list,u="'".concat(e,"'");return n&&(u+="@'".concat(n,"'")),["FOR",u,o&&"USING",o&&o.map((function(r){return"'".concat(r,"'")})).join(", ")].filter(vr).join(" ")}}(r);break;case"CREATE":s=er("",$,r[a]);break;case"VAR":s=ot(r.var),u=""}return["SHOW",br(u),br(a),s].filter(vr).join(" ")}var Hr={alter:function(r){var t=r.keyword;switch(void 0===t?"table":t){case"aggregate":return function(r){var t=r.args,e=r.expr,n=r.keyword,o=r.name,u=r.type,a=t.expr,s=t.orderby;return[br(u),br(n),[[fr(o.schema),fr(o.name)].filter(vr).join("."),"(".concat(a.map(Zr).join(", ")).concat(s?[" ORDER","BY",s.map(Zr).join(", ")].join(" "):"",")")].filter(vr).join(""),zr(e)].filter(vr).join(" ")}(r);case"table":return function(r){var t=r.type,e=r.table,n=r.expr,o=void 0===n?[]:n,u=br(t),a=H(e),s=o.map(ut);return[u,"TABLE",a,s.join(", ")].filter(vr).join(" ")}(r);case"schema":return function(r){var t=r.expr,e=r.keyword,n=r.schema;return[br(r.type),br(e),fr(n),zr(t)].filter(vr).join(" ")}(r);case"domain":case"type":return function(r){var t=r.expr,e=r.keyword,n=r.name;return[br(r.type),br(e),[fr(n.schema),fr(n.name)].filter(vr).join("."),zr(t)].filter(vr).join(" ")}(r);case"function":return function(r){var t=r.args,e=r.expr,n=r.keyword,o=r.name;return[br(r.type),br(n),[[fr(o.schema),fr(o.name)].filter(vr).join("."),t&&"(".concat(t.expr?t.expr.map(Zr).join(", "):"",")")].filter(vr).join(""),zr(e)].filter(vr).join(" ")}(r);case"view":return function(r){var t=r.type,e=r.columns,n=r.attributes,o=r.select,u=r.view,a=r.with,s=br(t),i=$(u),c=[s,"VIEW",i];e&&c.push("(".concat(e.map(Y).join(", "),")"));n&&c.push("WITH ".concat(n.map(br).join(", ")));c.push("AS",S(o)),a&&c.push(br(a));return c.filter(vr).join(" ")}(r)}},analyze:function(r){var t=r.type,e=r.table;return[br(t),$(e)].join(" ")},attach:function(r){var t=r.type,e=r.database,n=r.expr,o=r.as,u=r.schema;return[br(t),br(e),ut(n),br(o),fr(u)].filter(vr).join(" ")},create:function(r){var t=r.keyword,e="";switch(t.toLowerCase()){case"aggregate":e=function(r){var t=r.type,e=r.replace,n=r.keyword,o=r.name,u=r.args,a=r.options,s=[br(t),br(e),br(n)],i=[fr(o.schema),o.name].filter(vr).join("."),c="".concat(u.expr.map(Zr).join(", ")).concat(u.orderby?[" ORDER","BY",u.orderby.map(Zr).join(", ")].join(" "):"");return s.push("".concat(i,"(").concat(c,")"),"(".concat(a.map(Kr).join(", "),")")),s.filter(vr).join(" ")}(r);break;case"table":e=function(r){var t=r.type,e=r.keyword,n=r.table,o=r.like,u=r.as,a=r.temporary,s=r.if_not_exists,i=r.create_definitions,c=r.table_options,l=r.ignore_replace,f=r.query_expr,p=[br(t),br(a),br(e),br(s),H(n)];if(o){var b=o.type,v=H(o.table);return p.push(br(b),v),p.filter(vr).join(" ")}i&&p.push("(".concat(i.map(Vr).join(", "),")"));c&&p.push(c.map(W).join(" "));p.push(br(l),br(u)),f&&p.push(Wr(f));return p.filter(vr).join(" ")}(r);break;case"trigger":e="constraint"===r.resource?function(r){var t=r.constraint,e=r.constraint_kw,n=r.deferrable,o=r.events,u=r.execute,a=r.for_each,s=r.from,i=r.location,c=r.keyword,l=r.or,f=r.type,p=r.table,b=r.when,v=[br(f),br(l),br(e),br(c),fr(t),br(i)],d=Cr(o);v.push(d,"ON",$(p)),s&&v.push("FROM",$(s));v.push.apply(v,Br(Er(n)).concat(Br(Er(a)))),b&&v.push(br(b.type),ut(b.cond));return v.push(br(u.keyword),w(u.expr)),v.filter(vr).join(" ")}(r):function(r){var t=r.definer,e=r.for_each,n=r.keyword,o=r.execute,u=r.type,a=r.table,s=r.if_not_exists,i=r.temporary,c=r.trigger,l=r.events,f=r.order,p=r.time,b=r.when,v=[br(u),br(i),t,br(n),br(s),$(c),br(p),l.map((function(r){var t=[br(r.keyword)],e=r.args;return e&&t.push(br(e.keyword),e.columns.map(Y).join(", ")),t.join(" ")})),"ON",$(a),br(e&&e.keyword),br(e&&e.args),f&&"".concat(br(f.keyword)," ").concat(fr(f.trigger)),er("WHEN",ut,b),br(o.prefix)];switch(o.type){case"set":v.push(er("SET",x,o.expr));break;case"multiple":v.push(Gr(o.expr.ast))}return v.push(br(o.suffix)),v.filter(vr).join(" ")}(r);break;case"extension":e=function(r){var t=r.extension,e=r.from,n=r.if_not_exists,o=r.keyword,u=r.schema,a=r.type,s=r.with,i=r.version;return[br(a),br(o),br(n),dr(t),br(s),er("SCHEMA",dr,u),er("VERSION",dr,i),er("FROM",dr,e)].filter(vr).join(" ")}(r);break;case"function":e=function(r){var t=r.type,e=r.replace,n=r.keyword,o=r.name,u=r.args,a=r.returns,s=r.options,i=r.last,c=[br(t),br(e),br(n)],l=[fr(o.schema),o.name].filter(vr).join("."),f=u.map(Zr).filter(vr).join(", ");return c.push("".concat(l,"(").concat(f,")"),function(r){var t=r.type,e=r.keyword,n=r.expr;return[br(t),br(e),Array.isArray(n)?"(".concat(n.map(Q).join(", "),")"):Xr(n)].filter(vr).join(" ")}(a),s.map(Qr).join(" "),i),c.filter(vr).join(" ")}(r);break;case"index":e=function(r){var t=r.concurrently,e=r.filestream_on,n=r.keyword,o=r.include,u=r.index_columns,s=r.index_type,c=r.index_using,l=r.index,f=r.on,p=r.index_options,b=r.algorithm_option,v=r.lock_option,d=r.on_kw,y=r.table,h=r.tablespace,w=r.type,m=r.where,L=r.with,C=r.with_before_where,A=L&&"WITH (".concat(i(L).join(", "),")"),E=o&&"".concat(br(o.keyword)," (").concat(o.columns.map((function(r){return fr(r)})).join(", "),")"),g=[br(w),br(s),br(n),br(t),fr(l),br(d),$(y)].concat(Br(a(c)),["(".concat(Tr(u),")"),E,i(p).join(" "),zr(b),zr(v),er("TABLESPACE",dr,h)]);C?g.push(A,er("WHERE",ut,m)):g.push(er("WHERE",ut,m),A);return g.push(er("ON",ut,f),er("FILESTREAM_ON",dr,e)),g.filter(vr).join(" ")}(r);break;case"sequence":e=function(r){var t=r.type,e=r.keyword,n=r.sequence,o=r.temporary,u=r.if_not_exists,a=r.create_definitions,s=[br(t),br(o),br(e),br(u),H(n)];a&&s.push(a.map(Vr).join(" "));return s.filter(vr).join(" ")}(r);break;case"database":e=function(r){var t=r.type,e=r.keyword,n=r.database,o=r.if_not_exists,u=r.create_definitions,a=[br(t),br(e),br(o),lr(n)];u&&a.push(u.map(W).join(" "));return a.filter(vr).join(" ")}(r);break;case"view":e=function(r){var t=r.algorithm,e=r.columns,n=r.definer,o=r.keyword,u=r.recursive,a=r.replace,s=r.select,i=r.sql_security,c=r.temporary,l=r.type,f=r.view,p=r.with,b=r.with_options,v=f.db,d=f.view,y=[fr(v),fr(d)].filter(vr).join(".");return[br(l),br(a),br(c),br(u),t&&"ALGORITHM = ".concat(br(t)),n,i&&"SQL SECURITY ".concat(br(i)),br(o),y,e&&"(".concat(e.map(lr).join(", "),")"),b&&["WITH","(".concat(b.map((function(r){return pr(r).join(" ")})).join(", "),")")].join(" "),"AS",Wr(s),br(p)].filter(vr).join(" ")}(r);break;case"domain":e=function(r){var t=r.as,e=r.domain,n=r.type,o=r.keyword,u=r.target,a=r.create_definitions,s=[br(n),br(o),[fr(e.schema),fr(e.name)].filter(vr).join("."),br(t),wr(u)];if(a&&a.length>0){var i,c=[],l=function(r,t){var e="undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(!e){if(Array.isArray(r)||(e=Yr(r))||t&&r&&"number"==typeof r.length){e&&(r=e);var n=0,o=function(){};return{s:o,n:function(){return n>=r.length?{done:!0}:{done:!1,value:r[n++]}},e:function(r){throw r},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var u,a=!0,s=!1;return{s:function(){e=e.call(r)},n:function(){var r=e.next();return a=r.done,r},e:function(r){s=!0,u=r},f:function(){try{a||null==e.return||e.return()}finally{if(s)throw u}}}}(a);try{for(l.s();!(i=l.n()).done;){var f=i.value,b=f.type;switch(b){case"collate":c.push(pr(f).join(" "));break;case"default":c.push(br(b),ut(f.value));break;case"constraint":c.push(p(f))}}}catch(r){l.e(r)}finally{l.f()}s.push(c.filter(vr).join(" "))}return s.filter(vr).join(" ")}(r);break;case"type":e=function(r){var t=r.as,e=r.create_definitions,n=r.keyword,o=r.name,u=r.resource,a=[br(r.type),br(n),[fr(o.schema),fr(o.name)].filter(vr).join("."),br(t),br(u)];if(e){var s=[];switch(u){case"enum":s.push(ut(e))}a.push(s.filter(vr).join(" "))}return a.filter(vr).join(" ")}(r);break;default:throw new Error("unknown create resource ".concat(t))}return e},select:S,deallocate:function(r){var t=r.type,e=r.keyword,n=r.expr;return[br(t),br(e),ut(n)].filter(vr).join(" ")},delete:function(r){var t=r.columns,e=r.from,n=r.table,o=r.where,u=r.orderby,a=r.with,s=r.limit,i=[g(a),"DELETE"],c=Z(t,e);return i.push(c),Array.isArray(n)&&(1===n.length&&!0===n[0].addition||i.push(H(n))),i.push(er("FROM",H,e)),i.push(er("WHERE",ut,o)),i.push(st(u,"order by")),i.push(E(s)),i.filter(vr).join(" ")},exec:function(r){var t=r.keyword,e=r.module,n=r.parameters;return[br(t),$(e),n.map(Pr).filter(vr).join(", ")].filter(vr).join(" ")},execute:function(r){var t=r.type,e=r.name,n=r.args,o=[br(t)],u=[e];return n&&u.push("(".concat(ut(n).join(", "),")")),o.push(u.join("")),o.filter(vr).join(" ")},for:function(r){var t=r.type,e=r.label,n=r.target,o=r.query,u=r.stmts;return[e,br(t),n,"IN",Gr([o]),"LOOP",Gr(u),"END LOOP",e].filter(vr).join(" ")},update:function(r){var t=r.from,e=r.table,n=r.set,o=r.where,u=r.orderby,a=r.with,s=r.limit,i=r.returning;return[g(a),"UPDATE",H(e),er("SET",x,n),er("FROM",H,t),er("WHERE",ut,o),st(u,"order by"),E(s),Ar(i)].filter(vr).join(" ")},if:function(r){var t=r.boolean_expr,e=r.else_expr,n=r.elseif_expr,o=r.if_expr,u=r.prefix,a=r.go,s=r.semicolons,i=r.suffix,c=[br(r.type),ut(t),dr(u),"".concat(xr(o.ast||o)).concat(s[0]),br(a)];return n&&c.push(n.map((function(r){return[br(r.type),ut(r.boolean_expr),"THEN",xr(r.then.ast||r.then),r.semicolon].filter(vr).join(" ")})).join(" ")),e&&c.push("ELSE","".concat(xr(e.ast||e)).concat(s[1])),c.push(dr(i)),c.filter(vr).join(" ")},insert:U,drop:kr,truncate:kr,replace:U,declare:function(r){var t=r.type,e=r.declare,n=r.symbol,o=[br(t)],u=e.map((function(r){var t=r.at,e=r.name,n=r.as,o=r.constant,u=r.datatype,a=r.not_null,s=r.prefix,i=r.definition,c=r.keyword,l=[[t,e].filter(vr).join(""),br(n),br(o)];switch(c){case"variable":l.push.apply(l,[q(u)].concat(Nr(pr(r.collate)),[br(a)])),i&&l.push(br(i.keyword),ut(i.value));break;case"cursor":l.push(br(s));break;case"table":l.push(br(s),"(".concat(i.map(Vr).join(", "),")"))}return l.filter(vr).join(" ")})).join("".concat(n," "));return o.push(u),o.join(" ")},use:function(r){var t=r.type,e=r.db,n=br(t),o=fr(e);return"".concat(n," ").concat(o)},rename:function(r){var t=r.type,e=r.table,n=[],o="".concat(t&&t.toUpperCase()," TABLE");if(e){var u,a=Ir(e);try{for(a.s();!(u=a.n()).done;){var s=u.value.map($);n.push(s.join(" TO "))}}catch(r){a.e(r)}finally{a.f()}}return"".concat(o," ").concat(n.join(", "))},call:function(r){var t=ut(r.expr);return"".concat("CALL"," ").concat(t)},desc:function(r){var t=r.type,e=r.table,n=br(t);return"".concat(n," ").concat(fr(e))},set:function(r){var t=ut(r.expr);return"".concat("SET"," ").concat(t)},lock:Ur,unlock:Ur,show:$r,grant:Dr,revoke:Dr,proc:function(r){var t=r.stmt;switch(t.type){case"assign":return Fr(t);case"return":return function(r){var t=r.type,e=r.expr;return[br(t),ut(e)].join(" ")}(t)}},raise:function(r){var t=r.type,e=r.level,n=r.raise,o=r.using,u=[br(t),br(e)];return n&&u.push([dr(n.keyword),"format"===n.type&&n.expr.length>0&&","].filter(vr).join(""),n.expr.map((function(r){return ut(r)})).join(", ")),o&&u.push(br(o.type),br(o.option),o.symbol,o.expr.map((function(r){return ut(r)})).join(", ")),u.filter(vr).join(" ")}};function Wr(r){if(!r)return"";for(var t=Hr[r.type],e=r,n=e._parentheses,o=e._orderby,u=e._limit,a=[n&&"(",t(r)];r._next;){var s=Hr[r._next.type],i=br(r.set_op);a.push(i,s(r._next)),r=r._next}return a.push(n&&")",st(o,"order by"),E(u)),a.filter(vr).join(" ")}function Gr(r){for(var t=[],e=0,n=r.length;e<n;++e){var o=r[e]&&r[e].ast?r[e].ast:r[e];t.push(Wr(o))}return t.join(" ; ")}function Br(r){return function(r){if(Array.isArray(r))return qr(r)}(r)||function(r){if("undefined"!=typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}(r)||Yr(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Yr(r,t){if(r){if("string"==typeof r)return qr(r,t);var e=Object.prototype.toString.call(r).slice(8,-1);return"Object"===e&&r.constructor&&(e=r.constructor.name),"Map"===e||"Set"===e?Array.from(r):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?qr(r,t):void 0}}function qr(r,t){(null==t||t>r.length)&&(t=r.length);for(var e=0,n=new Array(t);e<t;e++)n[e]=r[e];return n}function Vr(r){if(!r)return[];var t,e,n,u,a=r.resource;switch(a){case"column":return Q(r);case"index":return e=[],n=(t=r).keyword,u=t.index,e.push(br(n)),e.push(u),e.push.apply(e,o(c(t))),e.filter(vr).join(" ");case"constraint":return p(r);case"sequence":return[br(r.prefix),ut(r.value)].filter(vr).join(" ");default:throw new Error("unknown resource = ".concat(a," type"))}}function Xr(r){return r.dataType?wr(r):[fr(r.db),fr(r.schema),fr(r.table)].filter(vr).join(".")}function Qr(r){var t=r.type;switch(t){case"as":return[br(t),r.symbol,Wr(r.declare),br(r.begin),Gr(r.expr),br(r.end),r.symbol].filter(vr).join(" ");case"set":return[br(t),r.parameter,br(r.value&&r.value.prefix),r.value&&r.value.expr.map(ut).join(", ")].filter(vr).join(" ");default:return ut(r)}}function Kr(r){var t=r.type,e=r.symbol,n=r.value,o=[br(t),e];switch(br(t)){case"SFUNC":o.push([fr(n.schema),n.name].filter(vr).join("."));break;case"STYPE":case"MSTYPE":o.push(wr(n));break;default:o.push(ut(n))}return o.filter(vr).join(" ")}function zr(r){if(!r)return"";var t=r.action,e=r.create_definitions,n=r.first_after,o=r.if_not_exists,u=r.keyword,a=r.old_column,s=r.prefix,i=r.resource,l=r.symbol,f="",p=[];switch(i){case"column":p=[Q(r)];break;case"index":p=c(r),f=r[i];break;case"table":case"schema":f=fr(r[i]);break;case"aggregate":case"function":case"domain":case"type":f=fr(r[i]);break;case"algorithm":case"lock":case"table-option":f=[l,br(r[i])].filter(vr).join(" ");break;case"constraint":f=fr(r[i]),p=[Vr(e)];break;case"key":f=fr(r[i]);break;default:f=[l,r[i]].filter((function(r){return null!==r})).join(" ")}return[br(t),br(u),br(o),a&&Y(a),br(s),f&&f.trim(),p.filter(vr).join(" "),n&&"".concat(br(n.keyword)," ").concat(Y(n.column))].filter(vr).join(" ")}function Zr(r){var t=r.default&&[br(r.default.keyword),ut(r.default.value)].join(" ");return[br(r.mode),r.name,wr(r.type),t].filter(vr).join(" ")}function Jr(r){return(Jr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(r)}function rt(r){var t=r.expr_list;switch(br(r.type)){case"STRUCT":return"(".concat(Z(t),")");case"ARRAY":return function(r){var t=r.array_path,e=r.brackets,n=r.expr_list,o=r.parentheses;if(!n)return"[".concat(Z(t),"]");if(Array.isArray(n))return"[".concat(n.map((function(r){return"(".concat(Z(r),")")})).filter(vr).join(", "),"]");var u=ut(n);return e?"[".concat(u,"]"):o?"(".concat(u,")"):u}(r);default:return""}}function tt(r){var t=r.definition,e=[br(r.keyword)];return t&&"object"===Jr(t)&&(e.length=0,e.push(mr(t))),e.push(rt(r)),e.filter(vr).join("")}function et(r){return(et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(r)}var nt={alter:zr,aggr_func:function(r){var t=r.args,e=r.filter,n=r.over,o=r.within_group_orderby,u=ut(t.expr),a=r.name,s=y(n),i=" ";t.parentheses&&(i="",u="(".concat(u,")")),t.distinct&&(u=["DISTINCT",u].join(i)),t.orderby&&(u="".concat(u," ").concat(st(t.orderby,"order by"))),t.separator&&(u=[u,br(t.separator.keyword),dr(t.separator.value)].filter(vr).join(" "));var c=o?"WITHIN GROUP (".concat(st(o,"order by"),")"):"",l=e?"FILTER (WHERE ".concat(ut(e.where),")"):"";return["".concat(a,"(").concat(u,")"),c,s,l].filter(vr).join(" ")},any_value:function(r){var t=r.args,e=r.type,n=r.over,o=t.expr,u=t.having,a="".concat(br(e),"(").concat(ut(o));return u&&(a="".concat(a," HAVING ").concat(br(u.prefix)," ").concat(ut(u.expr))),[a="".concat(a,")"),y(n)].filter(vr).join(" ")},window_func:function(r){var t=r.over;return[d(r),y(t)].filter(vr).join(" ")},array:tt,assign:Fr,binary_expr:m,case:function(r){var t=["CASE"],e=r.args;r.expr&&t.push(ut(r.expr));for(var n=0,o=e.length;n<o;++n)t.push(e[n].type.toUpperCase()),e[n].cond&&(t.push(ut(e[n].cond)),t.push("THEN")),t.push(ut(e[n].result));return t.push("END"),t.join(" ")},cast:h,column_ref:Y,datatype:wr,extract:function(r){var t=r.args,e=r.type,n=t.field,o=t.cast_type,u=t.source,a=["".concat(br(e),"(").concat(br(n)),"FROM",br(o),ut(u)];return"".concat(a.filter(vr).join(" "),")")},flatten:function(r){var t=r.args,e=r.type,n=["input","path","outer","recursive","mode"].map((function(r){return function(r){if(!r)return"";var t=r.type,e=r.symbol,n=r.value;return[br(t),e,ut(n)].filter(vr).join(" ")}(t[r])})).filter(vr).join(", ");return"".concat(br(e),"(").concat(n,")")},fulltext_search:function(r){var t=r.against,e=r.as,n=r.columns,o=r.match,u=r.mode;return[[br(o),"(".concat(n.map((function(r){return Y(r)})).join(", "),")")].join(" "),[br(t),["(",ut(r.expr),u&&" ".concat(dr(u)),")"].filter(vr).join("")].join(" "),K(e)].filter(vr).join(" ")},function:w,insert:Wr,interval:M,show:$r,struct:tt,tables:H,unnest:D,window:function(r){return r.expr.map(v).join(", ")}};function ot(r){var t=r.prefix,e=void 0===t?"@":t,n=r.name,o=r.members,u=r.keyword,a=r.quoted,s=r.suffix,i=[];u&&i.push(u);var c=o&&o.length>0?"".concat(n,".").concat(o.join(".")):n,l="".concat(e||"").concat(c);return s&&(l+=s),i.push(l),[a,i.join(" "),a].filter(vr).join("")}function ut(r){if(r){var t=r;if(r.ast){var e=t.ast;Reflect.deleteProperty(t,e);for(var n=0,o=Object.keys(e);n<o.length;n++){var u=o[n];t[u]=e[u]}}return nt[t.type]?nt[t.type](t):dr(t)}}function at(r){return r?r.map(ut):[]}function st(r,t){if(!Array.isArray(r))return"";var e=[],n=br(t);switch(n){case"ORDER BY":e=r.map((function(r){return[ut(r.expr),r.type||"ASC",br(r.nulls)].filter(vr).join(" ")}));break;case"PARTITION BY":default:e=r.map((function(r){return ut(r.expr)}))}return nr(n,e.join(", "))}nt.var=ot,nt.expr_list=function(r){var t=at(r.value);return r.parentheses?"(".concat(t.join(", "),")"):t},nt.select=function(r){var t="object"===et(r._next)?Wr(r):S(r);return r.parentheses?"(".concat(t,")"):t},nt.unary_expr=function(r){var t=r.operator,e=r.parentheses,n=r.expr,o="-"===t||"+"===t?"":" ",u="".concat(t).concat(o).concat(ut(n));return e?"(".concat(u,")"):u};var it=e(0);function ct(r){return(ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(r)}var lt,ft,pt,bt=(lt={},ft="bigquery",pt=it.parse,(ft=function(r){var t=function(r,t){if("object"!==ct(r)||null===r)return r;var e=r[Symbol.toPrimitive];if(void 0!==e){var n=e.call(r,t||"default");if("object"!==ct(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(r)}(r,"string");return"symbol"===ct(t)?t:String(t)}(ft))in lt?Object.defineProperty(lt,ft,{value:pt,enumerable:!0,configurable:!0,writable:!0}):lt[ft]=pt,lt);function vt(r){return(vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(r)}function dt(r,t){var e="undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(!e){if(Array.isArray(r)||(e=function(r,t){if(!r)return;if("string"==typeof r)return yt(r,t);var e=Object.prototype.toString.call(r).slice(8,-1);"Object"===e&&r.constructor&&(e=r.constructor.name);if("Map"===e||"Set"===e)return Array.from(r);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return yt(r,t)}(r))||t&&r&&"number"==typeof r.length){e&&(r=e);var n=0,o=function(){};return{s:o,n:function(){return n>=r.length?{done:!0}:{done:!1,value:r[n++]}},e:function(r){throw r},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var u,a=!0,s=!1;return{s:function(){e=e.call(r)},n:function(){var r=e.next();return a=r.done,r},e:function(r){s=!0,u=r},f:function(){try{a||null==e.return||e.return()}finally{if(s)throw u}}}}function yt(r,t){(null==t||t>r.length)&&(t=r.length);for(var e=0,n=new Array(t);e<t;e++)n[e]=r[e];return n}function ht(r,t){for(var e=0;e<t.length;e++){var n=t[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,wt(n.key),n)}}function wt(r){var t=function(r,t){if("object"!==vt(r)||null===r)return r;var e=r[Symbol.toPrimitive];if(void 0!==e){var n=e.call(r,t||"default");if("object"!==vt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(r)}(r,"string");return"symbol"===vt(t)?t:String(t)}var mt=function(){function r(){!function(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r)}var t,e,n;return t=r,(e=[{key:"astify",value:function(r){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:rr,e=this.parse(r,t);return e&&e.ast}},{key:"sqlify",value:function(r){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:rr;return ir(t),xr(r)}},{key:"exprToSQL",value:function(r){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:rr;return ir(t),ut(r)}},{key:"parse",value:function(r){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:rr,e=t.database,n=void 0===e?"bigquery":e;ir(t);var o=n.toLowerCase();if(bt[o])return bt[o](r.trim());throw new Error("".concat(n," is not supported currently"))}},{key:"whiteListCheck",value:function(r,t){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:rr;if(t&&0!==t.length){var n=e.type,o=void 0===n?"table":n;if(!this["".concat(o,"List")]||"function"!=typeof this["".concat(o,"List")])throw new Error("".concat(o," is not valid check mode"));var u,a=this["".concat(o,"List")].bind(this),s=a(r,e),i=!0,c="",l=dt(s);try{for(l.s();!(u=l.n()).done;){var f,p=u.value,b=!1,v=dt(t);try{for(v.s();!(f=v.n()).done;){var d=f.value,y=new RegExp(d,"i");if(y.test(p)){b=!0;break}}}catch(r){v.e(r)}finally{v.f()}if(!b){c=p,i=!1;break}}}catch(r){l.e(r)}finally{l.f()}if(!i)throw new Error("authority = '".concat(c,"' is required in ").concat(o," whiteList to execute SQL = '").concat(r,"'"))}}},{key:"tableList",value:function(r,t){var e=this.parse(r,t);return e&&e.tableList}},{key:"columnList",value:function(r,t){var e=this.parse(r,t);return e&&e.columnList}}])&&ht(t.prototype,e),n&&ht(t,n),Object.defineProperty(t,"prototype",{writable:!1}),r}();function Lt(r){return(Lt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(r)}"object"===("undefined"==typeof self?"undefined":Lt(self))&&self&&(self.NodeSQLParser={Parser:mt,util:n}),!global&&"object"===("undefined"==typeof window?"undefined":Lt(window))&&window&&(window.global=window),"object"===("undefined"==typeof global?"undefined":Lt(global))&&global&&global.window&&(global.window.NodeSQLParser={Parser:mt,util:n})}]));
//# sourceMappingURL=bigquery.js.map