"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.generateSitemap = void 0;
const utils_1 = require("./utils");
async function generateSitemap(request, routes, options) {
    const { siteUrl, headers } = options;
    const sitemap = await (0, utils_1.getSitemapXml)(request, routes, { siteUrl });
    const bytes = new TextEncoder().encode(sitemap).byteLength;
    return new Response(sitemap, {
        headers: {
            ...headers,
            "Content-Type": "application/xml",
            "Content-Length": String(bytes),
        },
    });
}
exports.generateSitemap = generateSitemap;
